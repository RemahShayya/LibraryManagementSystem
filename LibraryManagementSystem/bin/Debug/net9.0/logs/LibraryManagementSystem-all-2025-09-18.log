2025-09-18 11:23:22.4839|0|DEBUG|LibraryManagementSystem.API.Program|init main 
2025-09-18 11:23:23.2797|0|INFO|LibraryManagementSystem.API.Program|✅ Test log: Application started 
2025-09-18 11:23:25.4035|12|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider 
2025-09-18 11:23:25.5691|1|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting starting 
2025-09-18 11:23:25.6373|63|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\Remah\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
2025-09-18 11:23:25.6624|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\Remah\AppData\Local\ASP.NET\DataProtection-Keys\key-0eadaaaa-7e78-4b9a-b5c6-d6842d7acf5d.xml'. 
2025-09-18 11:23:25.7154|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\Remah\AppData\Local\ASP.NET\DataProtection-Keys\key-90e9434f-347d-4778-9235-65398a291d04.xml'. 
2025-09-18 11:23:25.7481|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {0eadaaaa-7e78-4b9a-b5c6-d6842d7acf5d}. 
2025-09-18 11:23:25.7606|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {90e9434f-347d-4778-9235-65398a291d04}. 
2025-09-18 11:23:25.7799|13|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver|Considering key {0eadaaaa-7e78-4b9a-b5c6-d6842d7acf5d} with expiration date 2025-10-28 11:37:33Z as default key. 
2025-09-18 11:23:25.7883|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2025-09-18 11:23:25.7883|51|DEBUG|Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor|Decrypting secret element using Windows DPAPI. 
2025-09-18 11:23:25.7994|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2025-09-18 11:23:25.7994|4|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC. 
2025-09-18 11:23:25.7994|3|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC. 
2025-09-18 11:23:25.7994|2|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider|Using key {0eadaaaa-7e78-4b9a-b5c6-d6842d7acf5d} as the default key. 
2025-09-18 11:23:25.7994|65|DEBUG|Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService|Key ring with default key {0eadaaaa-7e78-4b9a-b5c6-d6842d7acf5d} was loaded during application startup. 
2025-09-18 11:23:25.8237|0|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BlazorWasmHotReloadMiddleware|Middleware loaded 
2025-09-18 11:23:25.8237|0|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserScriptMiddleware|Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16539 B). 
2025-09-18 11:23:25.8237|0|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserScriptMiddleware|Middleware loaded. Script /_framework/blazor-hotreload.js (799 B). 
2025-09-18 11:23:25.9641|7|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True} 
2025-09-18 11:23:25.9641|0|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Wildcard detected, all requests with hosts will be allowed. 
2025-09-18 11:23:25.9905|0|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware|Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true 
2025-09-18 11:23:26.1743|14|INFO|Microsoft.Hosting.Lifetime|Now listening on: https://localhost:7143 
2025-09-18 11:23:26.1813|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHIHU37GA" accepted. 
2025-09-18 11:23:26.1813|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHIHU37GA" started. 
2025-09-18 11:23:26.1813|14|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5223 
2025-09-18 11:23:26.1813|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly LibraryManagementSystem.API 
2025-09-18 11:23:26.1813|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery 
2025-09-18 11:23:26.1813|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh 
2025-09-18 11:23:26.1813|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net 
2025-09-18 11:23:26.2214|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHIHU37GB" accepted. 
2025-09-18 11:23:26.2217|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHIHU37GB" started. 
2025-09-18 11:23:26.2217|2|DEBUG|Microsoft.AspNetCore.Mvc.ApiExplorer.ApiDescriptionGroupCollectionProvider|Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0. 
2025-09-18 11:23:26.2217|2|DEBUG|Microsoft.AspNetCore.Mvc.ApiExplorer.ApiDescriptionGroupCollectionProvider|Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0. 
2025-09-18 11:23:26.3273|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMHIHU37GA" received FIN. 
2025-09-18 11:23:26.3439|0|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down. 
2025-09-18 11:23:26.3439|0|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development 
2025-09-18 11:23:26.3439|0|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\Remah\Desktop\AST\Projects\LibraryManagementSystem\LibraryManagementSystem 
2025-09-18 11:23:26.3439|3|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Connection 0HNFMHIHU37GB established using the following protocol: Tls13 
2025-09-18 11:23:26.3439|3|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Connection 0HNFMHIHU37GA established using the following protocol: Tls13 
2025-09-18 11:23:26.3439|2|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting started 
2025-09-18 11:23:26.3760|48|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHIHU37GA" is closed. The last processed stream ID was 0. 
2025-09-18 11:23:26.3760|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMHIHU37GA" sending FIN because: "The Socket transport's send loop completed gracefully." 
2025-09-18 11:23:26.3795|62|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Http2|The connection queue processing loop for 0HNFMHIHU37GA completed. 
2025-09-18 11:23:26.3795|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHIHU37GB" sending SETTINGS frame for stream ID 0 with length 24 and flags NONE. 
2025-09-18 11:23:26.3795|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHIHU37GA" stopped. 
2025-09-18 11:23:26.3795|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHIHU37GB" sending WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2025-09-18 11:23:26.3795|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHIHU37GB" received SETTINGS frame for stream ID 0 with length 24 and flags NONE. 
2025-09-18 11:23:26.3795|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHIHU37GB" sending SETTINGS frame for stream ID 0 with length 0 and flags ACK. 
2025-09-18 11:23:26.3795|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHIHU37GB" received WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2025-09-18 11:23:26.3795|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHIHU37GB" received HEADERS frame for stream ID 1 with length 538 and flags END_STREAM, END_HEADERS, PRIORITY. 
2025-09-18 11:23:26.4104|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHIHU37GB" received SETTINGS frame for stream ID 0 with length 0 and flags ACK. 
2025-09-18 11:23:26.4359|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7143/scalar/ - - - 
2025-09-18 11:23:27.1434|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 11:23:27.2393|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/scalar/' 
2025-09-18 11:23:27.2393|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'HTTP: GET /scalar/{documentName?}' with route pattern '/scalar/{documentName?}' is valid for the request path '/scalar/' 
2025-09-18 11:23:27.2393|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'HTTP: GET /scalar/{documentName?}' 
2025-09-18 11:23:27.2393|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 11:23:27.3498|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2025-09-18 11:23:27.3498|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'HTTP: GET /scalar/{documentName?}' 
2025-09-18 11:23:27.4278|2|INFO|Microsoft.AspNetCore.Http.Result.ContentResult|Write content with HTTP Response ContentType of text/html 
2025-09-18 11:23:27.4278|1|DEBUG|Microsoft.WebTools.BrowserLink.Net.BrowserLinkMiddleware|Response markup is scheduled to include Browser Link script injection. 
2025-09-18 11:23:27.4278|1|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware|Response markup is scheduled to include browser refresh script injection. 
2025-09-18 11:23:27.4278|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHIHU37GB" sending HEADERS frame for stream ID 1 with length 52 and flags END_HEADERS. 
2025-09-18 11:23:27.4405|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHIHU37GB" sending DATA frame for stream ID 1 with length 882 and flags NONE. 
2025-09-18 11:23:27.4405|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'HTTP: GET /scalar/{documentName?}' 
2025-09-18 11:23:27.4405|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHIHU37GB" sending DATA frame for stream ID 1 with length 437 and flags NONE. 
2025-09-18 11:23:27.4405|2|DEBUG|Microsoft.WebTools.BrowserLink.Net.BrowserLinkMiddleware|Response markup was updated to include Browser Link script injection. 
2025-09-18 11:23:27.4405|2|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware|Response markup was updated to include browser refresh script injection. 
2025-09-18 11:23:27.4605|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7143/scalar/ - 200 - text/html 1032.5128ms 
2025-09-18 11:23:27.4605|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHIHU37GB" sending DATA frame for stream ID 1 with length 0 and flags END_STREAM. 
2025-09-18 11:23:27.5024|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHIHU37GB" received HEADERS frame for stream ID 3 with length 109 and flags END_STREAM, END_HEADERS, PRIORITY. 
2025-09-18 11:23:27.5040|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHIHU37GB" received HEADERS frame for stream ID 5 with length 54 and flags END_STREAM, END_HEADERS, PRIORITY. 
2025-09-18 11:23:27.5040|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHIHU37GB" received HEADERS frame for stream ID 7 with length 60 and flags END_STREAM, END_HEADERS, PRIORITY. 
2025-09-18 11:23:27.5040|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHIHU37GB" received HEADERS frame for stream ID 9 with length 75 and flags END_STREAM, END_HEADERS, PRIORITY. 
2025-09-18 11:23:27.5040|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7143/scalar/scalar.js - - - 
2025-09-18 11:23:27.5040|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 11:23:27.5040|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7143/_vs/browserLink - - - 
2025-09-18 11:23:27.5040|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7143/_framework/aspnetcore-browser-refresh.js - - - 
2025-09-18 11:23:27.5040|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|2 candidate(s) found for the request path '/scalar/scalar.js' 
2025-09-18 11:23:27.5040|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7143/scalar/scalar.aspnetcore.js - - - 
2025-09-18 11:23:27.5040|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'HTTP: GET /scalar/scalar.js' with route pattern '/scalar/scalar.js' is valid for the request path '/scalar/scalar.js' 
2025-09-18 11:23:27.5040|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'HTTP: GET /scalar/{documentName?}' with route pattern '/scalar/{documentName?}' is valid for the request path '/scalar/scalar.js' 
2025-09-18 11:23:27.5040|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 11:23:27.5040|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|2 candidate(s) found for the request path '/scalar/scalar.aspnetcore.js' 
2025-09-18 11:23:27.5040|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'HTTP: GET /scalar/scalar.aspnetcore.js' with route pattern '/scalar/scalar.aspnetcore.js' is valid for the request path '/scalar/scalar.aspnetcore.js' 
2025-09-18 11:23:27.5040|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'HTTP: GET /scalar/scalar.js' 
2025-09-18 11:23:27.5040|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'HTTP: GET /scalar/{documentName?}' with route pattern '/scalar/{documentName?}' is valid for the request path '/scalar/scalar.aspnetcore.js' 
2025-09-18 11:23:27.5040|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'HTTP: GET /scalar/scalar.aspnetcore.js' 
2025-09-18 11:23:27.5040|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 11:23:27.5040|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 11:23:27.5040|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2025-09-18 11:23:27.5040|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2025-09-18 11:23:27.5040|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'HTTP: GET /scalar/scalar.js' 
2025-09-18 11:23:27.5040|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'HTTP: GET /scalar/scalar.aspnetcore.js' 
2025-09-18 11:23:27.5346|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHIHU37GB" sending HEADERS frame for stream ID 3 with length 60 and flags END_HEADERS. 
2025-09-18 11:23:27.5346|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHIHU37GB" sending DATA frame for stream ID 3 with length 16384 and flags NONE. 
2025-09-18 11:23:27.5346|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHIHU37GB" sending DATA frame for stream ID 3 with length 155 and flags NONE. 
2025-09-18 11:23:27.5747|0|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserScriptMiddleware|Script injected: /_framework/aspnetcore-browser-refresh.js 
2025-09-18 11:23:27.5747|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7143/_framework/aspnetcore-browser-refresh.js - 200 16539 application/javascript;+charset=utf-8 71.2029ms 
2025-09-18 11:23:27.5747|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHIHU37GB" sending DATA frame for stream ID 3 with length 0 and flags END_STREAM. 
2025-09-18 11:23:27.5747|1|INFO|Microsoft.AspNetCore.Http.Result.StatusCodeResult|Setting HTTP status code 304. 
2025-09-18 11:23:27.5747|1|INFO|Microsoft.AspNetCore.Http.Result.StatusCodeResult|Setting HTTP status code 304. 
2025-09-18 11:23:27.5747|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'HTTP: GET /scalar/scalar.aspnetcore.js' 
2025-09-18 11:23:27.5747|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'HTTP: GET /scalar/scalar.js' 
2025-09-18 11:23:27.5747|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7143/scalar/scalar.aspnetcore.js - 304 - - 73.8356ms 
2025-09-18 11:23:27.5747|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7143/scalar/scalar.js - 304 - - 75.1760ms 
2025-09-18 11:23:27.5747|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHIHU37GB" sending HEADERS frame for stream ID 5 with length 30 and flags END_STREAM, END_HEADERS. 
2025-09-18 11:23:27.5747|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHIHU37GB" sending HEADERS frame for stream ID 9 with length 5 and flags END_STREAM, END_HEADERS. 
2025-09-18 11:23:27.6374|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHIHU37GB" sending HEADERS frame for stream ID 7 with length 119 and flags END_HEADERS. 
2025-09-18 11:23:27.6374|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHIHU37GB" sending DATA frame for stream ID 7 with length 9986 and flags NONE. 
2025-09-18 11:23:27.6374|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHIHU37GB" sending DATA frame for stream ID 7 with length 10240 and flags NONE. 
2025-09-18 11:23:27.6374|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHIHU37GB" sending DATA frame for stream ID 7 with length 10240 and flags NONE. 
2025-09-18 11:23:27.6374|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHIHU37GB" sending DATA frame for stream ID 7 with length 10240 and flags NONE. 
2025-09-18 11:23:27.6374|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHIHU37GB" sending DATA frame for stream ID 7 with length 10240 and flags NONE. 
2025-09-18 11:23:27.6374|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHIHU37GB" sending DATA frame for stream ID 7 with length 10240 and flags NONE. 
2025-09-18 11:23:27.6374|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHIHU37GB" sending DATA frame for stream ID 7 with length 10240 and flags NONE. 
2025-09-18 11:23:27.6439|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHIHU37GB" sending DATA frame for stream ID 7 with length 10240 and flags NONE. 
2025-09-18 11:23:27.6439|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHIHU37GB" sending DATA frame for stream ID 7 with length 10240 and flags NONE. 
2025-09-18 11:23:27.6439|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHIHU37GB" sending DATA frame for stream ID 7 with length 10240 and flags NONE. 
2025-09-18 11:23:27.6439|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHIHU37GB" sending DATA frame for stream ID 7 with length 10240 and flags NONE. 
2025-09-18 11:23:27.6439|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHIHU37GB" sending DATA frame for stream ID 7 with length 10240 and flags NONE. 
2025-09-18 11:23:27.6439|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHIHU37GB" sending DATA frame for stream ID 7 with length 10240 and flags NONE. 
2025-09-18 11:23:27.6439|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHIHU37GB" sending DATA frame for stream ID 7 with length 10240 and flags NONE. 
2025-09-18 11:23:27.6439|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHIHU37GB" sending DATA frame for stream ID 7 with length 10240 and flags NONE. 
2025-09-18 11:23:27.6439|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHIHU37GB" sending DATA frame for stream ID 7 with length 1806 and flags NONE. 
2025-09-18 11:23:27.6439|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHIHU37GB" sending DATA frame for stream ID 7 with length 0 and flags END_STREAM. 
2025-09-18 11:23:27.6439|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7143/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 142.2933ms 
2025-09-18 11:23:28.0473|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHIHU37GB" received HEADERS frame for stream ID 11 with length 48 and flags END_STREAM, END_HEADERS, PRIORITY. 
2025-09-18 11:23:28.0473|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7143/openapi/v1.json - - - 
2025-09-18 11:23:28.0473|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 11:23:28.0473|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/openapi/v1.json' 
2025-09-18 11:23:28.0473|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'HTTP: GET /openapi/{documentName}.json' with route pattern '/openapi/{documentName}.json' is valid for the request path '/openapi/v1.json' 
2025-09-18 11:23:28.0473|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'HTTP: GET /openapi/{documentName}.json' 
2025-09-18 11:23:28.0473|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 11:23:28.0538|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2025-09-18 11:23:28.0538|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'HTTP: GET /openapi/{documentName}.json' 
2025-09-18 11:23:28.4177|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHIHU37GB" sending HEADERS frame for stream ID 11 with length 65 and flags END_HEADERS. 
2025-09-18 11:23:28.4177|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHIHU37GB" sending DATA frame for stream ID 11 with length 16384 and flags NONE. 
2025-09-18 11:23:28.4177|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHIHU37GB" sending DATA frame for stream ID 11 with length 16384 and flags NONE. 
2025-09-18 11:23:28.4177|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHIHU37GB" sending DATA frame for stream ID 11 with length 16384 and flags NONE. 
2025-09-18 11:23:28.4177|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHIHU37GB" sending DATA frame for stream ID 11 with length 9307 and flags NONE. 
2025-09-18 11:23:28.4177|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'HTTP: GET /openapi/{documentName}.json' 
2025-09-18 11:23:28.4258|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7143/openapi/v1.json - 200 - application/json;charset=utf-8 378.0504ms 
2025-09-18 11:23:28.4258|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHIHU37GB" sending DATA frame for stream ID 11 with length 0 and flags END_STREAM. 
2025-09-18 11:23:28.4258|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHIHU37GB" received HEADERS frame for stream ID 13 with length 35 and flags END_STREAM, END_HEADERS, PRIORITY. 
2025-09-18 11:23:28.4258|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7143/openapi/v1.json - - - 
2025-09-18 11:23:28.4258|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 11:23:28.4258|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/openapi/v1.json' 
2025-09-18 11:23:28.4258|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'HTTP: GET /openapi/{documentName}.json' with route pattern '/openapi/{documentName}.json' is valid for the request path '/openapi/v1.json' 
2025-09-18 11:23:28.4258|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'HTTP: GET /openapi/{documentName}.json' 
2025-09-18 11:23:28.4258|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 11:23:28.4258|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2025-09-18 11:23:28.4258|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'HTTP: GET /openapi/{documentName}.json' 
2025-09-18 11:23:28.4821|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHIHU37GB" sending HEADERS frame for stream ID 13 with length 4 and flags END_HEADERS. 
2025-09-18 11:23:28.4821|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHIHU37GB" sending DATA frame for stream ID 13 with length 16384 and flags NONE. 
2025-09-18 11:23:28.4821|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHIHU37GB" sending DATA frame for stream ID 13 with length 16384 and flags NONE. 
2025-09-18 11:23:28.4821|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHIHU37GB" sending DATA frame for stream ID 13 with length 16384 and flags NONE. 
2025-09-18 11:23:28.4821|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHIHU37GB" sending DATA frame for stream ID 13 with length 9307 and flags NONE. 
2025-09-18 11:23:28.4873|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'HTTP: GET /openapi/{documentName}.json' 
2025-09-18 11:23:28.4873|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7143/openapi/v1.json - 200 - application/json;charset=utf-8 60.9061ms 
2025-09-18 11:23:28.4873|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHIHU37GB" sending DATA frame for stream ID 13 with length 0 and flags END_STREAM. 
2025-09-18 11:23:29.2456|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHIHU37GB" received HEADERS frame for stream ID 15 with length 88 and flags END_STREAM, END_HEADERS, PRIORITY. 
2025-09-18 11:23:29.2456|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7143/favicon.ico - - - 
2025-09-18 11:23:29.2456|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 11:23:29.2456|1000|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|No candidates found for the request path '/favicon.ico' 
2025-09-18 11:23:29.2456|2|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request did not match any endpoints 
2025-09-18 11:23:29.2456|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2025-09-18 11:23:29.2456|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7143/favicon.ico - 404 0 - 1.8758ms 
2025-09-18 11:23:29.2456|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHIHU37GB" sending HEADERS frame for stream ID 15 with length 37 and flags END_STREAM, END_HEADERS. 
2025-09-18 11:23:29.2532|16|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7143/favicon.ico, Response status code: 404 
2025-09-18 11:23:29.2532|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHIHU37GB" received HEADERS frame for stream ID 17 with length 32 and flags END_STREAM, END_HEADERS, PRIORITY. 
2025-09-18 11:23:29.2532|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7143/favicon.ico - - - 
2025-09-18 11:23:29.2532|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 11:23:29.2532|1000|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|No candidates found for the request path '/favicon.ico' 
2025-09-18 11:23:29.2532|2|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request did not match any endpoints 
2025-09-18 11:23:29.2532|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2025-09-18 11:23:29.2532|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7143/favicon.ico - 404 0 - 1.1805ms 
2025-09-18 11:23:29.2532|16|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7143/favicon.ico, Response status code: 404 
2025-09-18 11:23:29.2532|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHIHU37GB" sending HEADERS frame for stream ID 17 with length 7 and flags END_STREAM, END_HEADERS. 
2025-09-18 11:23:31.1135|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMHIHU37GB" received FIN. 
2025-09-18 11:23:31.1135|48|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHIHU37GB" is closed. The last processed stream ID was 17. 
2025-09-18 11:23:31.1135|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMHIHU37GB" sending FIN because: "The Socket transport's send loop completed gracefully." 
2025-09-18 11:23:31.1135|62|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Http2|The connection queue processing loop for 0HNFMHIHU37GB completed. 
2025-09-18 11:23:31.1135|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHIHU37GB" stopped. 
2025-09-18 11:23:50.5356|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHIHU37GC" accepted. 
2025-09-18 11:23:50.5356|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHIHU37GC" started. 
2025-09-18 11:23:50.5356|3|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Connection 0HNFMHIHU37GC established using the following protocol: Tls13 
2025-09-18 11:23:50.5356|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHIHU37GC" sending SETTINGS frame for stream ID 0 with length 24 and flags NONE. 
2025-09-18 11:23:50.5356|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHIHU37GC" sending WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2025-09-18 11:23:50.5356|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHIHU37GC" received SETTINGS frame for stream ID 0 with length 24 and flags NONE. 
2025-09-18 11:23:50.5356|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHIHU37GC" sending SETTINGS frame for stream ID 0 with length 0 and flags ACK. 
2025-09-18 11:23:50.5356|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHIHU37GC" received WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2025-09-18 11:23:50.5356|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHIHU37GC" received HEADERS frame for stream ID 1 with length 393 and flags END_STREAM, END_HEADERS, PRIORITY. 
2025-09-18 11:23:50.5356|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHIHU37GC" received SETTINGS frame for stream ID 0 with length 0 and flags ACK. 
2025-09-18 11:23:50.5356|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7143/api/BookRental - - - 
2025-09-18 11:23:50.5356|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 11:23:50.5356|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/BookRental' 
2025-09-18 11:23:50.5356|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.GetAllRentals (LibraryManagementSystem.API)' with route pattern 'api/BookRental' is valid for the request path '/api/BookRental' 
2025-09-18 11:23:50.5356|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.GetAllRentals (LibraryManagementSystem.API)' 
2025-09-18 11:23:50.5356|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 11:23:50.5356|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2025-09-18 11:23:50.5356|0|DEBUG|Microsoft.AspNetCore.Authorization.AuthorizationMiddleware|Policy authentication schemes  did not succeed 
2025-09-18 11:23:50.5496|2|INFO|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Customer) 
2025-09-18 11:23:50.5496|12|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was challenged. 
2025-09-18 11:23:50.5496|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7143/api/BookRental - 401 0 - 11.9878ms 
2025-09-18 11:23:50.5496|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHIHU37GC" sending HEADERS frame for stream ID 1 with length 57 and flags END_STREAM, END_HEADERS. 
2025-09-18 11:23:51.1375|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMHIHU37GC" received FIN. 
2025-09-18 11:23:51.1375|48|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHIHU37GC" is closed. The last processed stream ID was 1. 
2025-09-18 11:23:51.1375|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMHIHU37GC" sending FIN because: "The Socket transport's send loop completed gracefully." 
2025-09-18 11:23:51.1375|62|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Http2|The connection queue processing loop for 0HNFMHIHU37GC completed. 
2025-09-18 11:23:51.1375|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHIHU37GC" stopped. 
2025-09-18 11:23:54.1217|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHIHU37GD" accepted. 
2025-09-18 11:23:54.1217|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHIHU37GD" started. 
2025-09-18 11:23:54.1217|3|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Connection 0HNFMHIHU37GD established using the following protocol: Tls13 
2025-09-18 11:23:54.1217|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHIHU37GD" sending SETTINGS frame for stream ID 0 with length 24 and flags NONE. 
2025-09-18 11:23:54.1217|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHIHU37GD" sending WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2025-09-18 11:23:54.1217|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHIHU37GD" received SETTINGS frame for stream ID 0 with length 24 and flags NONE. 
2025-09-18 11:23:54.1217|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHIHU37GD" sending SETTINGS frame for stream ID 0 with length 0 and flags ACK. 
2025-09-18 11:23:54.1217|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHIHU37GD" received WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2025-09-18 11:23:54.1217|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHIHU37GD" received HEADERS frame for stream ID 1 with length 393 and flags END_STREAM, END_HEADERS, PRIORITY. 
2025-09-18 11:23:54.1217|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHIHU37GD" received SETTINGS frame for stream ID 0 with length 0 and flags ACK. 
2025-09-18 11:23:54.1217|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7143/api/BookRental - - - 
2025-09-18 11:23:54.1217|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 11:23:54.1217|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/BookRental' 
2025-09-18 11:23:54.1217|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.GetAllRentals (LibraryManagementSystem.API)' with route pattern 'api/BookRental' is valid for the request path '/api/BookRental' 
2025-09-18 11:23:54.1217|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.GetAllRentals (LibraryManagementSystem.API)' 
2025-09-18 11:23:54.1217|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 11:23:54.1217|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2025-09-18 11:23:54.1217|0|DEBUG|Microsoft.AspNetCore.Authorization.AuthorizationMiddleware|Policy authentication schemes  did not succeed 
2025-09-18 11:23:54.1217|2|INFO|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Customer) 
2025-09-18 11:23:54.1217|12|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was challenged. 
2025-09-18 11:23:54.1217|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHIHU37GD" sending HEADERS frame for stream ID 1 with length 57 and flags END_STREAM, END_HEADERS. 
2025-09-18 11:23:54.1217|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7143/api/BookRental - 401 0 - 1.7797ms 
2025-09-18 11:23:55.1210|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHIHU37GD" received HEADERS frame for stream ID 3 with length 34 and flags END_STREAM, END_HEADERS, PRIORITY. 
2025-09-18 11:23:55.1210|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7143/api/BookRental - - - 
2025-09-18 11:23:55.1210|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 11:23:55.1210|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/BookRental' 
2025-09-18 11:23:55.1210|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.GetAllRentals (LibraryManagementSystem.API)' with route pattern 'api/BookRental' is valid for the request path '/api/BookRental' 
2025-09-18 11:23:55.1210|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.GetAllRentals (LibraryManagementSystem.API)' 
2025-09-18 11:23:55.1210|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 11:23:55.1210|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2025-09-18 11:23:55.1210|0|DEBUG|Microsoft.AspNetCore.Authorization.AuthorizationMiddleware|Policy authentication schemes  did not succeed 
2025-09-18 11:23:55.1210|2|INFO|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Customer) 
2025-09-18 11:23:55.1210|12|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was challenged. 
2025-09-18 11:23:55.1210|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7143/api/BookRental - 401 0 - 1.9391ms 
2025-09-18 11:23:55.1210|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHIHU37GD" sending HEADERS frame for stream ID 3 with length 38 and flags END_STREAM, END_HEADERS. 
2025-09-18 11:24:01.1490|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMHIHU37GD" received FIN. 
2025-09-18 11:24:01.1490|48|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHIHU37GD" is closed. The last processed stream ID was 3. 
2025-09-18 11:24:01.1490|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHIHU37GD" sending GOAWAY frame for stream ID 0 with length 8 and flags 0x0. 
2025-09-18 11:24:01.1490|62|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Http2|The connection queue processing loop for 0HNFMHIHU37GD completed. 
2025-09-18 11:24:01.1490|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHIHU37GD" stopped. 
2025-09-18 11:24:01.1490|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMHIHU37GD" sending FIN because: "The Socket transport's send loop completed gracefully." 
2025-09-18 11:46:50.4009|0|DEBUG|LibraryManagementSystem.API.Program|init main 
2025-09-18 11:46:50.7813|0|INFO|LibraryManagementSystem.API.Program|✅ Test log: Application started 
2025-09-18 11:46:51.3916|12|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider 
2025-09-18 11:46:51.4702|1|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting starting 
2025-09-18 11:46:51.5007|63|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\Remah\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
2025-09-18 11:46:51.5098|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\Remah\AppData\Local\ASP.NET\DataProtection-Keys\key-0eadaaaa-7e78-4b9a-b5c6-d6842d7acf5d.xml'. 
2025-09-18 11:46:51.5098|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\Remah\AppData\Local\ASP.NET\DataProtection-Keys\key-90e9434f-347d-4778-9235-65398a291d04.xml'. 
2025-09-18 11:46:51.5206|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {0eadaaaa-7e78-4b9a-b5c6-d6842d7acf5d}. 
2025-09-18 11:46:51.5206|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {90e9434f-347d-4778-9235-65398a291d04}. 
2025-09-18 11:46:51.5206|13|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver|Considering key {0eadaaaa-7e78-4b9a-b5c6-d6842d7acf5d} with expiration date 2025-10-28 11:37:33Z as default key. 
2025-09-18 11:46:51.5206|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2025-09-18 11:46:51.5351|51|DEBUG|Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor|Decrypting secret element using Windows DPAPI. 
2025-09-18 11:46:51.5351|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2025-09-18 11:46:51.5351|4|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC. 
2025-09-18 11:46:51.5351|3|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC. 
2025-09-18 11:46:51.5351|2|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider|Using key {0eadaaaa-7e78-4b9a-b5c6-d6842d7acf5d} as the default key. 
2025-09-18 11:46:51.5351|65|DEBUG|Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService|Key ring with default key {0eadaaaa-7e78-4b9a-b5c6-d6842d7acf5d} was loaded during application startup. 
2025-09-18 11:46:51.5351|0|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BlazorWasmHotReloadMiddleware|Middleware loaded 
2025-09-18 11:46:51.5351|0|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserScriptMiddleware|Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16539 B). 
2025-09-18 11:46:51.5351|0|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserScriptMiddleware|Middleware loaded. Script /_framework/blazor-hotreload.js (799 B). 
2025-09-18 11:46:51.5976|7|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True} 
2025-09-18 11:46:51.5976|0|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Wildcard detected, all requests with hosts will be allowed. 
2025-09-18 11:46:51.5976|0|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware|Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true 
2025-09-18 11:46:51.6878|14|INFO|Microsoft.Hosting.Lifetime|Now listening on: https://localhost:7143 
2025-09-18 11:46:51.6935|14|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5223 
2025-09-18 11:46:51.6935|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly LibraryManagementSystem.API 
2025-09-18 11:46:51.6935|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery 
2025-09-18 11:46:51.6935|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh 
2025-09-18 11:46:51.6935|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net 
2025-09-18 11:46:51.6935|2|DEBUG|Microsoft.AspNetCore.Mvc.ApiExplorer.ApiDescriptionGroupCollectionProvider|Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0. 
2025-09-18 11:46:51.6935|2|DEBUG|Microsoft.AspNetCore.Mvc.ApiExplorer.ApiDescriptionGroupCollectionProvider|Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0. 
2025-09-18 11:46:51.7334|0|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down. 
2025-09-18 11:46:51.7334|0|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development 
2025-09-18 11:46:51.7334|0|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\Remah\Desktop\AST\Projects\LibraryManagementSystem\LibraryManagementSystem 
2025-09-18 11:46:51.7334|2|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting started 
2025-09-18 11:46:54.4636|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH18A" accepted. 
2025-09-18 11:46:54.4636|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH18A" started. 
2025-09-18 11:46:54.5191|3|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Connection 0HNFMHVLKH18A established using the following protocol: Tls13 
2025-09-18 11:46:54.5391|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH18A" sending SETTINGS frame for stream ID 0 with length 24 and flags NONE. 
2025-09-18 11:46:54.5391|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH18A" sending WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2025-09-18 11:46:54.5391|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH18A" received SETTINGS frame for stream ID 0 with length 24 and flags NONE. 
2025-09-18 11:46:54.5391|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH18A" sending SETTINGS frame for stream ID 0 with length 0 and flags ACK. 
2025-09-18 11:46:54.5391|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH18A" received WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2025-09-18 11:46:54.5391|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH18A" received HEADERS frame for stream ID 1 with length 436 and flags END_HEADERS, PRIORITY. 
2025-09-18 11:46:54.5561|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH18A" received DATA frame for stream ID 1 with length 66 and flags END_STREAM. 
2025-09-18 11:46:54.5561|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH18A" received SETTINGS frame for stream ID 0 with length 0 and flags ACK. 
2025-09-18 11:46:54.5720|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:7143/api/Account/Login - application/json 66 
2025-09-18 11:46:54.5837|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 11:46:54.6203|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/Account/Login' 
2025-09-18 11:46:54.6203|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'LibraryManagementSystem.API.Controllers.AccountController.login (LibraryManagementSystem.API)' with route pattern 'api/Account/Login' is valid for the request path '/api/Account/Login' 
2025-09-18 11:46:54.6203|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'LibraryManagementSystem.API.Controllers.AccountController.login (LibraryManagementSystem.API)' 
2025-09-18 11:46:54.6203|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 11:46:54.6793|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2025-09-18 11:46:54.6793|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'LibraryManagementSystem.API.Controllers.AccountController.login (LibraryManagementSystem.API)' 
2025-09-18 11:46:54.7252|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[LibraryManagementSystem.Data.DTO.UserDTO]] login(LibraryManagementSystem.API.DTO.Requests.CreateLoginRequest) on controller LibraryManagementSystem.API.Controllers.AccountController (LibraryManagementSystem.API). 
2025-09-18 11:46:54.7252|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2025-09-18 11:46:54.7252|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2025-09-18 11:46:54.7252|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2025-09-18 11:46:54.7252|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2025-09-18 11:46:54.7252|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2025-09-18 11:46:54.7252|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller LibraryManagementSystem.API.Controllers.AccountController (LibraryManagementSystem.API) 
2025-09-18 11:46:54.8677|10401|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|An 'IServiceProvider' was created for internal use by Entity Framework. 
2025-09-18 11:46:54.8987|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller LibraryManagementSystem.API.Controllers.AccountController (LibraryManagementSystem.API) 
2025-09-18 11:46:54.8987|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'request' of type 'LibraryManagementSystem.API.DTO.Requests.CreateLoginRequest' ... 
2025-09-18 11:46:54.9091|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Attempting to bind parameter 'request' of type 'LibraryManagementSystem.API.DTO.Requests.CreateLoginRequest' using the name '' in request data ... 
2025-09-18 11:46:54.9091|1|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'. 
2025-09-18 11:46:54.9091|25|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HNFMHVLKH18A", Request id "0HNFMHVLKH18A:00000001": started reading request body. 
2025-09-18 11:46:54.9091|26|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HNFMHVLKH18A", Request id "0HNFMHVLKH18A:00000001": done reading request body. 
2025-09-18 11:46:54.9091|2|DEBUG|Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter|JSON input formatter succeeded, deserializing to type 'LibraryManagementSystem.API.DTO.Requests.CreateLoginRequest' 
2025-09-18 11:46:54.9091|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Done attempting to bind parameter 'request' of type 'LibraryManagementSystem.API.DTO.Requests.CreateLoginRequest'. 
2025-09-18 11:46:54.9091|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'request' of type 'LibraryManagementSystem.API.DTO.Requests.CreateLoginRequest'. 
2025-09-18 11:46:54.9091|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'request' of type 'LibraryManagementSystem.API.DTO.Requests.CreateLoginRequest' ... 
2025-09-18 11:46:54.9253|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'request' of type 'LibraryManagementSystem.API.DTO.Requests.CreateLoginRequest'. 
2025-09-18 11:46:54.9253|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 11:46:54.9253|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 11:46:54.9253|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 11:46:54.9253|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 11:46:54.9253|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method LibraryManagementSystem.API.Controllers.AccountController.login (LibraryManagementSystem.API) - Validation state: Valid 
2025-09-18 11:46:54.9253|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method LibraryManagementSystem.API.Controllers.AccountController.login (LibraryManagementSystem.API) with arguments (LibraryManagementSystem.API.DTO.Requests.CreateLoginRequest) 
2025-09-18 11:46:55.2901|10601|DEBUG|Microsoft.EntityFrameworkCore.Model|The index {'BookId'} was not created on entity type 'BookCategory' as the properties are already covered by the index {'BookId', 'CategoryId'}. 
2025-09-18 11:46:55.2901|10601|DEBUG|Microsoft.EntityFrameworkCore.Model|The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}. 
2025-09-18 11:46:55.2901|10601|DEBUG|Microsoft.EntityFrameworkCore.Model|The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}. 
2025-09-18 11:46:55.4165|30000|WARN|Microsoft.EntityFrameworkCore.Model.Validation|No store type was specified for the decimal property 'Price' on entity type 'Book'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'. 
2025-09-18 11:46:55.4800|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 9.0.8 initialized 'LibraryContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.8' with options: EngineType=SqlServer  
2025-09-18 11:46:55.6307|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)' 
2025-09-18 11:46:55.8820|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: SingleQueryingEnumerable.Create<User>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.DateCreated (DateTime) Required, 3], [Property: User.Email (string) MaxLength(256), 4], [Property: User.EmailConfirmed (bool) Required, 5], [Property: User.FirstName (string) Required, 6], [Property: User.LastName (string) Required, 7], [Property: User.LockoutEnabled (bool) Required, 8], [Property: User.LockoutEnd (DateTimeOffset?), 9], [Property: User.NormalizedEmail (string) Index MaxLength(256), 10], [Property: User.NormalizedUserName (string) Index MaxLength(256), 11], [Property: User.PasswordHash (string), 12], [Property: User.PhoneNumber (string), 13], [Property: User.PhoneNumberConfirmed (bool) Required, 14], [Property: User.SecurityStamp (string), 15], [Property: User.TwoFactorEnabled (bool) Required, 16], [Property: User.UserName (string) MaxLength(256), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.DateCreated, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.DateCreated (DateTime) Required, 3], [Property: User.Email (string) MaxLength(256), 4], [Property: User.EmailConfirmed (bool) Required, 5], [Property: User.FirstName (string) Required, 6], [Property: User.LastName (string) Required, 7], [Property: User.LockoutEnabled (bool) Required, 8], [Property: User.LockoutEnd (DateTimeOffset?), 9], [Property: User.NormalizedEmail (string) Index MaxLength(256), 10], [Property: User.NormalizedUserName (string) Index MaxLength(256), 11], [Property: User.PasswordHash (string), 12], [Property: User.PhoneNumber (string), 13], [Property: User.PhoneNumberConfirmed (bool) Required, 14], [Property: User.SecurityStamp (string), 15], [Property: User.TwoFactorEnabled (bool) Required, 16], [Property: User.UserName (string) MaxLength(256), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.DateCreated, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            User entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                User instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(User);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Identity.User").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetString(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (User)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Identity.User")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Identity.User")]: 
                            {
                                return 
                                {
                                    User instance;
                                    instance = new User();
                                    instance.<Id>k__BackingField = dataReader.GetString(0);
                                    instance.<AccessFailedCount>k__BackingField = dataReader.GetInt32(1);
                                    instance.<ConcurrencyStamp>k__BackingField = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
                                    instance.<DateCreated>k__BackingField = dataReader.GetDateTime(3);
                                    instance.<Email>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                    instance.<EmailConfirmed>k__BackingField = dataReader.GetBoolean(5);
                                    instance.<FirstName>k__BackingField = dataReader.GetString(6);
                                    instance.<LastName>k__BackingField = dataReader.GetString(7);
                                    instance.<LockoutEnabled>k__BackingField = dataReader.GetBoolean(8);
                                    instance.<LockoutEnd>k__BackingField = dataReader.IsDBNull(9) ? default(DateTimeOffset?) : (DateTimeOffset?)dataReader.GetFieldValue<DateTimeOffset>(9);
                                    instance.<NormalizedEmail>k__BackingField = dataReader.IsDBNull(10) ? default(string) : dataReader.GetString(10);
                                    instance.<NormalizedUserName>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                    instance.<PasswordHash>k__BackingField = dataReader.IsDBNull(12) ? default(string) : dataReader.GetString(12);
                                    instance.<PhoneNumber>k__BackingField = dataReader.IsDBNull(13) ? default(string) : dataReader.GetString(13);
                                    instance.<PhoneNumberConfirmed>k__BackingField = dataReader.GetBoolean(14);
                                    instance.<SecurityStamp>k__BackingField = dataReader.IsDBNull(15) ? default(string) : dataReader.GetString(15);
                                    instance.<TwoFactorEnabled>k__BackingField = dataReader.GetBoolean(16);
                                    instance.<UserName>k__BackingField = dataReader.IsDBNull(17) ? default(string) : dataReader.GetString(17);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Identity.User")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(User)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: LibraryManagmentSystem.Data.LibraryContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)' 
2025-09-18 11:46:55.9262|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2025-09-18 11:46:55.9541|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (21ms). 
2025-09-18 11:46:55.9566|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 11:46:56.2266|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 11:46:56.2266|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2025-09-18 11:46:56.2266|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (3ms). 
2025-09-18 11:46:56.2412|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (12ms). 
2025-09-18 11:46:56.2412|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateCreated], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0 
2025-09-18 11:46:56.3550|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (108ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateCreated], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0 
2025-09-18 11:46:56.3829|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 11:46:56.4178|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 11:46:56.4178|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'LibraryDb' on server 'LAPTOP-4LPUPLC4' is being disposed after spending 64ms reading results. 
2025-09-18 11:46:56.4264|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 11:46:56.4264|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4' (5ms). 
2025-09-18 11:46:56.5769|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<Role>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)' 
2025-09-18 11:46:56.6442|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<string>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        string value1;
        value1 = dataReader.IsDBNull(0) ? default(string) : dataReader.GetString(0);
        return value1;
    }, 
    contextType: LibraryManagmentSystem.Data.LibraryContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)' 
2025-09-18 11:46:56.6442|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 11:46:56.6590|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 11:46:56.6590|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2025-09-18 11:46:56.6590|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2025-09-18 11:46:56.6590|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2025-09-18 11:46:56.6590|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-09-18 11:46:56.6825|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-09-18 11:46:56.6825|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 11:46:56.6825|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'LibraryDb' on server 'LAPTOP-4LPUPLC4' is being disposed after spending 0ms reading results. 
2025-09-18 11:46:56.6825|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 11:46:56.6825|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4' (0ms). 
2025-09-18 11:46:56.7400|103|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action method LibraryManagementSystem.API.Controllers.AccountController.login (LibraryManagementSystem.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 1801.1441ms. 
2025-09-18 11:46:56.7400|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 11:46:56.7400|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 11:46:56.7400|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 11:46:56.7400|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 11:46:56.7400|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 11:46:56.7400|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 11:46:56.7400|5|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult. 
2025-09-18 11:46:56.7400|11|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter 
2025-09-18 11:46:56.7400|4|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|No information found on request to perform content negotiation. 
2025-09-18 11:46:56.7400|8|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select an output formatter without using a content type as no explicit content types were specified for the response. 
2025-09-18 11:46:56.7400|10|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select the first formatter in the output formatters list which can write the result. 
2025-09-18 11:46:56.7400|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response. 
2025-09-18 11:46:56.7400|1|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'LibraryManagementSystem.Data.DTO.UserDTO'. 
2025-09-18 11:46:56.7528|6|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|After executing action result Microsoft.AspNetCore.Mvc.ObjectResult. 
2025-09-18 11:46:56.7528|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 11:46:56.7528|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 11:46:56.7528|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH18A" sending HEADERS frame for stream ID 1 with length 74 and flags END_HEADERS. 
2025-09-18 11:46:56.7528|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH18A" sending DATA frame for stream ID 1 with length 469 and flags NONE. 
2025-09-18 11:46:56.7528|105|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action LibraryManagementSystem.API.Controllers.AccountController.login (LibraryManagementSystem.API) in 2027.0869ms 
2025-09-18 11:46:56.7528|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'LibraryManagementSystem.API.Controllers.AccountController.login (LibraryManagementSystem.API)' 
2025-09-18 11:46:56.7528|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH18A" sending DATA frame for stream ID 1 with length 0 and flags END_STREAM. 
2025-09-18 11:46:56.7528|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'LibraryContext' disposed. 
2025-09-18 11:46:56.7528|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 11:46:56.7528|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2025-09-18 11:46:56.7528|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:7143/api/Account/Login - 200 - application/json;+charset=utf-8 2200.1502ms 
2025-09-18 11:47:58.4933|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMHVLKH18A" received FIN. 
2025-09-18 11:47:58.4933|48|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH18A" is closed. The last processed stream ID was 1. 
2025-09-18 11:47:58.4933|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMHVLKH18A" sending FIN because: "The Socket transport's send loop completed gracefully." 
2025-09-18 11:47:58.5051|62|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Http2|The connection queue processing loop for 0HNFMHVLKH18A completed. 
2025-09-18 11:47:58.5051|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH18A" stopped. 
2025-09-18 12:11:57.6576|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH18B" accepted. 
2025-09-18 12:11:57.6601|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH18B" started. 
2025-09-18 12:11:57.7467|3|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Connection 0HNFMHVLKH18B established using the following protocol: Tls13 
2025-09-18 12:11:57.7467|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH18B" sending SETTINGS frame for stream ID 0 with length 24 and flags NONE. 
2025-09-18 12:11:57.7467|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH18B" sending WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2025-09-18 12:11:57.7467|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH18B" received SETTINGS frame for stream ID 0 with length 24 and flags NONE. 
2025-09-18 12:11:57.7467|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH18B" sending SETTINGS frame for stream ID 0 with length 0 and flags ACK. 
2025-09-18 12:11:57.7467|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH18B" received WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2025-09-18 12:11:57.7467|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH18B" received HEADERS frame for stream ID 1 with length 393 and flags END_STREAM, END_HEADERS, PRIORITY. 
2025-09-18 12:11:57.7467|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH18B" received SETTINGS frame for stream ID 0 with length 0 and flags ACK. 
2025-09-18 12:11:57.7467|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7143/api/BookRental - - - 
2025-09-18 12:11:57.7537|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 12:11:57.7537|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/BookRental' 
2025-09-18 12:11:57.7537|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.GetAllRentals (LibraryManagementSystem.API)' with route pattern 'api/BookRental' is valid for the request path '/api/BookRental' 
2025-09-18 12:11:57.7537|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.GetAllRentals (LibraryManagementSystem.API)' 
2025-09-18 12:11:57.7537|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 12:11:57.7919|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2025-09-18 12:11:57.8380|0|DEBUG|Microsoft.AspNetCore.Authorization.AuthorizationMiddleware|Policy authentication schemes  did not succeed 
2025-09-18 12:11:57.8380|2|INFO|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Customer) 
2025-09-18 12:11:57.8484|12|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was challenged. 
2025-09-18 12:11:57.8484|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7143/api/BookRental - 401 0 - 97.0158ms 
2025-09-18 12:11:57.8484|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH18B" sending HEADERS frame for stream ID 1 with length 57 and flags END_STREAM, END_HEADERS. 
2025-09-18 12:12:10.9923|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMHVLKH18B" received FIN. 
2025-09-18 12:12:10.9923|48|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH18B" is closed. The last processed stream ID was 1. 
2025-09-18 12:12:10.9923|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMHVLKH18B" sending FIN because: "The Socket transport's send loop completed gracefully." 
2025-09-18 12:12:10.9923|62|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Http2|The connection queue processing loop for 0HNFMHVLKH18B completed. 
2025-09-18 12:12:10.9923|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH18B" stopped. 
2025-09-18 12:25:35.2600|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH18C" accepted. 
2025-09-18 12:25:35.2600|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH18C" started. 
2025-09-18 12:25:35.3377|3|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Connection 0HNFMHVLKH18C established using the following protocol: Tls13 
2025-09-18 12:25:35.3377|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH18C" sending SETTINGS frame for stream ID 0 with length 24 and flags NONE. 
2025-09-18 12:25:35.3377|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH18C" sending WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2025-09-18 12:25:35.3377|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH18C" received SETTINGS frame for stream ID 0 with length 24 and flags NONE. 
2025-09-18 12:25:35.3377|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH18C" sending SETTINGS frame for stream ID 0 with length 0 and flags ACK. 
2025-09-18 12:25:35.3377|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH18C" received WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2025-09-18 12:25:35.3377|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH18C" received HEADERS frame for stream ID 1 with length 741 and flags END_STREAM, END_HEADERS, PRIORITY. 
2025-09-18 12:25:35.3377|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH18C" received SETTINGS frame for stream ID 0 with length 0 and flags ACK. 
2025-09-18 12:25:35.3377|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7143/api/BookRental - - - 
2025-09-18 12:25:35.3377|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 12:25:35.3377|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/BookRental' 
2025-09-18 12:25:35.3377|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.GetAllRentals (LibraryManagementSystem.API)' with route pattern 'api/BookRental' is valid for the request path '/api/BookRental' 
2025-09-18 12:25:35.3377|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.GetAllRentals (LibraryManagementSystem.API)' 
2025-09-18 12:25:35.3377|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 12:25:35.3676|1|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Failed to validate the token. System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.ValidateAndGetOutputSize(ReadOnlySpan`1 strSpan, Int32 offset, Int32 length)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString, TryReadJwtClaim tryReadJwtClaim)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-09-18 12:25:35.3676|7|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string. 
2025-09-18 12:25:35.3676|0|DEBUG|Microsoft.AspNetCore.Authorization.AuthorizationMiddleware|Policy authentication schemes  did not succeed 
2025-09-18 12:25:35.3676|2|INFO|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Customer) 
2025-09-18 12:25:35.3821|12|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was challenged. 
2025-09-18 12:25:35.3821|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH18C" sending HEADERS frame for stream ID 1 with length 79 and flags END_STREAM, END_HEADERS. 
2025-09-18 12:25:35.3821|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7143/api/BookRental - 401 0 - 43.0889ms 
2025-09-18 12:26:16.2941|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH18C" received HEADERS frame for stream ID 3 with length 374 and flags END_STREAM, END_HEADERS, PRIORITY. 
2025-09-18 12:26:16.2941|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7143/api/BookRental - - - 
2025-09-18 12:26:16.2941|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 12:26:16.2941|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/BookRental' 
2025-09-18 12:26:16.2941|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.GetAllRentals (LibraryManagementSystem.API)' with route pattern 'api/BookRental' is valid for the request path '/api/BookRental' 
2025-09-18 12:26:16.2941|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.GetAllRentals (LibraryManagementSystem.API)' 
2025-09-18 12:26:16.2941|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 12:26:16.2941|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH18C" received PING frame for stream ID 0 with length 8 and flags NONE. 
2025-09-18 12:26:16.2941|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2025-09-18 12:26:16.2941|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH18C" sending PING frame for stream ID 0 with length 8 and flags ACK. 
2025-09-18 12:26:16.3056|0|DEBUG|Microsoft.AspNetCore.Authorization.AuthorizationMiddleware|Policy authentication schemes  did not succeed 
2025-09-18 12:26:16.3056|2|INFO|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Customer) 
2025-09-18 12:26:16.3056|12|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was challenged. 
2025-09-18 12:26:16.3056|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7143/api/BookRental - 401 0 - 6.4982ms 
2025-09-18 12:26:16.3056|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH18C" sending HEADERS frame for stream ID 3 with length 45 and flags END_STREAM, END_HEADERS. 
2025-09-18 12:26:18.0752|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH18C" received HEADERS frame for stream ID 5 with length 35 and flags END_STREAM, END_HEADERS, PRIORITY. 
2025-09-18 12:26:18.0913|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7143/api/BookRental - - - 
2025-09-18 12:26:18.0913|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 12:26:18.0913|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/BookRental' 
2025-09-18 12:26:18.0913|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.GetAllRentals (LibraryManagementSystem.API)' with route pattern 'api/BookRental' is valid for the request path '/api/BookRental' 
2025-09-18 12:26:18.0913|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.GetAllRentals (LibraryManagementSystem.API)' 
2025-09-18 12:26:18.0913|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 12:26:18.0913|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2025-09-18 12:26:18.0913|0|DEBUG|Microsoft.AspNetCore.Authorization.AuthorizationMiddleware|Policy authentication schemes  did not succeed 
2025-09-18 12:26:18.0913|2|INFO|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Customer) 
2025-09-18 12:26:18.0913|12|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was challenged. 
2025-09-18 12:26:18.0913|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7143/api/BookRental - 401 0 - 0.4602ms 
2025-09-18 12:26:18.0913|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH18C" sending HEADERS frame for stream ID 5 with length 38 and flags END_STREAM, END_HEADERS. 
2025-09-18 12:26:18.2738|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH18C" received HEADERS frame for stream ID 7 with length 35 and flags END_STREAM, END_HEADERS, PRIORITY. 
2025-09-18 12:26:18.2738|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7143/api/BookRental - - - 
2025-09-18 12:26:18.2738|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 12:26:18.2738|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/BookRental' 
2025-09-18 12:26:18.2738|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.GetAllRentals (LibraryManagementSystem.API)' with route pattern 'api/BookRental' is valid for the request path '/api/BookRental' 
2025-09-18 12:26:18.2738|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.GetAllRentals (LibraryManagementSystem.API)' 
2025-09-18 12:26:18.2738|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 12:26:18.2738|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2025-09-18 12:26:18.2738|0|DEBUG|Microsoft.AspNetCore.Authorization.AuthorizationMiddleware|Policy authentication schemes  did not succeed 
2025-09-18 12:26:18.2738|2|INFO|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Customer) 
2025-09-18 12:26:18.2738|12|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was challenged. 
2025-09-18 12:26:18.2738|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH18C" sending HEADERS frame for stream ID 7 with length 8 and flags END_STREAM, END_HEADERS. 
2025-09-18 12:26:18.2738|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7143/api/BookRental - 401 0 - 0.4921ms 
2025-09-18 12:26:18.4583|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH18C" received HEADERS frame for stream ID 9 with length 35 and flags END_STREAM, END_HEADERS, PRIORITY. 
2025-09-18 12:26:18.4583|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7143/api/BookRental - - - 
2025-09-18 12:26:18.4583|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 12:26:18.4583|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/BookRental' 
2025-09-18 12:26:18.4583|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.GetAllRentals (LibraryManagementSystem.API)' with route pattern 'api/BookRental' is valid for the request path '/api/BookRental' 
2025-09-18 12:26:18.4583|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.GetAllRentals (LibraryManagementSystem.API)' 
2025-09-18 12:26:18.4583|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 12:26:18.4583|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2025-09-18 12:26:18.4583|0|DEBUG|Microsoft.AspNetCore.Authorization.AuthorizationMiddleware|Policy authentication schemes  did not succeed 
2025-09-18 12:26:18.4583|2|INFO|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Customer) 
2025-09-18 12:26:18.4583|12|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was challenged. 
2025-09-18 12:26:18.4583|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH18C" sending HEADERS frame for stream ID 9 with length 8 and flags END_STREAM, END_HEADERS. 
2025-09-18 12:26:18.4583|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7143/api/BookRental - 401 0 - 0.7566ms 
2025-09-18 12:27:07.6006|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMHVLKH18C" received FIN. 
2025-09-18 12:27:07.6006|48|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH18C" is closed. The last processed stream ID was 9. 
2025-09-18 12:27:07.6006|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMHVLKH18C" sending FIN because: "The Socket transport's send loop completed gracefully." 
2025-09-18 12:27:07.6006|62|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Http2|The connection queue processing loop for 0HNFMHVLKH18C completed. 
2025-09-18 12:27:07.6006|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH18C" stopped. 
2025-09-18 14:11:38.6278|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMHVLKH18D" received FIN. 
2025-09-18 14:11:38.7208|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH18D" accepted. 
2025-09-18 14:11:38.7208|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH18D" started. 
2025-09-18 14:11:38.7208|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH18E" accepted. 
2025-09-18 14:11:38.7208|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH18E" started. 
2025-09-18 14:11:38.7331|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMHVLKH18E" received FIN. 
2025-09-18 14:11:38.7485|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Failed to authenticate HTTPS connection. System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-09-18 14:11:38.7485|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Failed to authenticate HTTPS connection. System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-09-18 14:11:38.7485|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH18D" stopped. 
2025-09-18 14:11:38.7485|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMHVLKH18D" sending FIN because: "The Socket transport's send loop completed gracefully." 
2025-09-18 14:11:38.7485|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH18E" stopped. 
2025-09-18 14:11:38.7485|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMHVLKH18E" sending FIN because: "The Socket transport's send loop completed gracefully." 
2025-09-18 14:11:53.4716|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH18F" accepted. 
2025-09-18 14:11:53.4716|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMHVLKH18F" received FIN. 
2025-09-18 14:11:53.4716|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH18F" started. 
2025-09-18 14:11:53.4832|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH18G" accepted. 
2025-09-18 14:11:53.4832|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH18G" started. 
2025-09-18 14:11:53.4832|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Failed to authenticate HTTPS connection. System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-09-18 14:11:53.4832|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH18F" stopped. 
2025-09-18 14:11:53.4832|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMHVLKH18F" sending FIN because: "The Socket transport's send loop completed gracefully." 
2025-09-18 14:11:53.4832|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMHVLKH18G" received FIN. 
2025-09-18 14:11:53.4832|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Failed to authenticate HTTPS connection. System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-09-18 14:11:53.4832|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH18G" stopped. 
2025-09-18 14:11:53.4832|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMHVLKH18G" sending FIN because: "The Socket transport's send loop completed gracefully." 
2025-09-18 14:12:40.4360|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMHVLKH18H" received FIN. 
2025-09-18 14:12:40.4360|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH18H" accepted. 
2025-09-18 14:12:40.4656|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH18H" started. 
2025-09-18 14:12:40.4656|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH18I" accepted. 
2025-09-18 14:12:40.4743|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH18I" started. 
2025-09-18 14:12:40.4743|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Failed to authenticate HTTPS connection. System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-09-18 14:12:40.4743|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH18H" stopped. 
2025-09-18 14:12:40.4743|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMHVLKH18H" sending FIN because: "The Socket transport's send loop completed gracefully." 
2025-09-18 14:12:40.4743|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMHVLKH18I" received FIN. 
2025-09-18 14:12:40.4743|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Failed to authenticate HTTPS connection. System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-09-18 14:12:40.4743|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH18I" stopped. 
2025-09-18 14:12:40.4743|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMHVLKH18I" sending FIN because: "The Socket transport's send loop completed gracefully." 
2025-09-18 14:16:26.3089|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH18J" accepted. 
2025-09-18 14:16:26.3089|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMHVLKH18J" received FIN. 
2025-09-18 14:16:26.3089|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH18K" accepted. 
2025-09-18 14:16:26.3180|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH18J" started. 
2025-09-18 14:16:26.3180|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH18K" started. 
2025-09-18 14:16:26.3180|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Failed to authenticate HTTPS connection. System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-09-18 14:16:26.3180|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH18J" stopped. 
2025-09-18 14:16:26.3180|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMHVLKH18J" sending FIN because: "The Socket transport's send loop completed gracefully." 
2025-09-18 14:16:26.3323|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Failed to authenticate HTTPS connection. System.Security.Authentication.AuthenticationException: Cannot determine the frame size or a corrupted frame was received.
   at System.Net.Security.SslStream.GetFrameSize(ReadOnlySpan`1 buffer)
   at System.Net.Security.SslStream.EnsureFullTlsFrameAsync[TIOAdapter](CancellationToken cancellationToken, Int32 estimatedSize)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-09-18 14:16:26.3323|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH18K" stopped. 
2025-09-18 14:16:26.3323|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMHVLKH18K" sending FIN because: "The Socket transport's send loop completed gracefully." 
2025-09-18 14:17:00.1609|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMHVLKH18L" received FIN. 
2025-09-18 14:17:00.1609|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH18L" accepted. 
2025-09-18 14:17:00.1609|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH18L" started. 
2025-09-18 14:17:00.1664|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH18M" accepted. 
2025-09-18 14:17:00.1664|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Failed to authenticate HTTPS connection. System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-09-18 14:17:00.1664|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH18L" stopped. 
2025-09-18 14:17:00.1664|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMHVLKH18L" sending FIN because: "The Socket transport's send loop completed gracefully." 
2025-09-18 14:17:00.1664|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH18M" started. 
2025-09-18 14:17:00.2035|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Failed to authenticate HTTPS connection. System.Security.Authentication.AuthenticationException: Cannot determine the frame size or a corrupted frame was received.
   at System.Net.Security.SslStream.GetFrameSize(ReadOnlySpan`1 buffer)
   at System.Net.Security.SslStream.EnsureFullTlsFrameAsync[TIOAdapter](CancellationToken cancellationToken, Int32 estimatedSize)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-09-18 14:17:00.2035|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH18M" stopped. 
2025-09-18 14:17:00.2035|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMHVLKH18M" sending FIN because: "The Socket transport's send loop completed gracefully." 
2025-09-18 14:17:36.7416|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMHVLKH18N" received FIN. 
2025-09-18 14:17:36.7416|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH18N" accepted. 
2025-09-18 14:17:36.7492|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH18O" accepted. 
2025-09-18 14:17:36.7492|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH18N" started. 
2025-09-18 14:17:36.7492|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH18O" started. 
2025-09-18 14:17:36.7654|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Failed to authenticate HTTPS connection. System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-09-18 14:17:36.7654|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Failed to authenticate HTTPS connection. System.Security.Authentication.AuthenticationException: Cannot determine the frame size or a corrupted frame was received.
   at System.Net.Security.SslStream.GetFrameSize(ReadOnlySpan`1 buffer)
   at System.Net.Security.SslStream.EnsureFullTlsFrameAsync[TIOAdapter](CancellationToken cancellationToken, Int32 estimatedSize)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-09-18 14:17:36.7654|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH18N" stopped. 
2025-09-18 14:17:36.7654|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH18O" stopped. 
2025-09-18 14:17:36.7654|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMHVLKH18O" sending FIN because: "The Socket transport's send loop completed gracefully." 
2025-09-18 14:17:36.7654|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMHVLKH18N" sending FIN because: "The Socket transport's send loop completed gracefully." 
2025-09-18 14:18:43.6335|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH18P" accepted. 
2025-09-18 14:18:43.6335|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH18P" started. 
2025-09-18 14:18:43.6335|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH18Q" accepted. 
2025-09-18 14:18:43.6439|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH18Q" started. 
2025-09-18 14:18:43.6439|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMHVLKH18P" received FIN. 
2025-09-18 14:18:43.7073|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Failed to authenticate HTTPS connection. System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-09-18 14:18:43.7073|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Failed to authenticate HTTPS connection. System.Security.Authentication.AuthenticationException: Cannot determine the frame size or a corrupted frame was received.
   at System.Net.Security.SslStream.GetFrameSize(ReadOnlySpan`1 buffer)
   at System.Net.Security.SslStream.EnsureFullTlsFrameAsync[TIOAdapter](CancellationToken cancellationToken, Int32 estimatedSize)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-09-18 14:18:43.7073|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH18Q" stopped. 
2025-09-18 14:18:43.7073|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH18P" stopped. 
2025-09-18 14:18:43.7073|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMHVLKH18Q" sending FIN because: "The Socket transport's send loop completed gracefully." 
2025-09-18 14:18:43.7073|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMHVLKH18P" sending FIN because: "The Socket transport's send loop completed gracefully." 
2025-09-18 14:18:51.3186|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH18R" accepted. 
2025-09-18 14:18:51.3186|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH18S" accepted. 
2025-09-18 14:18:51.3186|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH18S" started. 
2025-09-18 14:18:51.3186|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMHVLKH18R" received FIN. 
2025-09-18 14:18:51.3186|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH18R" started. 
2025-09-18 14:18:51.3186|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Failed to authenticate HTTPS connection. System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-09-18 14:18:51.3186|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH18R" stopped. 
2025-09-18 14:18:51.3186|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMHVLKH18R" sending FIN because: "The Socket transport's send loop completed gracefully." 
2025-09-18 14:18:51.3332|3|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Connection 0HNFMHVLKH18S established using the following protocol: Tls13 
2025-09-18 14:18:51.3555|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7143/api/BookRental/GetAllRentals - - - 
2025-09-18 14:18:51.3555|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 14:18:51.3640|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/BookRental/GetAllRentals' 
2025-09-18 14:18:51.3640|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.GetRentalById (LibraryManagementSystem.API)' with route pattern 'api/BookRental/{rentalId}' is valid for the request path '/api/BookRental/GetAllRentals' 
2025-09-18 14:18:51.3640|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.GetRentalById (LibraryManagementSystem.API)' 
2025-09-18 14:18:51.3640|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 14:18:51.3640|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2025-09-18 14:18:51.3640|0|DEBUG|Microsoft.AspNetCore.Authorization.AuthorizationMiddleware|Policy authentication schemes  did not succeed 
2025-09-18 14:18:51.3640|2|INFO|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Customer) 
2025-09-18 14:18:51.3640|12|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was challenged. 
2025-09-18 14:18:51.3842|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH18S" completed keep alive response. 
2025-09-18 14:18:51.3842|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7143/api/BookRental/GetAllRentals - 401 0 - 31.9524ms 
2025-09-18 14:29:36.2608|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMHVLKH18T" received FIN. 
2025-09-18 14:29:36.2608|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH18T" accepted. 
2025-09-18 14:29:36.3258|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH18T" started. 
2025-09-18 14:29:36.3563|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH18U" accepted. 
2025-09-18 14:29:36.3875|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH18U" started. 
2025-09-18 14:29:36.3875|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Failed to authenticate HTTPS connection. System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-09-18 14:29:36.4000|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH18T" stopped. 
2025-09-18 14:29:36.4000|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMHVLKH18T" sending FIN because: "The Socket transport's send loop completed gracefully." 
2025-09-18 14:29:36.4000|3|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Connection 0HNFMHVLKH18U established using the following protocol: Tls13 
2025-09-18 14:29:36.4000|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7143/api/BookRental/GetAllRentals?Authorization=Bearer%20%3CeyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiI3NmFkMTQxNC05ZmE4LTRhOGEtYWIyNC1kZGMyYTQzYzcwZjciLCJlbWFpbCI6InJpbWFoc2hheWFAZ21haWwuY29tIiwiZ2l2ZW5fbmFtZSI6InJlbWFoIiwiZmFtaWx5X25hbWUiOiJzaGF5eWEiLCJyb2xlIjoiQWRtaW4iLCJuYmYiOjE3NTgxODUyMTYsImV4cCI6MTc1ODE5OTYxNiwiaWF0IjoxNzU4MTg1MjE2LCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MTQzIn0.8GX8pxUFd4BMeFg_T70lA0KkFV5qXcbCJP8x0PXRWu7WAKspXRu1993Jl088o9YvAkMYpxbSn7IzV25JxASVng%3E - - - 
2025-09-18 14:29:36.4000|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 14:29:36.4000|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/BookRental/GetAllRentals' 
2025-09-18 14:29:36.4000|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.GetRentalById (LibraryManagementSystem.API)' with route pattern 'api/BookRental/{rentalId}' is valid for the request path '/api/BookRental/GetAllRentals' 
2025-09-18 14:29:36.4000|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.GetRentalById (LibraryManagementSystem.API)' 
2025-09-18 14:29:36.4000|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 14:29:36.4000|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2025-09-18 14:29:36.4000|0|DEBUG|Microsoft.AspNetCore.Authorization.AuthorizationMiddleware|Policy authentication schemes  did not succeed 
2025-09-18 14:29:36.4000|2|INFO|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Customer) 
2025-09-18 14:29:36.4000|12|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was challenged. 
2025-09-18 14:29:36.4000|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH18U" completed keep alive response. 
2025-09-18 14:29:36.4000|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7143/api/BookRental/GetAllRentals?Authorization=Bearer%20%3CeyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiI3NmFkMTQxNC05ZmE4LTRhOGEtYWIyNC1kZGMyYTQzYzcwZjciLCJlbWFpbCI6InJpbWFoc2hheWFAZ21haWwuY29tIiwiZ2l2ZW5fbmFtZSI6InJlbWFoIiwiZmFtaWx5X25hbWUiOiJzaGF5eWEiLCJyb2xlIjoiQWRtaW4iLCJuYmYiOjE3NTgxODUyMTYsImV4cCI6MTc1ODE5OTYxNiwiaWF0IjoxNzU4MTg1MjE2LCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MTQzIn0.8GX8pxUFd4BMeFg_T70lA0KkFV5qXcbCJP8x0PXRWu7WAKspXRu1993Jl088o9YvAkMYpxbSn7IzV25JxASVng%3E - 401 0 - 3.1224ms 
2025-09-18 14:30:01.4001|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7143/api/BookRental/GetAllRentals?Authorization=eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiI3NmFkMTQxNC05ZmE4LTRhOGEtYWIyNC1kZGMyYTQzYzcwZjciLCJlbWFpbCI6InJpbWFoc2hheWFAZ21haWwuY29tIiwiZ2l2ZW5fbmFtZSI6InJlbWFoIiwiZmFtaWx5X25hbWUiOiJzaGF5eWEiLCJyb2xlIjoiQWRtaW4iLCJuYmYiOjE3NTgxODUyMTYsImV4cCI6MTc1ODE5OTYxNiwiaWF0IjoxNzU4MTg1MjE2LCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MTQzIn0.8GX8pxUFd4BMeFg_T70lA0KkFV5qXcbCJP8x0PXRWu7WAKspXRu1993Jl088o9YvAkMYpxbSn7IzV25JxASVng - - - 
2025-09-18 14:30:01.4001|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 14:30:01.4001|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/BookRental/GetAllRentals' 
2025-09-18 14:30:01.4001|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.GetRentalById (LibraryManagementSystem.API)' with route pattern 'api/BookRental/{rentalId}' is valid for the request path '/api/BookRental/GetAllRentals' 
2025-09-18 14:30:01.4001|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.GetRentalById (LibraryManagementSystem.API)' 
2025-09-18 14:30:01.4001|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 14:30:01.4001|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2025-09-18 14:30:01.4001|0|DEBUG|Microsoft.AspNetCore.Authorization.AuthorizationMiddleware|Policy authentication schemes  did not succeed 
2025-09-18 14:30:01.4001|2|INFO|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Customer) 
2025-09-18 14:30:01.4001|12|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was challenged. 
2025-09-18 14:30:01.4001|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH18U" completed keep alive response. 
2025-09-18 14:30:01.4001|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7143/api/BookRental/GetAllRentals?Authorization=eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiI3NmFkMTQxNC05ZmE4LTRhOGEtYWIyNC1kZGMyYTQzYzcwZjciLCJlbWFpbCI6InJpbWFoc2hheWFAZ21haWwuY29tIiwiZ2l2ZW5fbmFtZSI6InJlbWFoIiwiZmFtaWx5X25hbWUiOiJzaGF5eWEiLCJyb2xlIjoiQWRtaW4iLCJuYmYiOjE3NTgxODUyMTYsImV4cCI6MTc1ODE5OTYxNiwiaWF0IjoxNzU4MTg1MjE2LCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MTQzIn0.8GX8pxUFd4BMeFg_T70lA0KkFV5qXcbCJP8x0PXRWu7WAKspXRu1993Jl088o9YvAkMYpxbSn7IzV25JxASVng - 401 0 - 2.1253ms 
2025-09-18 14:30:04.4408|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7143/api/BookRental/GetAllRentals?Authorization=eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiI3NmFkMTQxNC05ZmE4LTRhOGEtYWIyNC1kZGMyYTQzYzcwZjciLCJlbWFpbCI6InJpbWFoc2hheWFAZ21haWwuY29tIiwiZ2l2ZW5fbmFtZSI6InJlbWFoIiwiZmFtaWx5X25hbWUiOiJzaGF5eWEiLCJyb2xlIjoiQWRtaW4iLCJuYmYiOjE3NTgxODUyMTYsImV4cCI6MTc1ODE5OTYxNiwiaWF0IjoxNzU4MTg1MjE2LCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MTQzIn0.8GX8pxUFd4BMeFg_T70lA0KkFV5qXcbCJP8x0PXRWu7WAKspXRu1993Jl088o9YvAkMYpxbSn7IzV25JxASVng - - - 
2025-09-18 14:30:04.4411|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 14:30:04.4411|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/BookRental/GetAllRentals' 
2025-09-18 14:30:04.4411|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.GetRentalById (LibraryManagementSystem.API)' with route pattern 'api/BookRental/{rentalId}' is valid for the request path '/api/BookRental/GetAllRentals' 
2025-09-18 14:30:04.4411|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.GetRentalById (LibraryManagementSystem.API)' 
2025-09-18 14:30:04.4411|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 14:30:04.4411|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2025-09-18 14:30:04.4411|0|DEBUG|Microsoft.AspNetCore.Authorization.AuthorizationMiddleware|Policy authentication schemes  did not succeed 
2025-09-18 14:30:04.4411|2|INFO|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Customer) 
2025-09-18 14:30:04.4411|12|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was challenged. 
2025-09-18 14:30:04.4411|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH18U" completed keep alive response. 
2025-09-18 14:30:04.4411|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7143/api/BookRental/GetAllRentals?Authorization=eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiI3NmFkMTQxNC05ZmE4LTRhOGEtYWIyNC1kZGMyYTQzYzcwZjciLCJlbWFpbCI6InJpbWFoc2hheWFAZ21haWwuY29tIiwiZ2l2ZW5fbmFtZSI6InJlbWFoIiwiZmFtaWx5X25hbWUiOiJzaGF5eWEiLCJyb2xlIjoiQWRtaW4iLCJuYmYiOjE3NTgxODUyMTYsImV4cCI6MTc1ODE5OTYxNiwiaWF0IjoxNzU4MTg1MjE2LCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MTQzIn0.8GX8pxUFd4BMeFg_T70lA0KkFV5qXcbCJP8x0PXRWu7WAKspXRu1993Jl088o9YvAkMYpxbSn7IzV25JxASVng - 401 0 - 1.4016ms 
2025-09-18 14:31:31.5626|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMHVLKH18V" received FIN. 
2025-09-18 14:31:31.5626|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH18V" accepted. 
2025-09-18 14:31:31.5683|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH190" accepted. 
2025-09-18 14:31:31.5683|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH18V" started. 
2025-09-18 14:31:31.5683|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH190" started. 
2025-09-18 14:31:31.5941|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Failed to authenticate HTTPS connection. System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-09-18 14:31:31.5941|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH18V" stopped. 
2025-09-18 14:31:31.5941|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMHVLKH18V" sending FIN because: "The Socket transport's send loop completed gracefully." 
2025-09-18 14:31:31.5941|3|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Connection 0HNFMHVLKH190 established using the following protocol: Tls13 
2025-09-18 14:31:31.5941|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7143/api/BookRental/GetAllRentals - - - 
2025-09-18 14:31:31.5941|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 14:31:31.5941|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/BookRental/GetAllRentals' 
2025-09-18 14:31:31.5941|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.GetRentalById (LibraryManagementSystem.API)' with route pattern 'api/BookRental/{rentalId}' is valid for the request path '/api/BookRental/GetAllRentals' 
2025-09-18 14:31:31.5941|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.GetRentalById (LibraryManagementSystem.API)' 
2025-09-18 14:31:31.5941|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 14:31:31.6016|1|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Failed to validate the token. System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.ValidateAndGetOutputSize(ReadOnlySpan`1 strSpan, Int32 offset, Int32 length)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString, TryReadJwtClaim tryReadJwtClaim)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-09-18 14:31:31.6016|7|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string. 
2025-09-18 14:31:31.6016|0|DEBUG|Microsoft.AspNetCore.Authorization.AuthorizationMiddleware|Policy authentication schemes  did not succeed 
2025-09-18 14:31:31.6016|2|INFO|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Customer) 
2025-09-18 14:31:31.6016|12|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was challenged. 
2025-09-18 14:31:31.6016|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH190" completed keep alive response. 
2025-09-18 14:31:31.6016|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7143/api/BookRental/GetAllRentals - 401 0 - 11.9510ms 
2025-09-18 14:31:33.8327|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7143/api/BookRental/GetAllRentals - - - 
2025-09-18 14:31:33.8327|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 14:31:33.8327|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/BookRental/GetAllRentals' 
2025-09-18 14:31:33.8327|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.GetRentalById (LibraryManagementSystem.API)' with route pattern 'api/BookRental/{rentalId}' is valid for the request path '/api/BookRental/GetAllRentals' 
2025-09-18 14:31:33.8327|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.GetRentalById (LibraryManagementSystem.API)' 
2025-09-18 14:31:33.8327|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 14:31:33.8327|1|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Failed to validate the token. System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.ValidateAndGetOutputSize(ReadOnlySpan`1 strSpan, Int32 offset, Int32 length)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString, TryReadJwtClaim tryReadJwtClaim)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-09-18 14:31:33.8327|7|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string. 
2025-09-18 14:31:33.8327|0|DEBUG|Microsoft.AspNetCore.Authorization.AuthorizationMiddleware|Policy authentication schemes  did not succeed 
2025-09-18 14:31:33.8327|2|INFO|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Customer) 
2025-09-18 14:31:33.8327|12|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was challenged. 
2025-09-18 14:31:33.8327|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH190" completed keep alive response. 
2025-09-18 14:31:33.8327|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7143/api/BookRental/GetAllRentals - 401 0 - 1.5950ms 
2025-09-18 14:31:52.9721|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7143/api/BookRental/GetAllRentals - - - 
2025-09-18 14:31:52.9721|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 14:31:52.9721|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/BookRental/GetAllRentals' 
2025-09-18 14:31:52.9721|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.GetRentalById (LibraryManagementSystem.API)' with route pattern 'api/BookRental/{rentalId}' is valid for the request path '/api/BookRental/GetAllRentals' 
2025-09-18 14:31:52.9721|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.GetRentalById (LibraryManagementSystem.API)' 
2025-09-18 14:31:52.9721|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 14:31:52.9734|1|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Failed to validate the token. System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.ValidateAndGetOutputSize(ReadOnlySpan`1 strSpan, Int32 offset, Int32 length)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString, TryReadJwtClaim tryReadJwtClaim)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-09-18 14:31:52.9734|7|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string. 
2025-09-18 14:31:52.9734|0|DEBUG|Microsoft.AspNetCore.Authorization.AuthorizationMiddleware|Policy authentication schemes  did not succeed 
2025-09-18 14:31:52.9734|2|INFO|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Customer) 
2025-09-18 14:31:52.9734|12|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was challenged. 
2025-09-18 14:31:52.9734|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH190" completed keep alive response. 
2025-09-18 14:31:52.9734|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7143/api/BookRental/GetAllRentals - 401 0 - 1.7243ms 
2025-09-18 14:32:24.6945|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH191" accepted. 
2025-09-18 14:32:24.6945|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH191" started. 
2025-09-18 14:32:24.7079|3|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Connection 0HNFMHVLKH191 established using the following protocol: Tls13 
2025-09-18 14:32:24.7079|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH191" sending SETTINGS frame for stream ID 0 with length 24 and flags NONE. 
2025-09-18 14:32:24.7079|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH191" sending WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2025-09-18 14:32:24.7079|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH191" received SETTINGS frame for stream ID 0 with length 24 and flags NONE. 
2025-09-18 14:32:24.7079|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH191" sending SETTINGS frame for stream ID 0 with length 0 and flags ACK. 
2025-09-18 14:32:24.7079|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH191" received WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2025-09-18 14:32:24.7079|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH191" received HEADERS frame for stream ID 1 with length 436 and flags END_HEADERS, PRIORITY. 
2025-09-18 14:32:24.7079|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH191" received DATA frame for stream ID 1 with length 66 and flags END_STREAM. 
2025-09-18 14:32:24.7079|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:7143/api/Account/Login - application/json 66 
2025-09-18 14:32:24.7079|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 14:32:24.7079|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH191" received SETTINGS frame for stream ID 0 with length 0 and flags ACK. 
2025-09-18 14:32:24.7079|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/Account/Login' 
2025-09-18 14:32:24.7220|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'LibraryManagementSystem.API.Controllers.AccountController.login (LibraryManagementSystem.API)' with route pattern 'api/Account/Login' is valid for the request path '/api/Account/Login' 
2025-09-18 14:32:24.7220|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'LibraryManagementSystem.API.Controllers.AccountController.login (LibraryManagementSystem.API)' 
2025-09-18 14:32:24.7220|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 14:32:24.7220|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2025-09-18 14:32:24.7220|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'LibraryManagementSystem.API.Controllers.AccountController.login (LibraryManagementSystem.API)' 
2025-09-18 14:32:24.7416|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[LibraryManagementSystem.Data.DTO.UserDTO]] login(LibraryManagementSystem.API.DTO.Requests.CreateLoginRequest) on controller LibraryManagementSystem.API.Controllers.AccountController (LibraryManagementSystem.API). 
2025-09-18 14:32:24.7416|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2025-09-18 14:32:24.7416|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2025-09-18 14:32:24.7416|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2025-09-18 14:32:24.7416|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2025-09-18 14:32:24.7416|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2025-09-18 14:32:24.7416|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller LibraryManagementSystem.API.Controllers.AccountController (LibraryManagementSystem.API) 
2025-09-18 14:32:24.7886|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller LibraryManagementSystem.API.Controllers.AccountController (LibraryManagementSystem.API) 
2025-09-18 14:32:24.8261|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'request' of type 'LibraryManagementSystem.API.DTO.Requests.CreateLoginRequest' ... 
2025-09-18 14:32:24.8261|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Attempting to bind parameter 'request' of type 'LibraryManagementSystem.API.DTO.Requests.CreateLoginRequest' using the name '' in request data ... 
2025-09-18 14:32:24.8261|1|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'. 
2025-09-18 14:32:24.8338|25|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HNFMHVLKH191", Request id "0HNFMHVLKH191:00000001": started reading request body. 
2025-09-18 14:32:24.8338|26|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HNFMHVLKH191", Request id "0HNFMHVLKH191:00000001": done reading request body. 
2025-09-18 14:32:24.8338|2|DEBUG|Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter|JSON input formatter succeeded, deserializing to type 'LibraryManagementSystem.API.DTO.Requests.CreateLoginRequest' 
2025-09-18 14:32:24.8338|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Done attempting to bind parameter 'request' of type 'LibraryManagementSystem.API.DTO.Requests.CreateLoginRequest'. 
2025-09-18 14:32:24.8338|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'request' of type 'LibraryManagementSystem.API.DTO.Requests.CreateLoginRequest'. 
2025-09-18 14:32:24.8338|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'request' of type 'LibraryManagementSystem.API.DTO.Requests.CreateLoginRequest' ... 
2025-09-18 14:32:24.8338|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'request' of type 'LibraryManagementSystem.API.DTO.Requests.CreateLoginRequest'. 
2025-09-18 14:32:24.8338|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 14:32:24.8338|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 14:32:24.8338|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 14:32:24.8338|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 14:32:24.8338|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method LibraryManagementSystem.API.Controllers.AccountController.login (LibraryManagementSystem.API) - Validation state: Valid 
2025-09-18 14:32:24.8338|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method LibraryManagementSystem.API.Controllers.AccountController.login (LibraryManagementSystem.API) with arguments (LibraryManagementSystem.API.DTO.Requests.CreateLoginRequest) 
2025-09-18 14:32:24.9457|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 9.0.8 initialized 'LibraryContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.8' with options: EngineType=SqlServer  
2025-09-18 14:32:24.9676|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2025-09-18 14:32:24.9720|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (4ms). 
2025-09-18 14:32:24.9720|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 14:32:25.0346|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 14:32:25.0346|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2025-09-18 14:32:25.0346|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (1ms). 
2025-09-18 14:32:25.0346|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (2ms). 
2025-09-18 14:32:25.0346|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateCreated], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0 
2025-09-18 14:32:25.0914|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (53ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateCreated], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0 
2025-09-18 14:32:25.0914|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 14:32:25.0914|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 14:32:25.0914|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'LibraryDb' on server 'LAPTOP-4LPUPLC4' is being disposed after spending 3ms reading results. 
2025-09-18 14:32:25.0914|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 14:32:25.0914|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4' (0ms). 
2025-09-18 14:32:25.1804|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 14:32:25.1912|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 14:32:25.1912|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2025-09-18 14:32:25.1912|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2025-09-18 14:32:25.1912|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2025-09-18 14:32:25.1912|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-09-18 14:32:25.1912|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-09-18 14:32:25.1912|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 14:32:25.1912|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'LibraryDb' on server 'LAPTOP-4LPUPLC4' is being disposed after spending 0ms reading results. 
2025-09-18 14:32:25.1912|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 14:32:25.1912|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4' (0ms). 
2025-09-18 14:32:25.1912|103|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action method LibraryManagementSystem.API.Controllers.AccountController.login (LibraryManagementSystem.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 359.4376ms. 
2025-09-18 14:32:25.1912|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 14:32:25.1912|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 14:32:25.1912|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 14:32:25.1912|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 14:32:25.1912|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 14:32:25.1912|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 14:32:25.1912|5|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult. 
2025-09-18 14:32:25.1912|11|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter 
2025-09-18 14:32:25.1912|4|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|No information found on request to perform content negotiation. 
2025-09-18 14:32:25.1912|8|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select an output formatter without using a content type as no explicit content types were specified for the response. 
2025-09-18 14:32:25.1912|10|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select the first formatter in the output formatters list which can write the result. 
2025-09-18 14:32:25.1912|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response. 
2025-09-18 14:32:25.1912|1|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'LibraryManagementSystem.Data.DTO.UserDTO'. 
2025-09-18 14:32:25.2094|6|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|After executing action result Microsoft.AspNetCore.Mvc.ObjectResult. 
2025-09-18 14:32:25.2094|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 14:32:25.2094|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 14:32:25.2094|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH191" sending HEADERS frame for stream ID 1 with length 74 and flags END_HEADERS. 
2025-09-18 14:32:25.2094|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH191" sending DATA frame for stream ID 1 with length 469 and flags NONE. 
2025-09-18 14:32:25.2094|105|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action LibraryManagementSystem.API.Controllers.AccountController.login (LibraryManagementSystem.API) in 463.4947ms 
2025-09-18 14:32:25.2094|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'LibraryManagementSystem.API.Controllers.AccountController.login (LibraryManagementSystem.API)' 
2025-09-18 14:32:25.2094|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH191" sending DATA frame for stream ID 1 with length 0 and flags END_STREAM. 
2025-09-18 14:32:25.2094|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'LibraryContext' disposed. 
2025-09-18 14:32:25.2094|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 14:32:25.2094|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2025-09-18 14:32:25.2094|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:7143/api/Account/Login - 200 - application/json;+charset=utf-8 491.4276ms 
2025-09-18 14:32:26.9598|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH191" received HEADERS frame for stream ID 3 with length 39 and flags END_HEADERS, PRIORITY. 
2025-09-18 14:32:26.9710|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH191" received DATA frame for stream ID 3 with length 66 and flags END_STREAM. 
2025-09-18 14:32:26.9710|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:7143/api/Account/Login - application/json 66 
2025-09-18 14:32:26.9710|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 14:32:26.9710|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/Account/Login' 
2025-09-18 14:32:26.9710|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'LibraryManagementSystem.API.Controllers.AccountController.login (LibraryManagementSystem.API)' with route pattern 'api/Account/Login' is valid for the request path '/api/Account/Login' 
2025-09-18 14:32:26.9710|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'LibraryManagementSystem.API.Controllers.AccountController.login (LibraryManagementSystem.API)' 
2025-09-18 14:32:26.9710|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 14:32:26.9710|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2025-09-18 14:32:26.9710|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'LibraryManagementSystem.API.Controllers.AccountController.login (LibraryManagementSystem.API)' 
2025-09-18 14:32:26.9710|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[LibraryManagementSystem.Data.DTO.UserDTO]] login(LibraryManagementSystem.API.DTO.Requests.CreateLoginRequest) on controller LibraryManagementSystem.API.Controllers.AccountController (LibraryManagementSystem.API). 
2025-09-18 14:32:26.9710|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2025-09-18 14:32:26.9710|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2025-09-18 14:32:26.9710|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2025-09-18 14:32:26.9710|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2025-09-18 14:32:26.9710|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2025-09-18 14:32:26.9710|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller LibraryManagementSystem.API.Controllers.AccountController (LibraryManagementSystem.API) 
2025-09-18 14:32:26.9937|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller LibraryManagementSystem.API.Controllers.AccountController (LibraryManagementSystem.API) 
2025-09-18 14:32:26.9937|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'request' of type 'LibraryManagementSystem.API.DTO.Requests.CreateLoginRequest' ... 
2025-09-18 14:32:26.9937|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Attempting to bind parameter 'request' of type 'LibraryManagementSystem.API.DTO.Requests.CreateLoginRequest' using the name '' in request data ... 
2025-09-18 14:32:26.9937|1|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'. 
2025-09-18 14:32:26.9937|25|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HNFMHVLKH191", Request id "0HNFMHVLKH191:00000003": started reading request body. 
2025-09-18 14:32:26.9937|26|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HNFMHVLKH191", Request id "0HNFMHVLKH191:00000003": done reading request body. 
2025-09-18 14:32:26.9937|2|DEBUG|Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter|JSON input formatter succeeded, deserializing to type 'LibraryManagementSystem.API.DTO.Requests.CreateLoginRequest' 
2025-09-18 14:32:26.9937|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Done attempting to bind parameter 'request' of type 'LibraryManagementSystem.API.DTO.Requests.CreateLoginRequest'. 
2025-09-18 14:32:26.9937|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'request' of type 'LibraryManagementSystem.API.DTO.Requests.CreateLoginRequest'. 
2025-09-18 14:32:26.9937|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'request' of type 'LibraryManagementSystem.API.DTO.Requests.CreateLoginRequest' ... 
2025-09-18 14:32:26.9937|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'request' of type 'LibraryManagementSystem.API.DTO.Requests.CreateLoginRequest'. 
2025-09-18 14:32:26.9937|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 14:32:26.9937|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 14:32:26.9937|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 14:32:26.9937|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 14:32:26.9937|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method LibraryManagementSystem.API.Controllers.AccountController.login (LibraryManagementSystem.API) - Validation state: Valid 
2025-09-18 14:32:26.9937|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method LibraryManagementSystem.API.Controllers.AccountController.login (LibraryManagementSystem.API) with arguments (LibraryManagementSystem.API.DTO.Requests.CreateLoginRequest) 
2025-09-18 14:32:27.0038|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 9.0.8 initialized 'LibraryContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.8' with options: EngineType=SqlServer  
2025-09-18 14:32:27.0038|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2025-09-18 14:32:27.0038|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2025-09-18 14:32:27.0038|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 14:32:27.0038|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 14:32:27.0038|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2025-09-18 14:32:27.0038|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2025-09-18 14:32:27.0038|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2025-09-18 14:32:27.0038|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateCreated], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0 
2025-09-18 14:32:27.0214|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateCreated], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0 
2025-09-18 14:32:27.0214|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 14:32:27.0214|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 14:32:27.0214|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'LibraryDb' on server 'LAPTOP-4LPUPLC4' is being disposed after spending 0ms reading results. 
2025-09-18 14:32:27.0214|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 14:32:27.0214|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4' (0ms). 
2025-09-18 14:32:27.0880|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 14:32:27.1358|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 14:32:27.1358|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2025-09-18 14:32:27.1358|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2025-09-18 14:32:27.1358|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2025-09-18 14:32:27.1358|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-09-18 14:32:27.1358|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-09-18 14:32:27.1358|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 14:32:27.1358|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'LibraryDb' on server 'LAPTOP-4LPUPLC4' is being disposed after spending 0ms reading results. 
2025-09-18 14:32:27.1358|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 14:32:27.1358|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4' (0ms). 
2025-09-18 14:32:27.1358|103|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action method LibraryManagementSystem.API.Controllers.AccountController.login (LibraryManagementSystem.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 143.8292ms. 
2025-09-18 14:32:27.1358|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 14:32:27.1358|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 14:32:27.1358|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 14:32:27.1358|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 14:32:27.1358|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 14:32:27.1358|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 14:32:27.1358|5|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult. 
2025-09-18 14:32:27.1358|11|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter 
2025-09-18 14:32:27.1358|4|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|No information found on request to perform content negotiation. 
2025-09-18 14:32:27.1358|8|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select an output formatter without using a content type as no explicit content types were specified for the response. 
2025-09-18 14:32:27.1358|10|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select the first formatter in the output formatters list which can write the result. 
2025-09-18 14:32:27.1358|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response. 
2025-09-18 14:32:27.1358|1|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'LibraryManagementSystem.Data.DTO.UserDTO'. 
2025-09-18 14:32:27.1358|6|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|After executing action result Microsoft.AspNetCore.Mvc.ObjectResult. 
2025-09-18 14:32:27.1358|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 14:32:27.1358|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 14:32:27.1358|105|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action LibraryManagementSystem.API.Controllers.AccountController.login (LibraryManagementSystem.API) in 165.605ms 
2025-09-18 14:32:27.1358|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH191" sending HEADERS frame for stream ID 3 with length 34 and flags END_HEADERS. 
2025-09-18 14:32:27.1358|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'LibraryManagementSystem.API.Controllers.AccountController.login (LibraryManagementSystem.API)' 
2025-09-18 14:32:27.1358|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH191" sending DATA frame for stream ID 3 with length 469 and flags NONE. 
2025-09-18 14:32:27.1358|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH191" sending DATA frame for stream ID 3 with length 0 and flags END_STREAM. 
2025-09-18 14:32:27.1358|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'LibraryContext' disposed. 
2025-09-18 14:32:27.1358|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 14:32:27.1358|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2025-09-18 14:32:27.1358|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:7143/api/Account/Login - 200 - application/json;+charset=utf-8 166.3862ms 
2025-09-18 14:32:28.9271|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH191" received HEADERS frame for stream ID 5 with length 39 and flags END_HEADERS, PRIORITY. 
2025-09-18 14:32:28.9271|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH191" received DATA frame for stream ID 5 with length 66 and flags END_STREAM. 
2025-09-18 14:32:28.9271|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:7143/api/Account/Login - application/json 66 
2025-09-18 14:32:28.9271|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 14:32:28.9271|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/Account/Login' 
2025-09-18 14:32:28.9271|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'LibraryManagementSystem.API.Controllers.AccountController.login (LibraryManagementSystem.API)' with route pattern 'api/Account/Login' is valid for the request path '/api/Account/Login' 
2025-09-18 14:32:28.9271|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'LibraryManagementSystem.API.Controllers.AccountController.login (LibraryManagementSystem.API)' 
2025-09-18 14:32:28.9271|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 14:32:28.9271|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2025-09-18 14:32:28.9271|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'LibraryManagementSystem.API.Controllers.AccountController.login (LibraryManagementSystem.API)' 
2025-09-18 14:32:28.9271|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[LibraryManagementSystem.Data.DTO.UserDTO]] login(LibraryManagementSystem.API.DTO.Requests.CreateLoginRequest) on controller LibraryManagementSystem.API.Controllers.AccountController (LibraryManagementSystem.API). 
2025-09-18 14:32:28.9271|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2025-09-18 14:32:28.9271|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2025-09-18 14:32:28.9271|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2025-09-18 14:32:28.9271|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2025-09-18 14:32:28.9271|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2025-09-18 14:32:28.9271|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller LibraryManagementSystem.API.Controllers.AccountController (LibraryManagementSystem.API) 
2025-09-18 14:32:28.9271|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller LibraryManagementSystem.API.Controllers.AccountController (LibraryManagementSystem.API) 
2025-09-18 14:32:28.9271|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'request' of type 'LibraryManagementSystem.API.DTO.Requests.CreateLoginRequest' ... 
2025-09-18 14:32:28.9271|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Attempting to bind parameter 'request' of type 'LibraryManagementSystem.API.DTO.Requests.CreateLoginRequest' using the name '' in request data ... 
2025-09-18 14:32:28.9271|1|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'. 
2025-09-18 14:32:28.9271|25|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HNFMHVLKH191", Request id "0HNFMHVLKH191:00000005": started reading request body. 
2025-09-18 14:32:28.9271|26|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HNFMHVLKH191", Request id "0HNFMHVLKH191:00000005": done reading request body. 
2025-09-18 14:32:28.9271|2|DEBUG|Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter|JSON input formatter succeeded, deserializing to type 'LibraryManagementSystem.API.DTO.Requests.CreateLoginRequest' 
2025-09-18 14:32:28.9271|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Done attempting to bind parameter 'request' of type 'LibraryManagementSystem.API.DTO.Requests.CreateLoginRequest'. 
2025-09-18 14:32:28.9271|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'request' of type 'LibraryManagementSystem.API.DTO.Requests.CreateLoginRequest'. 
2025-09-18 14:32:28.9271|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'request' of type 'LibraryManagementSystem.API.DTO.Requests.CreateLoginRequest' ... 
2025-09-18 14:32:28.9271|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'request' of type 'LibraryManagementSystem.API.DTO.Requests.CreateLoginRequest'. 
2025-09-18 14:32:28.9271|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 14:32:28.9271|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 14:32:28.9271|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 14:32:28.9271|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 14:32:28.9271|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method LibraryManagementSystem.API.Controllers.AccountController.login (LibraryManagementSystem.API) - Validation state: Valid 
2025-09-18 14:32:28.9271|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method LibraryManagementSystem.API.Controllers.AccountController.login (LibraryManagementSystem.API) with arguments (LibraryManagementSystem.API.DTO.Requests.CreateLoginRequest) 
2025-09-18 14:32:28.9406|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 9.0.8 initialized 'LibraryContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.8' with options: EngineType=SqlServer  
2025-09-18 14:32:28.9406|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2025-09-18 14:32:28.9406|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2025-09-18 14:32:28.9406|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 14:32:28.9406|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 14:32:28.9753|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2025-09-18 14:32:28.9753|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2025-09-18 14:32:28.9753|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2025-09-18 14:32:28.9753|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateCreated], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0 
2025-09-18 14:32:28.9753|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateCreated], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0 
2025-09-18 14:32:28.9753|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 14:32:28.9753|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 14:32:28.9753|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'LibraryDb' on server 'LAPTOP-4LPUPLC4' is being disposed after spending 0ms reading results. 
2025-09-18 14:32:28.9753|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 14:32:28.9753|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4' (0ms). 
2025-09-18 14:32:29.0457|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 14:32:29.0577|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 14:32:29.0577|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2025-09-18 14:32:29.0577|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2025-09-18 14:32:29.0577|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2025-09-18 14:32:29.0577|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-09-18 14:32:29.0577|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-09-18 14:32:29.0577|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 14:32:29.0577|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'LibraryDb' on server 'LAPTOP-4LPUPLC4' is being disposed after spending 0ms reading results. 
2025-09-18 14:32:29.0577|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 14:32:29.0577|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4' (0ms). 
2025-09-18 14:32:29.0577|103|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action method LibraryManagementSystem.API.Controllers.AccountController.login (LibraryManagementSystem.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 119.7674ms. 
2025-09-18 14:32:29.0577|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 14:32:29.0577|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 14:32:29.0577|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 14:32:29.0577|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 14:32:29.0577|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 14:32:29.0577|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 14:32:29.0577|5|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult. 
2025-09-18 14:32:29.0577|11|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter 
2025-09-18 14:32:29.0577|4|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|No information found on request to perform content negotiation. 
2025-09-18 14:32:29.0577|8|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select an output formatter without using a content type as no explicit content types were specified for the response. 
2025-09-18 14:32:29.0577|10|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select the first formatter in the output formatters list which can write the result. 
2025-09-18 14:32:29.0577|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response. 
2025-09-18 14:32:29.0577|1|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'LibraryManagementSystem.Data.DTO.UserDTO'. 
2025-09-18 14:32:29.0577|6|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|After executing action result Microsoft.AspNetCore.Mvc.ObjectResult. 
2025-09-18 14:32:29.0577|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 14:32:29.0577|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 14:32:29.0577|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH191" sending HEADERS frame for stream ID 5 with length 34 and flags END_HEADERS. 
2025-09-18 14:32:29.0577|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH191" sending DATA frame for stream ID 5 with length 469 and flags NONE. 
2025-09-18 14:32:29.0577|105|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action LibraryManagementSystem.API.Controllers.AccountController.login (LibraryManagementSystem.API) in 131.6043ms 
2025-09-18 14:32:29.0577|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'LibraryManagementSystem.API.Controllers.AccountController.login (LibraryManagementSystem.API)' 
2025-09-18 14:32:29.0577|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'LibraryContext' disposed. 
2025-09-18 14:32:29.0577|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH191" sending DATA frame for stream ID 5 with length 0 and flags END_STREAM. 
2025-09-18 14:32:29.0577|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 14:32:29.0577|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2025-09-18 14:32:29.0577|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:7143/api/Account/Login - 200 - application/json;+charset=utf-8 132.5326ms 
2025-09-18 14:32:49.9962|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7143/api/BookRental/GetAllRentals - - - 
2025-09-18 14:32:49.9962|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 14:32:49.9962|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/BookRental/GetAllRentals' 
2025-09-18 14:32:49.9962|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.GetRentalById (LibraryManagementSystem.API)' with route pattern 'api/BookRental/{rentalId}' is valid for the request path '/api/BookRental/GetAllRentals' 
2025-09-18 14:32:49.9962|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.GetRentalById (LibraryManagementSystem.API)' 
2025-09-18 14:32:49.9962|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 14:32:49.9962|1|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Failed to validate the token. System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.ValidateAndGetOutputSize(ReadOnlySpan`1 strSpan, Int32 offset, Int32 length)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString, TryReadJwtClaim tryReadJwtClaim)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-09-18 14:32:49.9962|7|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string. 
2025-09-18 14:32:49.9962|0|DEBUG|Microsoft.AspNetCore.Authorization.AuthorizationMiddleware|Policy authentication schemes  did not succeed 
2025-09-18 14:32:49.9962|2|INFO|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Customer) 
2025-09-18 14:32:49.9962|12|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was challenged. 
2025-09-18 14:32:49.9962|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH190" completed keep alive response. 
2025-09-18 14:32:49.9962|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7143/api/BookRental/GetAllRentals - 401 0 - 1.8533ms 
2025-09-18 14:33:01.0501|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7143/api/BookRental/GetAllRentals - - - 
2025-09-18 14:33:01.0501|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 14:33:01.0501|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/BookRental/GetAllRentals' 
2025-09-18 14:33:01.0501|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.GetRentalById (LibraryManagementSystem.API)' with route pattern 'api/BookRental/{rentalId}' is valid for the request path '/api/BookRental/GetAllRentals' 
2025-09-18 14:33:01.0501|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.GetRentalById (LibraryManagementSystem.API)' 
2025-09-18 14:33:01.0501|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 14:33:01.0501|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2025-09-18 14:33:01.0501|0|DEBUG|Microsoft.AspNetCore.Authorization.AuthorizationMiddleware|Policy authentication schemes  did not succeed 
2025-09-18 14:33:01.0501|2|INFO|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Customer) 
2025-09-18 14:33:01.0501|12|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was challenged. 
2025-09-18 14:33:01.0501|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH190" completed keep alive response. 
2025-09-18 14:33:01.0501|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7143/api/BookRental/GetAllRentals - 401 0 - 1.2368ms 
2025-09-18 14:34:06.3149|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH192" accepted. 
2025-09-18 14:34:06.3149|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMHVLKH192" received FIN. 
2025-09-18 14:34:06.3149|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH192" started. 
2025-09-18 14:34:06.3898|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH193" accepted. 
2025-09-18 14:34:06.3898|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH193" started. 
2025-09-18 14:34:06.3898|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Failed to authenticate HTTPS connection. System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-09-18 14:34:06.3898|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH192" stopped. 
2025-09-18 14:34:06.3898|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMHVLKH192" sending FIN because: "The Socket transport's send loop completed gracefully." 
2025-09-18 14:34:06.3898|3|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Connection 0HNFMHVLKH193 established using the following protocol: Tls13 
2025-09-18 14:34:06.3898|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7143/api/BookRental/GetAllRentals - - - 
2025-09-18 14:34:06.3898|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 14:34:06.3898|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/BookRental/GetAllRentals' 
2025-09-18 14:34:06.3898|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.GetRentalById (LibraryManagementSystem.API)' with route pattern 'api/BookRental/{rentalId}' is valid for the request path '/api/BookRental/GetAllRentals' 
2025-09-18 14:34:06.3898|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.GetRentalById (LibraryManagementSystem.API)' 
2025-09-18 14:34:06.3898|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 14:34:06.3898|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2025-09-18 14:34:06.3898|0|DEBUG|Microsoft.AspNetCore.Authorization.AuthorizationMiddleware|Policy authentication schemes  did not succeed 
2025-09-18 14:34:06.3898|2|INFO|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Customer) 
2025-09-18 14:34:06.3898|12|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was challenged. 
2025-09-18 14:34:06.3898|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH193" completed keep alive response. 
2025-09-18 14:34:06.3898|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7143/api/BookRental/GetAllRentals - 401 0 - 0.9093ms 
2025-09-18 14:34:57.1051|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMHVLKH191" received FIN. 
2025-09-18 14:34:57.1051|48|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH191" is closed. The last processed stream ID was 5. 
2025-09-18 14:34:57.1415|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMHVLKH191" sending FIN because: "The Socket transport's send loop completed gracefully." 
2025-09-18 14:34:57.1767|62|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Http2|The connection queue processing loop for 0HNFMHVLKH191 completed. 
2025-09-18 14:34:57.1767|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH191" stopped. 
2025-09-18 14:36:24.2529|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH194" accepted. 
2025-09-18 14:36:24.2529|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMHVLKH194" received FIN. 
2025-09-18 14:36:24.2529|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH194" started. 
2025-09-18 14:36:24.3270|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Failed to authenticate HTTPS connection. System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-09-18 14:36:24.3270|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH195" accepted. 
2025-09-18 14:36:24.3409|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH194" stopped. 
2025-09-18 14:36:24.3409|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH195" started. 
2025-09-18 14:36:24.3409|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMHVLKH194" sending FIN because: "The Socket transport's send loop completed gracefully." 
2025-09-18 14:36:24.3501|3|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Connection 0HNFMHVLKH195 established using the following protocol: Tls13 
2025-09-18 14:36:24.3501|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7143/api/BookRental/GetAllRentals - - - 
2025-09-18 14:36:24.3501|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 14:36:24.3501|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/BookRental/GetAllRentals' 
2025-09-18 14:36:24.3501|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.GetRentalById (LibraryManagementSystem.API)' with route pattern 'api/BookRental/{rentalId}' is valid for the request path '/api/BookRental/GetAllRentals' 
2025-09-18 14:36:24.3501|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.GetRentalById (LibraryManagementSystem.API)' 
2025-09-18 14:36:24.3501|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 14:36:24.3501|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2025-09-18 14:36:24.3501|0|DEBUG|Microsoft.AspNetCore.Authorization.AuthorizationMiddleware|Policy authentication schemes  did not succeed 
2025-09-18 14:36:24.3501|2|INFO|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Customer) 
2025-09-18 14:36:24.3501|12|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was challenged. 
2025-09-18 14:36:24.3501|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH195" completed keep alive response. 
2025-09-18 14:36:24.3501|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7143/api/BookRental/GetAllRentals - 401 0 - 1.5699ms 
2025-09-18 14:37:26.0983|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH196" accepted. 
2025-09-18 14:37:26.0983|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMHVLKH196" received FIN. 
2025-09-18 14:37:26.0983|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH196" started. 
2025-09-18 14:37:26.0983|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Failed to authenticate HTTPS connection. System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-09-18 14:37:26.1498|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH197" accepted. 
2025-09-18 14:37:26.1498|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH196" stopped. 
2025-09-18 14:37:26.1498|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH197" started. 
2025-09-18 14:37:26.1498|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMHVLKH196" sending FIN because: "The Socket transport's send loop completed gracefully." 
2025-09-18 14:37:26.1829|3|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Connection 0HNFMHVLKH197 established using the following protocol: Tls13 
2025-09-18 14:37:26.1829|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7143/api/BookRental/GetAllRentals - - - 
2025-09-18 14:37:26.1829|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 14:37:26.1829|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/BookRental/GetAllRentals' 
2025-09-18 14:37:26.1829|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.GetRentalById (LibraryManagementSystem.API)' with route pattern 'api/BookRental/{rentalId}' is valid for the request path '/api/BookRental/GetAllRentals' 
2025-09-18 14:37:26.1829|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.GetRentalById (LibraryManagementSystem.API)' 
2025-09-18 14:37:26.1829|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 14:37:26.1829|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2025-09-18 14:37:26.1829|0|DEBUG|Microsoft.AspNetCore.Authorization.AuthorizationMiddleware|Policy authentication schemes  did not succeed 
2025-09-18 14:37:26.1829|2|INFO|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Customer) 
2025-09-18 14:37:26.1829|12|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was challenged. 
2025-09-18 14:37:26.1829|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH197" completed keep alive response. 
2025-09-18 14:37:26.1829|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7143/api/BookRental/GetAllRentals - 401 0 - 1.9992ms 
2025-09-18 14:38:30.1688|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMHVLKH198" received FIN. 
2025-09-18 14:38:30.1844|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH198" accepted. 
2025-09-18 14:38:30.1844|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH198" started. 
2025-09-18 14:38:30.1844|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH199" accepted. 
2025-09-18 14:38:30.1844|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH199" started. 
2025-09-18 14:38:30.2134|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Failed to authenticate HTTPS connection. System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-09-18 14:38:30.2134|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH198" stopped. 
2025-09-18 14:38:30.2134|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMHVLKH198" sending FIN because: "The Socket transport's send loop completed gracefully." 
2025-09-18 14:38:30.2134|3|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Connection 0HNFMHVLKH199 established using the following protocol: Tls13 
2025-09-18 14:38:30.2134|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7143/api/BookRental/GetAllRentals - - - 
2025-09-18 14:38:30.2134|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 14:38:30.2134|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/BookRental/GetAllRentals' 
2025-09-18 14:38:30.2134|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.GetRentalById (LibraryManagementSystem.API)' with route pattern 'api/BookRental/{rentalId}' is valid for the request path '/api/BookRental/GetAllRentals' 
2025-09-18 14:38:30.2134|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.GetRentalById (LibraryManagementSystem.API)' 
2025-09-18 14:38:30.2134|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 14:38:30.2134|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2025-09-18 14:38:30.2134|0|DEBUG|Microsoft.AspNetCore.Authorization.AuthorizationMiddleware|Policy authentication schemes  did not succeed 
2025-09-18 14:38:30.2134|2|INFO|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Customer) 
2025-09-18 14:38:30.2134|12|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was challenged. 
2025-09-18 14:38:30.2134|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH199" completed keep alive response. 
2025-09-18 14:38:30.2134|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7143/api/BookRental/GetAllRentals - 401 0 - 0.4276ms 
2025-09-18 14:39:09.8031|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7143/api/BookRental/GetAllRentals - - - 
2025-09-18 14:39:09.8338|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 14:39:09.8338|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/BookRental/GetAllRentals' 
2025-09-18 14:39:09.8338|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.GetRentalById (LibraryManagementSystem.API)' with route pattern 'api/BookRental/{rentalId}' is valid for the request path '/api/BookRental/GetAllRentals' 
2025-09-18 14:39:09.8338|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.GetRentalById (LibraryManagementSystem.API)' 
2025-09-18 14:39:09.8338|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 14:39:09.8338|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2025-09-18 14:39:09.8338|0|DEBUG|Microsoft.AspNetCore.Authorization.AuthorizationMiddleware|Policy authentication schemes  did not succeed 
2025-09-18 14:39:09.8338|2|INFO|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Customer) 
2025-09-18 14:39:09.8338|12|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was challenged. 
2025-09-18 14:39:09.8338|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH199" completed keep alive response. 
2025-09-18 14:39:09.8338|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7143/api/BookRental/GetAllRentals - 401 0 - 68.5542ms 
2025-09-18 14:40:25.2395|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH19A" accepted. 
2025-09-18 14:40:25.2395|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH19A" started. 
2025-09-18 14:40:25.2395|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMHVLKH19A" received FIN. 
2025-09-18 14:40:25.2395|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH19B" accepted. 
2025-09-18 14:40:25.2815|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH19B" started. 
2025-09-18 14:40:25.3107|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Failed to authenticate HTTPS connection. System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-09-18 14:40:25.3107|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH19A" stopped. 
2025-09-18 14:40:25.3107|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMHVLKH19A" sending FIN because: "The Socket transport's send loop completed gracefully." 
2025-09-18 14:40:25.3107|3|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Connection 0HNFMHVLKH19B established using the following protocol: Tls13 
2025-09-18 14:40:25.3107|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7143/api/BookRental/GetAllRentals - - - 
2025-09-18 14:40:25.3107|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 14:40:25.3107|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/BookRental/GetAllRentals' 
2025-09-18 14:40:25.3107|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.GetRentalById (LibraryManagementSystem.API)' with route pattern 'api/BookRental/{rentalId}' is valid for the request path '/api/BookRental/GetAllRentals' 
2025-09-18 14:40:25.3107|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.GetRentalById (LibraryManagementSystem.API)' 
2025-09-18 14:40:25.3107|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 14:40:25.3107|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2025-09-18 14:40:25.3107|0|DEBUG|Microsoft.AspNetCore.Authorization.AuthorizationMiddleware|Policy authentication schemes  did not succeed 
2025-09-18 14:40:25.3107|2|INFO|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Customer) 
2025-09-18 14:40:25.3107|12|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was challenged. 
2025-09-18 14:40:25.3107|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH19B" completed keep alive response. 
2025-09-18 14:40:25.3107|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7143/api/BookRental/GetAllRentals - 401 0 - 0.3900ms 
2025-09-18 14:56:28.4150|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMHVLKH19C" received FIN. 
2025-09-18 14:56:28.4150|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH19C" accepted. 
2025-09-18 14:56:28.4150|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH19D" accepted. 
2025-09-18 14:56:28.4579|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH19D" started. 
2025-09-18 14:56:28.4579|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH19C" started. 
2025-09-18 14:56:28.4958|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Failed to authenticate HTTPS connection. System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-09-18 14:56:28.4958|3|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Connection 0HNFMHVLKH19D established using the following protocol: Tls13 
2025-09-18 14:56:28.4958|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH19C" stopped. 
2025-09-18 14:56:28.4958|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMHVLKH19C" sending FIN because: "The Socket transport's send loop completed gracefully." 
2025-09-18 14:56:28.4958|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7143/api/BookRental/GetAllRentals - - - 
2025-09-18 14:56:28.4958|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 14:56:28.4958|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/BookRental/GetAllRentals' 
2025-09-18 14:56:28.4958|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.GetRentalById (LibraryManagementSystem.API)' with route pattern 'api/BookRental/{rentalId}' is valid for the request path '/api/BookRental/GetAllRentals' 
2025-09-18 14:56:28.4958|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.GetRentalById (LibraryManagementSystem.API)' 
2025-09-18 14:56:28.4958|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 14:56:28.5486|2|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Successfully validated the token. 
2025-09-18 14:56:28.5514|8|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was successfully authenticated. 
2025-09-18 14:56:28.5514|1|DEBUG|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization was successful. 
2025-09-18 14:56:28.5514|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.GetRentalById (LibraryManagementSystem.API)' 
2025-09-18 14:56:28.5912|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetRentalById", controller = "BookRental"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[LibraryManagementSystem.API.DTO.BookRentalDTO]]] GetRentalById(System.Guid) on controller LibraryManagementSystem.API.Controllers.BookRentalController (LibraryManagementSystem.API). 
2025-09-18 14:56:28.5912|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2025-09-18 14:56:28.5912|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2025-09-18 14:56:28.5912|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2025-09-18 14:56:28.5912|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2025-09-18 14:56:28.5912|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2025-09-18 14:56:28.5912|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller LibraryManagementSystem.API.Controllers.BookRentalController (LibraryManagementSystem.API) 
2025-09-18 14:56:28.7027|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller LibraryManagementSystem.API.Controllers.BookRentalController (LibraryManagementSystem.API) 
2025-09-18 14:56:28.7027|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'rentalId' of type 'System.Guid' ... 
2025-09-18 14:56:28.7027|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'rentalId' of type 'System.Guid' using the name 'rentalId' in request data ... 
2025-09-18 14:56:28.7092|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'rentalId' of type 'System.Guid'. 
2025-09-18 14:56:28.7092|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'rentalId' of type 'System.Guid'. 
2025-09-18 14:56:28.7092|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'rentalId' of type 'System.Guid' ... 
2025-09-18 14:56:28.7092|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'rentalId' of type 'System.Guid'. 
2025-09-18 14:56:28.7092|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 14:56:28.7092|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 14:56:28.7092|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 14:56:28.7092|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter|The request has model state errors, returning an error response. 
2025-09-18 14:56:28.7092|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 14:56:28.7092|63|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'. 
2025-09-18 14:56:28.7092|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 14:56:28.7092|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 14:56:28.7092|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 14:56:28.7092|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 14:56:28.7092|5|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Before executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult. 
2025-09-18 14:56:28.7092|11|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter 
2025-09-18 14:56:28.7092|4|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|No information found on request to perform content negotiation. 
2025-09-18 14:56:28.7092|9|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types 'application/problem+json, application/problem+xml, application/problem+json, application/problem+xml'. 
2025-09-18 14:56:28.7092|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response. 
2025-09-18 14:56:28.7092|1|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'. 
2025-09-18 14:56:28.7571|6|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|After executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult. 
2025-09-18 14:56:28.7571|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 14:56:28.7571|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 14:56:28.7571|105|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action LibraryManagementSystem.API.Controllers.BookRentalController.GetRentalById (LibraryManagementSystem.API) in 165.7887ms 
2025-09-18 14:56:28.7571|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.GetRentalById (LibraryManagementSystem.API)' 
2025-09-18 14:56:28.7571|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH19D" completed keep alive response. 
2025-09-18 14:56:28.7571|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7143/api/BookRental/GetAllRentals - 400 - application/problem+json;+charset=utf-8 260.7103ms 
2025-09-18 14:57:04.5839|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7143/api/BookRental/GetAllRentals - - - 
2025-09-18 14:57:04.5839|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 14:57:04.5839|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/BookRental/GetAllRentals' 
2025-09-18 14:57:04.5839|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.GetRentalById (LibraryManagementSystem.API)' with route pattern 'api/BookRental/{rentalId}' is valid for the request path '/api/BookRental/GetAllRentals' 
2025-09-18 14:57:04.5839|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.GetRentalById (LibraryManagementSystem.API)' 
2025-09-18 14:57:04.5839|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 14:57:04.5839|2|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Successfully validated the token. 
2025-09-18 14:57:04.5839|8|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was successfully authenticated. 
2025-09-18 14:57:04.5839|1|DEBUG|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization was successful. 
2025-09-18 14:57:04.5839|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.GetRentalById (LibraryManagementSystem.API)' 
2025-09-18 14:57:04.5839|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetRentalById", controller = "BookRental"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[LibraryManagementSystem.API.DTO.BookRentalDTO]]] GetRentalById(System.Guid) on controller LibraryManagementSystem.API.Controllers.BookRentalController (LibraryManagementSystem.API). 
2025-09-18 14:57:04.5839|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2025-09-18 14:57:04.5839|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2025-09-18 14:57:04.5839|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2025-09-18 14:57:04.5839|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2025-09-18 14:57:04.5839|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2025-09-18 14:57:04.5839|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller LibraryManagementSystem.API.Controllers.BookRentalController (LibraryManagementSystem.API) 
2025-09-18 14:57:04.5839|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller LibraryManagementSystem.API.Controllers.BookRentalController (LibraryManagementSystem.API) 
2025-09-18 14:57:04.5839|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'rentalId' of type 'System.Guid' ... 
2025-09-18 14:57:04.5839|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'rentalId' of type 'System.Guid' using the name 'rentalId' in request data ... 
2025-09-18 14:57:04.5839|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'rentalId' of type 'System.Guid'. 
2025-09-18 14:57:04.5839|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'rentalId' of type 'System.Guid'. 
2025-09-18 14:57:04.5839|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'rentalId' of type 'System.Guid' ... 
2025-09-18 14:57:04.5839|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'rentalId' of type 'System.Guid'. 
2025-09-18 14:57:04.5839|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 14:57:04.5839|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 14:57:04.5839|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 14:57:04.5839|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter|The request has model state errors, returning an error response. 
2025-09-18 14:57:04.5839|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 14:57:04.5839|63|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'. 
2025-09-18 14:57:04.5839|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 14:57:04.5839|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 14:57:04.5839|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 14:57:04.5839|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 14:57:04.5839|5|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Before executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult. 
2025-09-18 14:57:04.5839|11|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter 
2025-09-18 14:57:04.5839|4|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|No information found on request to perform content negotiation. 
2025-09-18 14:57:04.6282|9|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types 'application/problem+json, application/problem+xml, application/problem+json, application/problem+xml'. 
2025-09-18 14:57:04.6589|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response. 
2025-09-18 14:57:04.6592|1|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'. 
2025-09-18 14:57:04.6592|6|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|After executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult. 
2025-09-18 14:57:04.6592|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 14:57:04.6592|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 14:57:04.6592|105|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action LibraryManagementSystem.API.Controllers.BookRentalController.GetRentalById (LibraryManagementSystem.API) in 73.9523ms 
2025-09-18 14:57:04.6592|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.GetRentalById (LibraryManagementSystem.API)' 
2025-09-18 14:57:04.6592|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH19D" completed keep alive response. 
2025-09-18 14:57:04.6592|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7143/api/BookRental/GetAllRentals - 400 - application/problem+json;+charset=utf-8 113.1695ms 
2025-09-18 14:57:24.5422|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7143/api/BookRental/GetAllRentals - - - 
2025-09-18 14:57:24.5422|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 14:57:24.5422|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/BookRental/GetAllRentals' 
2025-09-18 14:57:24.5422|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.GetRentalById (LibraryManagementSystem.API)' with route pattern 'api/BookRental/{rentalId}' is valid for the request path '/api/BookRental/GetAllRentals' 
2025-09-18 14:57:24.5422|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.GetRentalById (LibraryManagementSystem.API)' 
2025-09-18 14:57:24.5422|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 14:57:24.5422|2|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Successfully validated the token. 
2025-09-18 14:57:24.5422|8|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was successfully authenticated. 
2025-09-18 14:57:24.5422|1|DEBUG|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization was successful. 
2025-09-18 14:57:24.5422|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.GetRentalById (LibraryManagementSystem.API)' 
2025-09-18 14:57:24.5422|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetRentalById", controller = "BookRental"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[LibraryManagementSystem.API.DTO.BookRentalDTO]]] GetRentalById(System.Guid) on controller LibraryManagementSystem.API.Controllers.BookRentalController (LibraryManagementSystem.API). 
2025-09-18 14:57:24.5422|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2025-09-18 14:57:24.5422|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2025-09-18 14:57:24.5422|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2025-09-18 14:57:24.5422|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2025-09-18 14:57:24.5422|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2025-09-18 14:57:24.5422|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller LibraryManagementSystem.API.Controllers.BookRentalController (LibraryManagementSystem.API) 
2025-09-18 14:57:24.5491|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller LibraryManagementSystem.API.Controllers.BookRentalController (LibraryManagementSystem.API) 
2025-09-18 14:57:24.5491|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'rentalId' of type 'System.Guid' ... 
2025-09-18 14:57:24.5491|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'rentalId' of type 'System.Guid' using the name 'rentalId' in request data ... 
2025-09-18 14:57:24.5491|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'rentalId' of type 'System.Guid'. 
2025-09-18 14:57:24.5491|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'rentalId' of type 'System.Guid'. 
2025-09-18 14:57:24.5491|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'rentalId' of type 'System.Guid' ... 
2025-09-18 14:57:24.5491|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'rentalId' of type 'System.Guid'. 
2025-09-18 14:57:24.5491|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 14:57:24.5491|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 14:57:24.5491|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 14:57:24.5491|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter|The request has model state errors, returning an error response. 
2025-09-18 14:57:24.5491|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 14:57:24.5491|63|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'. 
2025-09-18 14:57:24.5491|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 14:57:24.5491|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 14:57:24.5491|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 14:57:24.5491|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 14:57:24.5491|5|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Before executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult. 
2025-09-18 14:57:24.5491|11|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter 
2025-09-18 14:57:24.5491|4|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|No information found on request to perform content negotiation. 
2025-09-18 14:57:24.5491|9|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types 'application/problem+json, application/problem+xml, application/problem+json, application/problem+xml'. 
2025-09-18 14:57:24.5491|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response. 
2025-09-18 14:57:24.5491|1|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'. 
2025-09-18 14:57:24.5491|6|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|After executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult. 
2025-09-18 14:57:24.5491|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 14:57:24.5491|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 14:57:24.5491|105|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action LibraryManagementSystem.API.Controllers.BookRentalController.GetRentalById (LibraryManagementSystem.API) in 6.6193ms 
2025-09-18 14:57:24.5491|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.GetRentalById (LibraryManagementSystem.API)' 
2025-09-18 14:57:24.5491|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH19D" completed keep alive response. 
2025-09-18 14:57:24.5491|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7143/api/BookRental/GetAllRentals - 400 - application/problem+json;+charset=utf-8 8.3562ms 
2025-09-18 14:57:33.9639|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7143/api/BookRental/GetAllRentals - - - 
2025-09-18 14:57:33.9639|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 14:57:33.9639|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/BookRental/GetAllRentals' 
2025-09-18 14:57:33.9639|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.GetRentalById (LibraryManagementSystem.API)' with route pattern 'api/BookRental/{rentalId}' is valid for the request path '/api/BookRental/GetAllRentals' 
2025-09-18 14:57:33.9639|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.GetRentalById (LibraryManagementSystem.API)' 
2025-09-18 14:57:33.9639|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 14:57:33.9639|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2025-09-18 14:57:33.9639|0|DEBUG|Microsoft.AspNetCore.Authorization.AuthorizationMiddleware|Policy authentication schemes  did not succeed 
2025-09-18 14:57:33.9639|2|INFO|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Customer) 
2025-09-18 14:57:33.9639|12|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was challenged. 
2025-09-18 14:57:33.9639|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH19D" completed keep alive response. 
2025-09-18 14:57:33.9639|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7143/api/BookRental/GetAllRentals - 401 0 - 1.2009ms 
2025-09-18 14:57:43.3402|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7143/api/BookRental/GetAllRentals - - - 
2025-09-18 14:57:43.3402|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 14:57:43.3402|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/BookRental/GetAllRentals' 
2025-09-18 14:57:43.3402|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.GetRentalById (LibraryManagementSystem.API)' with route pattern 'api/BookRental/{rentalId}' is valid for the request path '/api/BookRental/GetAllRentals' 
2025-09-18 14:57:43.3402|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.GetRentalById (LibraryManagementSystem.API)' 
2025-09-18 14:57:43.3402|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 14:57:43.3402|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2025-09-18 14:57:43.3402|0|DEBUG|Microsoft.AspNetCore.Authorization.AuthorizationMiddleware|Policy authentication schemes  did not succeed 
2025-09-18 14:57:43.3402|2|INFO|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Customer) 
2025-09-18 14:57:43.3402|12|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was challenged. 
2025-09-18 14:57:43.3463|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH19D" completed keep alive response. 
2025-09-18 14:57:43.3463|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7143/api/BookRental/GetAllRentals - 401 0 - 6.4132ms 
2025-09-18 14:57:48.5649|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7143/api/BookRental/GetAllRentals - - - 
2025-09-18 14:57:48.5649|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 14:57:48.5649|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/BookRental/GetAllRentals' 
2025-09-18 14:57:48.5649|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.GetRentalById (LibraryManagementSystem.API)' with route pattern 'api/BookRental/{rentalId}' is valid for the request path '/api/BookRental/GetAllRentals' 
2025-09-18 14:57:48.5649|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.GetRentalById (LibraryManagementSystem.API)' 
2025-09-18 14:57:48.5649|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 14:57:48.5649|2|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Successfully validated the token. 
2025-09-18 14:57:48.5649|8|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was successfully authenticated. 
2025-09-18 14:57:48.5649|1|DEBUG|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization was successful. 
2025-09-18 14:57:48.5649|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.GetRentalById (LibraryManagementSystem.API)' 
2025-09-18 14:57:48.5649|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetRentalById", controller = "BookRental"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[LibraryManagementSystem.API.DTO.BookRentalDTO]]] GetRentalById(System.Guid) on controller LibraryManagementSystem.API.Controllers.BookRentalController (LibraryManagementSystem.API). 
2025-09-18 14:57:48.5649|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2025-09-18 14:57:48.5649|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2025-09-18 14:57:48.5649|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2025-09-18 14:57:48.5649|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2025-09-18 14:57:48.5649|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2025-09-18 14:57:48.5916|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller LibraryManagementSystem.API.Controllers.BookRentalController (LibraryManagementSystem.API) 
2025-09-18 14:57:48.5916|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller LibraryManagementSystem.API.Controllers.BookRentalController (LibraryManagementSystem.API) 
2025-09-18 14:57:48.5916|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'rentalId' of type 'System.Guid' ... 
2025-09-18 14:57:48.5916|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'rentalId' of type 'System.Guid' using the name 'rentalId' in request data ... 
2025-09-18 14:57:48.5916|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'rentalId' of type 'System.Guid'. 
2025-09-18 14:57:48.5916|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'rentalId' of type 'System.Guid'. 
2025-09-18 14:57:48.5916|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'rentalId' of type 'System.Guid' ... 
2025-09-18 14:57:48.5916|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'rentalId' of type 'System.Guid'. 
2025-09-18 14:57:48.5916|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 14:57:48.5916|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 14:57:48.5916|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 14:57:48.5916|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter|The request has model state errors, returning an error response. 
2025-09-18 14:57:48.5916|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 14:57:48.5916|63|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'. 
2025-09-18 14:57:48.5916|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 14:57:48.5916|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 14:57:48.5916|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 14:57:48.5916|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 14:57:48.5916|5|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Before executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult. 
2025-09-18 14:57:48.5916|11|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter 
2025-09-18 14:57:48.5916|4|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|No information found on request to perform content negotiation. 
2025-09-18 14:57:48.5916|9|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types 'application/problem+json, application/problem+xml, application/problem+json, application/problem+xml'. 
2025-09-18 14:57:48.5916|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response. 
2025-09-18 14:57:48.5916|1|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'. 
2025-09-18 14:57:48.5916|6|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|After executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult. 
2025-09-18 14:57:48.5916|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 14:57:48.5916|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 14:57:48.5916|105|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action LibraryManagementSystem.API.Controllers.BookRentalController.GetRentalById (LibraryManagementSystem.API) in 17.2825ms 
2025-09-18 14:57:48.5916|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.GetRentalById (LibraryManagementSystem.API)' 
2025-09-18 14:57:48.5916|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH19D" completed keep alive response. 
2025-09-18 14:57:48.5916|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7143/api/BookRental/GetAllRentals - 400 - application/problem+json;+charset=utf-8 29.3013ms 
2025-09-18 15:00:33.4504|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMHVLKH19E" received FIN. 
2025-09-18 15:00:33.4504|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH19E" accepted. 
2025-09-18 15:00:33.4504|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH19F" accepted. 
2025-09-18 15:00:33.4504|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH19E" started. 
2025-09-18 15:00:33.4641|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH19F" started. 
2025-09-18 15:00:33.4766|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Failed to authenticate HTTPS connection. System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-09-18 15:00:33.4766|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH19E" stopped. 
2025-09-18 15:00:33.4766|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMHVLKH19E" sending FIN because: "The Socket transport's send loop completed gracefully." 
2025-09-18 15:00:33.4766|3|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Connection 0HNFMHVLKH19F established using the following protocol: Tls13 
2025-09-18 15:00:33.4766|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7143/api/BookRental - - - 
2025-09-18 15:00:33.4766|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 15:00:33.4766|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/BookRental' 
2025-09-18 15:00:33.4766|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.GetAllRentals (LibraryManagementSystem.API)' with route pattern 'api/BookRental' is valid for the request path '/api/BookRental' 
2025-09-18 15:00:33.4766|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.GetAllRentals (LibraryManagementSystem.API)' 
2025-09-18 15:00:33.4766|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 15:00:33.4766|2|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Successfully validated the token. 
2025-09-18 15:00:33.4766|8|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was successfully authenticated. 
2025-09-18 15:00:33.4766|1|DEBUG|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization was successful. 
2025-09-18 15:00:33.4766|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.GetAllRentals (LibraryManagementSystem.API)' 
2025-09-18 15:00:33.4766|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetAllRentals", controller = "BookRental"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[LibraryManagementSystem.API.DTO.BookRentalDTO]] GetAllRentals() on controller LibraryManagementSystem.API.Controllers.BookRentalController (LibraryManagementSystem.API). 
2025-09-18 15:00:33.4766|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2025-09-18 15:00:33.4766|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2025-09-18 15:00:33.4766|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2025-09-18 15:00:33.4766|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2025-09-18 15:00:33.4766|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2025-09-18 15:00:33.4766|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller LibraryManagementSystem.API.Controllers.BookRentalController (LibraryManagementSystem.API) 
2025-09-18 15:00:33.4766|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller LibraryManagementSystem.API.Controllers.BookRentalController (LibraryManagementSystem.API) 
2025-09-18 15:00:33.4766|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 15:00:33.4950|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 15:00:33.4950|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 15:00:33.4950|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 15:00:33.4950|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method LibraryManagementSystem.API.Controllers.BookRentalController.GetAllRentals (LibraryManagementSystem.API) - Validation state: Valid 
2025-09-18 15:00:33.5229|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 9.0.8 initialized 'LibraryContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.8' with options: EngineType=SqlServer  
2025-09-18 15:00:33.5577|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<BookRentals>()
    .Include(r => r.Customer)
    .Include(r => r.Book)' 
2025-09-18 15:00:33.6298|10112|DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'BookRentals.Customer'. 
2025-09-18 15:00:33.6298|10112|DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'BookRentals.Book'. 
2025-09-18 15:00:33.8098|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<BookRentals>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: BookRentals.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: BookRentals.BookId (Guid) Required FK Index, 1], [Property: BookRentals.CustomerId (string) Required FK Index, 2], [Property: BookRentals.Price (double) Required, 3], [Property: BookRentals.Quantity (int) Required, 4], [Property: BookRentals.RentEndDate (DateTime) Required, 5], [Property: BookRentals.RentStartDate (DateTime) Required, 6] }
            1 -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 7], [Property: User.AccessFailedCount (int) Required, 8], [Property: User.ConcurrencyStamp (string) Concurrency, 9], [Property: User.DateCreated (DateTime) Required, 10], [Property: User.Email (string) MaxLength(256), 11], [Property: User.EmailConfirmed (bool) Required, 12], [Property: User.FirstName (string) Required, 13], [Property: User.LastName (string) Required, 14], [Property: User.LockoutEnabled (bool) Required, 15], [Property: User.LockoutEnd (DateTimeOffset?), 16], [Property: User.NormalizedEmail (string) Index MaxLength(256), 17], [Property: User.NormalizedUserName (string) Index MaxLength(256), 18], [Property: User.PasswordHash (string), 19], [Property: User.PhoneNumber (string), 20], [Property: User.PhoneNumberConfirmed (bool) Required, 21], [Property: User.SecurityStamp (string), 22], [Property: User.TwoFactorEnabled (bool) Required, 23], [Property: User.UserName (string) MaxLength(256), 24] }
            2 -> Dictionary<IProperty, int> { [Property: Book.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 25], [Property: Book.CreatedAt (DateTime) Required, 26], [Property: Book.Description (string), 27], [Property: Book.LastModifiedAt (DateTime?), 28], [Property: Book.LastModifiedBy (DateTime?), 29], [Property: Book.Price (decimal?), 30], [Property: Book.PublisherId (Guid?) FK Index, 31], [Property: Book.Quantity (int) Required, 32], [Property: Book.Title (string), 33] }
        SELECT b.Id, b.BookId, b.CustomerId, b.Price, b.Quantity, b.RentEndDate, b.RentStartDate, a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.DateCreated, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, b0.Id, b0.CreatedAt, b0.Description, b0.LastModifiedAt, b0.LastModifiedBy, b0.Price, b0.PublisherId, b0.Quantity, b0.Title
        FROM BookRentals AS b
        INNER JOIN AspNetUsers AS a ON b.CustomerId == a.Id
        INNER JOIN Books AS b0 ON b.BookId == b0.Id) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: BookRentals.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: BookRentals.BookId (Guid) Required FK Index, 1], [Property: BookRentals.CustomerId (string) Required FK Index, 2], [Property: BookRentals.Price (double) Required, 3], [Property: BookRentals.Quantity (int) Required, 4], [Property: BookRentals.RentEndDate (DateTime) Required, 5], [Property: BookRentals.RentStartDate (DateTime) Required, 6] }
            1 -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 7], [Property: User.AccessFailedCount (int) Required, 8], [Property: User.ConcurrencyStamp (string) Concurrency, 9], [Property: User.DateCreated (DateTime) Required, 10], [Property: User.Email (string) MaxLength(256), 11], [Property: User.EmailConfirmed (bool) Required, 12], [Property: User.FirstName (string) Required, 13], [Property: User.LastName (string) Required, 14], [Property: User.LockoutEnabled (bool) Required, 15], [Property: User.LockoutEnd (DateTimeOffset?), 16], [Property: User.NormalizedEmail (string) Index MaxLength(256), 17], [Property: User.NormalizedUserName (string) Index MaxLength(256), 18], [Property: User.PasswordHash (string), 19], [Property: User.PhoneNumber (string), 20], [Property: User.PhoneNumberConfirmed (bool) Required, 21], [Property: User.SecurityStamp (string), 22], [Property: User.TwoFactorEnabled (bool) Required, 23], [Property: User.UserName (string) MaxLength(256), 24] }
            2 -> Dictionary<IProperty, int> { [Property: Book.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 25], [Property: Book.CreatedAt (DateTime) Required, 26], [Property: Book.Description (string), 27], [Property: Book.LastModifiedAt (DateTime?), 28], [Property: Book.LastModifiedBy (DateTime?), 29], [Property: Book.Price (decimal?), 30], [Property: Book.PublisherId (Guid?) FK Index, 31], [Property: Book.Quantity (int) Required, 32], [Property: Book.Title (string), 33] }
        SELECT b.Id, b.BookId, b.CustomerId, b.Price, b.Quantity, b.RentEndDate, b.RentStartDate, a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.DateCreated, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, b0.Id, b0.CreatedAt, b0.Description, b0.LastModifiedAt, b0.LastModifiedBy, b0.Price, b0.PublisherId, b0.Quantity, b0.Title
        FROM BookRentals AS b
        INNER JOIN AspNetUsers AS a ON b.CustomerId == a.Id
        INNER JOIN Books AS b0 ON b.BookId == b0.Id, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        BookRentals entity;
        User entity;
        Book entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            BookRentals instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(BookRentals);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: BookRentals.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Entities.BookRentals").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (BookRentals)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: BookRentals | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Entities.BookRentals")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: BookRentals | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Entities.BookRentals")]: 
                        {
                            return 
                            {
                                BookRentals instance;
                                instance = new BookRentals();
                                instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                instance.<BookId>k__BackingField = dataReader.GetGuid(1);
                                instance.<CustomerId>k__BackingField = dataReader.GetString(2);
                                instance.<Price>k__BackingField = dataReader.GetDouble(3);
                                instance.<Quantity>k__BackingField = dataReader.GetInt32(4);
                                instance.<RentEndDate>k__BackingField = dataReader.GetDateTime(5);
                                instance.<RentStartDate>k__BackingField = dataReader.GetDateTime(6);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: BookRentals | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Entities.BookRentals")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(BookRentals)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        entity = 
        {
            MaterializationContext materializationContext2;
            IEntityType entityType2;
            User instance2;
            InternalEntityEntry entry2;
            bool hasNullKey2;
            materializationContext2 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance2 = default(User);
            entry2 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Identity.User").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetString(7) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey2);
            !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
            {
                entityType2 = entry2.EntityType;
                return instance2 = (User)entry2.Entity;
            } : 
            {
                ISnapshot shadowSnapshot2;
                shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType2 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Identity.User")];
                instance2 = switch (entityType2)
                {
                    case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Identity.User")]: 
                        {
                            return 
                            {
                                User instance;
                                instance = new User();
                                instance.<Id>k__BackingField = dataReader.GetString(7);
                                instance.<AccessFailedCount>k__BackingField = dataReader.GetInt32(8);
                                instance.<ConcurrencyStamp>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                instance.<DateCreated>k__BackingField = dataReader.GetDateTime(10);
                                instance.<Email>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                instance.<EmailConfirmed>k__BackingField = dataReader.GetBoolean(12);
                                instance.<FirstName>k__BackingField = dataReader.GetString(13);
                                instance.<LastName>k__BackingField = dataReader.GetString(14);
                                instance.<LockoutEnabled>k__BackingField = dataReader.GetBoolean(15);
                                instance.<LockoutEnd>k__BackingField = dataReader.IsDBNull(16) ? default(DateTimeOffset?) : (DateTimeOffset?)dataReader.GetFieldValue<DateTimeOffset>(16);
                                instance.<NormalizedEmail>k__BackingField = dataReader.IsDBNull(17) ? default(string) : dataReader.GetString(17);
                                instance.<NormalizedUserName>k__BackingField = dataReader.IsDBNull(18) ? default(string) : dataReader.GetString(18);
                                instance.<PasswordHash>k__BackingField = dataReader.IsDBNull(19) ? default(string) : dataReader.GetString(19);
                                instance.<PhoneNumber>k__BackingField = dataReader.IsDBNull(20) ? default(string) : dataReader.GetString(20);
                                instance.<PhoneNumberConfirmed>k__BackingField = dataReader.GetBoolean(21);
                                instance.<SecurityStamp>k__BackingField = dataReader.IsDBNull(22) ? default(string) : dataReader.GetString(22);
                                instance.<TwoFactorEnabled>k__BackingField = dataReader.GetBoolean(23);
                                instance.<UserName>k__BackingField = dataReader.IsDBNull(24) ? default(string) : dataReader.GetString(24);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext2.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Identity.User")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(User)
                }
                ;
                entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType2, 
                    entity: instance2, 
                    snapshot: shadowSnapshot2);
                return instance2;
            } : default(void);
            return instance2;
        };
        entity = 
        {
            MaterializationContext materializationContext3;
            IEntityType entityType3;
            Book instance3;
            InternalEntityEntry entry3;
            bool hasNullKey3;
            materializationContext3 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance3 = default(Book);
            entry3 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Book.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("LibraryManagmentSystem.Entities.Book").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(25) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey3);
            !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
            {
                entityType3 = entry3.EntityType;
                return instance3 = (Book)entry3.Entity;
            } : 
            {
                ISnapshot shadowSnapshot3;
                shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType3 = [LIFTABLE Constant: EntityType: Book | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("LibraryManagmentSystem.Entities.Book")];
                instance3 = switch (entityType3)
                {
                    case [LIFTABLE Constant: EntityType: Book | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("LibraryManagmentSystem.Entities.Book")]: 
                        {
                            return 
                            {
                                Book instance;
                                instance = new Book();
                                instance.<Id>k__BackingField = dataReader.GetGuid(25);
                                instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(26);
                                instance.<Description>k__BackingField = dataReader.IsDBNull(27) ? default(string) : dataReader.GetString(27);
                                instance.<LastModifiedAt>k__BackingField = dataReader.IsDBNull(28) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(28);
                                instance.<LastModifiedBy>k__BackingField = dataReader.IsDBNull(29) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(29);
                                instance.<Price>k__BackingField = dataReader.IsDBNull(30) ? default(decimal?) : (decimal?)dataReader.GetDecimal(30);
                                instance.<PublisherId>k__BackingField = dataReader.IsDBNull(31) ? default(Guid?) : (Guid?)dataReader.GetGuid(31);
                                instance.<Quantity>k__BackingField = dataReader.GetInt32(32);
                                instance.<Title>k__BackingField = dataReader.IsDBNull(33) ? default(string) : dataReader.GetString(33);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext3.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Book | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("LibraryManagmentSystem.Entities.Book")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Book)
                }
                ;
                entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType3, 
                    entity: instance3, 
                    snapshot: shadowSnapshot3);
                return instance3;
            } : default(void);
            return instance3;
        };
        ShaperProcessingExpressionVisitor.IncludeReference<BookRentals, BookRentals, User>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: BookRentals.Customer (User) ToPrincipal User Inverse: BookRentals | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Entities.BookRentals").FindNavigation("Customer")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: User.BookRentals (ICollection<BookRentals>) Collection ToDependent BookRentals Inverse: Customer | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Identity.User").FindNavigation("BookRentals")], 
            fixup: (namelessParameter{11}, namelessParameter{12}) => 
            {
                namelessParameter{11}.<Customer>k__BackingField = namelessParameter{12};
                return [LIFTABLE Constant: ClrICollectionAccessor<User, ICollection<BookRentals>, BookRentals> | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Identity.User").FindNavigation("BookRentals").GetCollectionAccessor()].Add(
                    entity: namelessParameter{12}, 
                    value: namelessParameter{11}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<BookRentals, BookRentals, Book>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: BookRentals.Book (Book) ToPrincipal Book Inverse: BookRentals | Resolver: namelessParameter{14} => namelessParameter{14}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Entities.BookRentals").FindNavigation("Book")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Book.BookRentals (ICollection<BookRentals>) Collection ToDependent BookRentals Inverse: Book | Resolver: namelessParameter{15} => namelessParameter{15}.Dependencies.Model.FindEntityType("LibraryManagmentSystem.Entities.Book").FindNavigation("BookRentals")], 
            fixup: (namelessParameter{16}, namelessParameter{17}) => 
            {
                namelessParameter{16}.<Book>k__BackingField = namelessParameter{17};
                return [LIFTABLE Constant: ClrICollectionAccessor<Book, ICollection<BookRentals>, BookRentals> | Resolver: namelessParameter{18} => namelessParameter{18}.Dependencies.Model.FindEntityType("LibraryManagmentSystem.Entities.Book").FindNavigation("BookRentals").GetCollectionAccessor()].Add(
                    entity: namelessParameter{17}, 
                    value: namelessParameter{16}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        return entity;
    }, 
    contextType: LibraryManagmentSystem.Data.LibraryContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)' 
2025-09-18 15:00:33.8218|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2025-09-18 15:00:33.8218|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2025-09-18 15:00:33.8218|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:00:33.8698|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:00:33.8983|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2025-09-18 15:00:33.8983|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2025-09-18 15:00:33.8983|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2025-09-18 15:00:33.8983|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[CustomerId], [b].[Price], [b].[Quantity], [b].[RentEndDate], [b].[RentStartDate], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateCreated], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [b0].[Id], [b0].[CreatedAt], [b0].[Description], [b0].[LastModifiedAt], [b0].[LastModifiedBy], [b0].[Price], [b0].[PublisherId], [b0].[Quantity], [b0].[Title]
FROM [BookRentals] AS [b]
INNER JOIN [AspNetUsers] AS [a] ON [b].[CustomerId] = [a].[Id]
INNER JOIN [Books] AS [b0] ON [b].[BookId] = [b0].[Id] 
2025-09-18 15:00:33.9505|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (51ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[CustomerId], [b].[Price], [b].[Quantity], [b].[RentEndDate], [b].[RentStartDate], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateCreated], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [b0].[Id], [b0].[CreatedAt], [b0].[Description], [b0].[LastModifiedAt], [b0].[LastModifiedBy], [b0].[Price], [b0].[PublisherId], [b0].[Quantity], [b0].[Title]
FROM [BookRentals] AS [b]
INNER JOIN [AspNetUsers] AS [a] ON [b].[CustomerId] = [a].[Id]
INNER JOIN [Books] AS [b0] ON [b].[BookId] = [b0].[Id] 
2025-09-18 15:00:33.9961|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:00:34.0623|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:00:34.0714|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:00:34.0968|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Book' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:00:34.1049|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:00:34.1387|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:00:34.1387|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Book' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:00:34.1387|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:00:34.1387|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:00:34.1387|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:00:34.1387|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:00:34.1387|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Book' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:00:34.1387|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:00:34.1387|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:00:34.1387|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:00:34.1387|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:00:34.1387|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:00:34.1387|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:00:34.1387|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:00:34.1387|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:00:34.1387|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:00:34.1483|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:00:34.1483|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:00:34.1483|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:00:34.1483|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'LibraryDb' on server 'LAPTOP-4LPUPLC4' is being disposed after spending 198ms reading results. 
2025-09-18 15:00:34.1483|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:00:34.1483|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4' (0ms). 
2025-09-18 15:00:34.1845|103|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action method LibraryManagementSystem.API.Controllers.BookRentalController.GetAllRentals (LibraryManagementSystem.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 688.9033ms. 
2025-09-18 15:00:34.1845|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 15:00:34.1845|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 15:00:34.1845|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 15:00:34.1845|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 15:00:34.1845|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 15:00:34.1845|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 15:00:34.1845|5|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult. 
2025-09-18 15:00:34.1845|11|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter 
2025-09-18 15:00:34.1845|4|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|No information found on request to perform content negotiation. 
2025-09-18 15:00:34.1845|8|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select an output formatter without using a content type as no explicit content types were specified for the response. 
2025-09-18 15:00:34.1845|10|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select the first formatter in the output formatters list which can write the result. 
2025-09-18 15:00:34.1845|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response. 
2025-09-18 15:00:34.1845|1|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LibraryManagementSystem.API.DTO.BookRentalDTO, LibraryManagementSystem.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-09-18 15:00:34.2126|6|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult. 
2025-09-18 15:00:34.2126|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 15:00:34.2126|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 15:00:34.2126|105|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action LibraryManagementSystem.API.Controllers.BookRentalController.GetAllRentals (LibraryManagementSystem.API) in 718.5028ms 
2025-09-18 15:00:34.2126|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.GetAllRentals (LibraryManagementSystem.API)' 
2025-09-18 15:00:34.2126|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH19F" completed keep alive response. 
2025-09-18 15:00:34.2126|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'LibraryContext' disposed. 
2025-09-18 15:00:34.2126|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:00:34.2126|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2025-09-18 15:00:34.2126|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7143/api/BookRental - 200 - application/json;+charset=utf-8 734.6534ms 
2025-09-18 15:06:36.9634|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH19G" accepted. 
2025-09-18 15:06:36.9634|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH19G" started. 
2025-09-18 15:06:36.9744|3|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Connection 0HNFMHVLKH19G established using the following protocol: Tls13 
2025-09-18 15:06:36.9744|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19G" sending SETTINGS frame for stream ID 0 with length 24 and flags NONE. 
2025-09-18 15:06:36.9744|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19G" sending WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2025-09-18 15:06:36.9744|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19G" received SETTINGS frame for stream ID 0 with length 24 and flags NONE. 
2025-09-18 15:06:36.9744|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19G" sending SETTINGS frame for stream ID 0 with length 0 and flags ACK. 
2025-09-18 15:06:36.9744|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19G" received WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2025-09-18 15:06:36.9744|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19G" received HEADERS frame for stream ID 1 with length 436 and flags END_HEADERS, PRIORITY. 
2025-09-18 15:06:36.9744|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19G" received DATA frame for stream ID 1 with length 70 and flags END_STREAM. 
2025-09-18 15:06:36.9744|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19G" received SETTINGS frame for stream ID 0 with length 0 and flags ACK. 
2025-09-18 15:06:36.9744|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:7143/api/Account/Login - application/json 70 
2025-09-18 15:06:36.9744|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 15:06:36.9744|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/Account/Login' 
2025-09-18 15:06:36.9744|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'LibraryManagementSystem.API.Controllers.AccountController.login (LibraryManagementSystem.API)' with route pattern 'api/Account/Login' is valid for the request path '/api/Account/Login' 
2025-09-18 15:06:36.9744|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'LibraryManagementSystem.API.Controllers.AccountController.login (LibraryManagementSystem.API)' 
2025-09-18 15:06:36.9744|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 15:06:36.9744|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2025-09-18 15:06:36.9744|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'LibraryManagementSystem.API.Controllers.AccountController.login (LibraryManagementSystem.API)' 
2025-09-18 15:06:36.9744|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[LibraryManagementSystem.Data.DTO.UserDTO]] login(LibraryManagementSystem.API.DTO.Requests.CreateLoginRequest) on controller LibraryManagementSystem.API.Controllers.AccountController (LibraryManagementSystem.API). 
2025-09-18 15:06:36.9744|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2025-09-18 15:06:36.9744|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2025-09-18 15:06:36.9744|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2025-09-18 15:06:36.9744|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2025-09-18 15:06:36.9744|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2025-09-18 15:06:36.9744|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller LibraryManagementSystem.API.Controllers.AccountController (LibraryManagementSystem.API) 
2025-09-18 15:06:36.9744|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller LibraryManagementSystem.API.Controllers.AccountController (LibraryManagementSystem.API) 
2025-09-18 15:06:36.9744|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'request' of type 'LibraryManagementSystem.API.DTO.Requests.CreateLoginRequest' ... 
2025-09-18 15:06:36.9744|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Attempting to bind parameter 'request' of type 'LibraryManagementSystem.API.DTO.Requests.CreateLoginRequest' using the name '' in request data ... 
2025-09-18 15:06:36.9744|1|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'. 
2025-09-18 15:06:36.9744|25|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HNFMHVLKH19G", Request id "0HNFMHVLKH19G:00000001": started reading request body. 
2025-09-18 15:06:36.9744|26|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HNFMHVLKH19G", Request id "0HNFMHVLKH19G:00000001": done reading request body. 
2025-09-18 15:06:36.9744|2|DEBUG|Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter|JSON input formatter succeeded, deserializing to type 'LibraryManagementSystem.API.DTO.Requests.CreateLoginRequest' 
2025-09-18 15:06:36.9744|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Done attempting to bind parameter 'request' of type 'LibraryManagementSystem.API.DTO.Requests.CreateLoginRequest'. 
2025-09-18 15:06:36.9744|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'request' of type 'LibraryManagementSystem.API.DTO.Requests.CreateLoginRequest'. 
2025-09-18 15:06:36.9744|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'request' of type 'LibraryManagementSystem.API.DTO.Requests.CreateLoginRequest' ... 
2025-09-18 15:06:36.9744|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'request' of type 'LibraryManagementSystem.API.DTO.Requests.CreateLoginRequest'. 
2025-09-18 15:06:36.9744|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 15:06:36.9744|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 15:06:36.9744|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 15:06:36.9744|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 15:06:36.9744|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method LibraryManagementSystem.API.Controllers.AccountController.login (LibraryManagementSystem.API) - Validation state: Valid 
2025-09-18 15:06:36.9744|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method LibraryManagementSystem.API.Controllers.AccountController.login (LibraryManagementSystem.API) with arguments (LibraryManagementSystem.API.DTO.Requests.CreateLoginRequest) 
2025-09-18 15:06:36.9744|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 9.0.8 initialized 'LibraryContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.8' with options: EngineType=SqlServer  
2025-09-18 15:06:36.9744|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2025-09-18 15:06:36.9744|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2025-09-18 15:06:36.9744|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:06:37.0116|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:06:37.0116|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2025-09-18 15:06:37.0116|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2025-09-18 15:06:37.0116|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2025-09-18 15:06:37.0116|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateCreated], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0 
2025-09-18 15:06:37.0283|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (16ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateCreated], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0 
2025-09-18 15:06:37.0283|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:06:37.0283|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'LibraryDb' on server 'LAPTOP-4LPUPLC4' is being disposed after spending 0ms reading results. 
2025-09-18 15:06:37.0283|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:06:37.0283|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4' (0ms). 
2025-09-18 15:06:37.0283|103|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action method LibraryManagementSystem.API.Controllers.AccountController.login (LibraryManagementSystem.API), returned result Microsoft.AspNetCore.Mvc.UnauthorizedObjectResult in 52.442ms. 
2025-09-18 15:06:37.0283|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 15:06:37.0283|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 15:06:37.0283|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 15:06:37.0283|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 15:06:37.0283|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 15:06:37.0283|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 15:06:37.0283|5|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Before executing action result Microsoft.AspNetCore.Mvc.UnauthorizedObjectResult. 
2025-09-18 15:06:37.0283|11|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter 
2025-09-18 15:06:37.0283|4|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|No information found on request to perform content negotiation. 
2025-09-18 15:06:37.0283|8|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select an output formatter without using a content type as no explicit content types were specified for the response. 
2025-09-18 15:06:37.0283|10|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select the first formatter in the output formatters list which can write the result. 
2025-09-18 15:06:37.0283|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response. 
2025-09-18 15:06:37.0283|1|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing UnauthorizedObjectResult, writing value of type 'System.String'. 
2025-09-18 15:06:37.0283|6|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|After executing action result Microsoft.AspNetCore.Mvc.UnauthorizedObjectResult. 
2025-09-18 15:06:37.0283|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 15:06:37.0283|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 15:06:37.0283|105|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action LibraryManagementSystem.API.Controllers.AccountController.login (LibraryManagementSystem.API) in 56.3948ms 
2025-09-18 15:06:37.0283|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'LibraryManagementSystem.API.Controllers.AccountController.login (LibraryManagementSystem.API)' 
2025-09-18 15:06:37.0283|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'LibraryContext' disposed. 
2025-09-18 15:06:37.0283|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:06:37.0283|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2025-09-18 15:06:37.0283|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19G" sending HEADERS frame for stream ID 1 with length 72 and flags END_HEADERS. 
2025-09-18 15:06:37.0283|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19G" sending DATA frame for stream ID 1 with length 28 and flags NONE. 
2025-09-18 15:06:37.0283|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:7143/api/Account/Login - 401 - text/plain;+charset=utf-8 57.3382ms 
2025-09-18 15:06:37.0283|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19G" sending DATA frame for stream ID 1 with length 0 and flags END_STREAM. 
2025-09-18 15:06:40.8842|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19G" received HEADERS frame for stream ID 3 with length 42 and flags END_HEADERS, PRIORITY. 
2025-09-18 15:06:40.8842|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19G" received DATA frame for stream ID 3 with length 68 and flags END_STREAM. 
2025-09-18 15:06:40.8842|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:7143/api/Account/Login - application/json 68 
2025-09-18 15:06:40.8842|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 15:06:40.8842|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/Account/Login' 
2025-09-18 15:06:40.8842|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'LibraryManagementSystem.API.Controllers.AccountController.login (LibraryManagementSystem.API)' with route pattern 'api/Account/Login' is valid for the request path '/api/Account/Login' 
2025-09-18 15:06:40.8842|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'LibraryManagementSystem.API.Controllers.AccountController.login (LibraryManagementSystem.API)' 
2025-09-18 15:06:40.8842|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 15:06:40.8842|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2025-09-18 15:06:40.8842|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'LibraryManagementSystem.API.Controllers.AccountController.login (LibraryManagementSystem.API)' 
2025-09-18 15:06:40.8842|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[LibraryManagementSystem.Data.DTO.UserDTO]] login(LibraryManagementSystem.API.DTO.Requests.CreateLoginRequest) on controller LibraryManagementSystem.API.Controllers.AccountController (LibraryManagementSystem.API). 
2025-09-18 15:06:40.8842|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2025-09-18 15:06:40.8842|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2025-09-18 15:06:40.8842|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2025-09-18 15:06:40.8842|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2025-09-18 15:06:40.8842|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2025-09-18 15:06:40.8842|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller LibraryManagementSystem.API.Controllers.AccountController (LibraryManagementSystem.API) 
2025-09-18 15:06:40.8842|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller LibraryManagementSystem.API.Controllers.AccountController (LibraryManagementSystem.API) 
2025-09-18 15:06:40.8842|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'request' of type 'LibraryManagementSystem.API.DTO.Requests.CreateLoginRequest' ... 
2025-09-18 15:06:40.8842|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Attempting to bind parameter 'request' of type 'LibraryManagementSystem.API.DTO.Requests.CreateLoginRequest' using the name '' in request data ... 
2025-09-18 15:06:40.8842|1|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'. 
2025-09-18 15:06:40.8842|25|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HNFMHVLKH19G", Request id "0HNFMHVLKH19G:00000003": started reading request body. 
2025-09-18 15:06:40.8842|26|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HNFMHVLKH19G", Request id "0HNFMHVLKH19G:00000003": done reading request body. 
2025-09-18 15:06:40.8842|2|DEBUG|Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter|JSON input formatter succeeded, deserializing to type 'LibraryManagementSystem.API.DTO.Requests.CreateLoginRequest' 
2025-09-18 15:06:40.8842|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Done attempting to bind parameter 'request' of type 'LibraryManagementSystem.API.DTO.Requests.CreateLoginRequest'. 
2025-09-18 15:06:40.8842|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'request' of type 'LibraryManagementSystem.API.DTO.Requests.CreateLoginRequest'. 
2025-09-18 15:06:40.8842|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'request' of type 'LibraryManagementSystem.API.DTO.Requests.CreateLoginRequest' ... 
2025-09-18 15:06:40.8842|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'request' of type 'LibraryManagementSystem.API.DTO.Requests.CreateLoginRequest'. 
2025-09-18 15:06:40.8842|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 15:06:40.8842|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 15:06:40.8842|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 15:06:40.8842|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 15:06:40.8842|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method LibraryManagementSystem.API.Controllers.AccountController.login (LibraryManagementSystem.API) - Validation state: Valid 
2025-09-18 15:06:40.8842|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method LibraryManagementSystem.API.Controllers.AccountController.login (LibraryManagementSystem.API) with arguments (LibraryManagementSystem.API.DTO.Requests.CreateLoginRequest) 
2025-09-18 15:06:40.8842|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 9.0.8 initialized 'LibraryContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.8' with options: EngineType=SqlServer  
2025-09-18 15:06:40.8842|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2025-09-18 15:06:40.8842|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2025-09-18 15:06:40.8842|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:06:40.9124|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:06:40.9124|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2025-09-18 15:06:40.9124|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2025-09-18 15:06:40.9124|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2025-09-18 15:06:40.9124|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateCreated], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0 
2025-09-18 15:06:40.9124|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateCreated], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0 
2025-09-18 15:06:40.9124|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:06:40.9124|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'LibraryDb' on server 'LAPTOP-4LPUPLC4' is being disposed after spending 0ms reading results. 
2025-09-18 15:06:40.9124|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:06:40.9124|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4' (0ms). 
2025-09-18 15:06:40.9124|103|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action method LibraryManagementSystem.API.Controllers.AccountController.login (LibraryManagementSystem.API), returned result Microsoft.AspNetCore.Mvc.UnauthorizedObjectResult in 27.8317ms. 
2025-09-18 15:06:40.9124|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 15:06:40.9124|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 15:06:40.9124|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 15:06:40.9124|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 15:06:40.9124|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 15:06:40.9124|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 15:06:40.9124|5|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Before executing action result Microsoft.AspNetCore.Mvc.UnauthorizedObjectResult. 
2025-09-18 15:06:40.9124|11|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter 
2025-09-18 15:06:40.9124|4|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|No information found on request to perform content negotiation. 
2025-09-18 15:06:40.9124|8|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select an output formatter without using a content type as no explicit content types were specified for the response. 
2025-09-18 15:06:40.9124|10|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select the first formatter in the output formatters list which can write the result. 
2025-09-18 15:06:40.9124|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response. 
2025-09-18 15:06:40.9124|1|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing UnauthorizedObjectResult, writing value of type 'System.String'. 
2025-09-18 15:06:40.9124|6|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|After executing action result Microsoft.AspNetCore.Mvc.UnauthorizedObjectResult. 
2025-09-18 15:06:40.9124|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 15:06:40.9124|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 15:06:40.9124|105|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action LibraryManagementSystem.API.Controllers.AccountController.login (LibraryManagementSystem.API) in 29.1405ms 
2025-09-18 15:06:40.9124|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19G" sending HEADERS frame for stream ID 3 with length 34 and flags END_HEADERS. 
2025-09-18 15:06:40.9124|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'LibraryManagementSystem.API.Controllers.AccountController.login (LibraryManagementSystem.API)' 
2025-09-18 15:06:40.9124|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19G" sending DATA frame for stream ID 3 with length 28 and flags NONE. 
2025-09-18 15:06:40.9124|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19G" sending DATA frame for stream ID 3 with length 0 and flags END_STREAM. 
2025-09-18 15:06:40.9124|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'LibraryContext' disposed. 
2025-09-18 15:06:40.9124|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:06:40.9124|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2025-09-18 15:06:40.9124|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:7143/api/Account/Login - 401 - text/plain;+charset=utf-8 29.9362ms 
2025-09-18 15:07:07.1701|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19G" received HEADERS frame for stream ID 5 with length 85 and flags END_STREAM, END_HEADERS, PRIORITY. 
2025-09-18 15:07:07.1701|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:7143/api/Account/ForgotPassword/remahps4acoount@gmail.com - text/plain;charset=UTF-8 0 
2025-09-18 15:07:07.1701|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 15:07:07.1701|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19G" received PING frame for stream ID 0 with length 8 and flags NONE. 
2025-09-18 15:07:07.1701|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19G" sending PING frame for stream ID 0 with length 8 and flags ACK. 
2025-09-18 15:07:07.1701|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/Account/ForgotPassword/remahps4acoount@gmail.com' 
2025-09-18 15:07:07.2028|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'LibraryManagementSystem.API.Controllers.AccountController.ForgotUsernameOrPassword (LibraryManagementSystem.API)' with route pattern 'api/Account/ForgotPassword/{email}' is valid for the request path '/api/Account/ForgotPassword/remahps4acoount@gmail.com' 
2025-09-18 15:07:07.2388|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'LibraryManagementSystem.API.Controllers.AccountController.ForgotUsernameOrPassword (LibraryManagementSystem.API)' 
2025-09-18 15:07:07.2388|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 15:07:07.2388|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2025-09-18 15:07:07.2388|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'LibraryManagementSystem.API.Controllers.AccountController.ForgotUsernameOrPassword (LibraryManagementSystem.API)' 
2025-09-18 15:07:07.2388|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "ForgotUsernameOrPassword", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ForgotUsernameOrPassword(System.String) on controller LibraryManagementSystem.API.Controllers.AccountController (LibraryManagementSystem.API). 
2025-09-18 15:07:07.2388|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2025-09-18 15:07:07.2388|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2025-09-18 15:07:07.2388|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2025-09-18 15:07:07.2388|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2025-09-18 15:07:07.2388|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2025-09-18 15:07:07.2388|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller LibraryManagementSystem.API.Controllers.AccountController (LibraryManagementSystem.API) 
2025-09-18 15:07:07.2388|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller LibraryManagementSystem.API.Controllers.AccountController (LibraryManagementSystem.API) 
2025-09-18 15:07:07.2388|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'email' of type 'System.String' ... 
2025-09-18 15:07:07.2388|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'email' of type 'System.String' using the name 'email' in request data ... 
2025-09-18 15:07:07.2388|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'email' of type 'System.String'. 
2025-09-18 15:07:07.2388|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'email' of type 'System.String'. 
2025-09-18 15:07:07.2388|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'email' of type 'System.String' ... 
2025-09-18 15:07:07.2531|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'email' of type 'System.String'. 
2025-09-18 15:07:07.2531|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 15:07:07.2531|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 15:07:07.2531|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 15:07:07.2531|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 15:07:07.2531|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method LibraryManagementSystem.API.Controllers.AccountController.ForgotUsernameOrPassword (LibraryManagementSystem.API) - Validation state: Valid 
2025-09-18 15:07:07.2531|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method LibraryManagementSystem.API.Controllers.AccountController.ForgotUsernameOrPassword (LibraryManagementSystem.API) with arguments (remahps4acoount@gmail.com) 
2025-09-18 15:07:07.2531|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 9.0.8 initialized 'LibraryContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.8' with options: EngineType=SqlServer  
2025-09-18 15:07:07.2531|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)' 
2025-09-18 15:07:07.2800|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: SingleQueryingEnumerable.Create<User>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.DateCreated (DateTime) Required, 3], [Property: User.Email (string) MaxLength(256), 4], [Property: User.EmailConfirmed (bool) Required, 5], [Property: User.FirstName (string) Required, 6], [Property: User.LastName (string) Required, 7], [Property: User.LockoutEnabled (bool) Required, 8], [Property: User.LockoutEnd (DateTimeOffset?), 9], [Property: User.NormalizedEmail (string) Index MaxLength(256), 10], [Property: User.NormalizedUserName (string) Index MaxLength(256), 11], [Property: User.PasswordHash (string), 12], [Property: User.PhoneNumber (string), 13], [Property: User.PhoneNumberConfirmed (bool) Required, 14], [Property: User.SecurityStamp (string), 15], [Property: User.TwoFactorEnabled (bool) Required, 16], [Property: User.UserName (string) MaxLength(256), 17] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.DateCreated, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.DateCreated (DateTime) Required, 3], [Property: User.Email (string) MaxLength(256), 4], [Property: User.EmailConfirmed (bool) Required, 5], [Property: User.FirstName (string) Required, 6], [Property: User.LastName (string) Required, 7], [Property: User.LockoutEnabled (bool) Required, 8], [Property: User.LockoutEnd (DateTimeOffset?), 9], [Property: User.NormalizedEmail (string) Index MaxLength(256), 10], [Property: User.NormalizedUserName (string) Index MaxLength(256), 11], [Property: User.PasswordHash (string), 12], [Property: User.PhoneNumber (string), 13], [Property: User.PhoneNumberConfirmed (bool) Required, 14], [Property: User.SecurityStamp (string), 15], [Property: User.TwoFactorEnabled (bool) Required, 16], [Property: User.UserName (string) MaxLength(256), 17] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.DateCreated, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            User entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                User instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(User);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Identity.User").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetString(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (User)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Identity.User")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Identity.User")]: 
                            {
                                return 
                                {
                                    User instance;
                                    instance = new User();
                                    instance.<Id>k__BackingField = dataReader.GetString(0);
                                    instance.<AccessFailedCount>k__BackingField = dataReader.GetInt32(1);
                                    instance.<ConcurrencyStamp>k__BackingField = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
                                    instance.<DateCreated>k__BackingField = dataReader.GetDateTime(3);
                                    instance.<Email>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                    instance.<EmailConfirmed>k__BackingField = dataReader.GetBoolean(5);
                                    instance.<FirstName>k__BackingField = dataReader.GetString(6);
                                    instance.<LastName>k__BackingField = dataReader.GetString(7);
                                    instance.<LockoutEnabled>k__BackingField = dataReader.GetBoolean(8);
                                    instance.<LockoutEnd>k__BackingField = dataReader.IsDBNull(9) ? default(DateTimeOffset?) : (DateTimeOffset?)dataReader.GetFieldValue<DateTimeOffset>(9);
                                    instance.<NormalizedEmail>k__BackingField = dataReader.IsDBNull(10) ? default(string) : dataReader.GetString(10);
                                    instance.<NormalizedUserName>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                    instance.<PasswordHash>k__BackingField = dataReader.IsDBNull(12) ? default(string) : dataReader.GetString(12);
                                    instance.<PhoneNumber>k__BackingField = dataReader.IsDBNull(13) ? default(string) : dataReader.GetString(13);
                                    instance.<PhoneNumberConfirmed>k__BackingField = dataReader.GetBoolean(14);
                                    instance.<SecurityStamp>k__BackingField = dataReader.IsDBNull(15) ? default(string) : dataReader.GetString(15);
                                    instance.<TwoFactorEnabled>k__BackingField = dataReader.GetBoolean(16);
                                    instance.<UserName>k__BackingField = dataReader.IsDBNull(17) ? default(string) : dataReader.GetString(17);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Identity.User")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(User)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: LibraryManagmentSystem.Data.LibraryContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)' 
2025-09-18 15:07:07.2800|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2025-09-18 15:07:07.2800|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2025-09-18 15:07:07.2800|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:07:07.2984|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:07:07.2984|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2025-09-18 15:07:07.2984|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2025-09-18 15:07:07.2984|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2025-09-18 15:07:07.2989|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateCreated], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-09-18 15:07:07.2989|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateCreated], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-09-18 15:07:07.2989|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:07:07.2989|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:07:07.2989|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'LibraryDb' on server 'LAPTOP-4LPUPLC4' is being disposed after spending 0ms reading results. 
2025-09-18 15:07:07.2989|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:07:07.2989|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4' (0ms). 
2025-09-18 15:07:07.3320|31|TRACE|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector|Performing protect operation to key {0eadaaaa-7e78-4b9a-b5c6-d6842d7acf5d} with purposes ('C:\Users\Remah\Desktop\AST\Projects\LibraryManagementSystem\LibraryManagementSystem\', 'DataProtectorTokenProvider'). 
2025-09-18 15:07:08.7260|0|INFO|LibraryManagementSystem.API.Services.EmailService|Mailjet Messages: [{"Status":"success","Errors":null,"CustomID":"","To":[{"Email":"remahps4acoount@gmail.com","MessageUUID":"3d59dbed-b514-437c-8440-6c0c603482fa","MessageID":288230408618866276,"MessageHref":"https://api.mailjet.com/v3/REST/message/288230408618866276"}],"Cc":[],"Bcc":[]}] 
2025-09-18 15:07:08.7260|103|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action method LibraryManagementSystem.API.Controllers.AccountController.ForgotUsernameOrPassword (LibraryManagementSystem.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1474.4616ms. 
2025-09-18 15:07:08.7260|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 15:07:08.7260|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 15:07:08.7260|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 15:07:08.7260|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 15:07:08.7260|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 15:07:08.7260|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 15:07:08.7260|5|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult. 
2025-09-18 15:07:08.7260|11|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter 
2025-09-18 15:07:08.7260|4|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|No information found on request to perform content negotiation. 
2025-09-18 15:07:08.7260|8|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select an output formatter without using a content type as no explicit content types were specified for the response. 
2025-09-18 15:07:08.7260|10|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select the first formatter in the output formatters list which can write the result. 
2025-09-18 15:07:08.7260|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response. 
2025-09-18 15:07:08.7260|1|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.JsonResult'. 
2025-09-18 15:07:08.7260|6|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult. 
2025-09-18 15:07:08.7260|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 15:07:08.7260|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 15:07:08.7260|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19G" sending HEADERS frame for stream ID 5 with length 66 and flags END_HEADERS. 
2025-09-18 15:07:08.7260|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19G" sending DATA frame for stream ID 5 with length 171 and flags NONE. 
2025-09-18 15:07:08.7260|105|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action LibraryManagementSystem.API.Controllers.AccountController.ForgotUsernameOrPassword (LibraryManagementSystem.API) in 1482.8835ms 
2025-09-18 15:07:08.7260|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'LibraryManagementSystem.API.Controllers.AccountController.ForgotUsernameOrPassword (LibraryManagementSystem.API)' 
2025-09-18 15:07:08.7260|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'LibraryContext' disposed. 
2025-09-18 15:07:08.7260|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:07:08.7260|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19G" sending DATA frame for stream ID 5 with length 0 and flags END_STREAM. 
2025-09-18 15:07:08.7260|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2025-09-18 15:07:08.7260|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:7143/api/Account/ForgotPassword/remahps4acoount@gmail.com - 200 - application/json;+charset=utf-8 1557.4214ms 
2025-09-18 15:07:08.7260|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19G" received WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2025-09-18 15:10:15.1596|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMHVLKH19G" received FIN. 
2025-09-18 15:10:15.1596|48|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19G" is closed. The last processed stream ID was 5. 
2025-09-18 15:10:15.1596|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19G" sending GOAWAY frame for stream ID 0 with length 8 and flags 0x0. 
2025-09-18 15:10:15.1596|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMHVLKH19G" sending FIN because: "The Socket transport's send loop completed gracefully." 
2025-09-18 15:10:15.1596|62|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Http2|The connection queue processing loop for 0HNFMHVLKH19G completed. 
2025-09-18 15:10:15.1596|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH19G" stopped. 
2025-09-18 15:10:49.6895|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH19H" accepted. 
2025-09-18 15:10:49.6898|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH19H" started. 
2025-09-18 15:10:49.7318|3|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Connection 0HNFMHVLKH19H established using the following protocol: Tls13 
2025-09-18 15:10:49.7318|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" sending SETTINGS frame for stream ID 0 with length 24 and flags NONE. 
2025-09-18 15:10:49.7318|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" sending WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2025-09-18 15:10:49.7318|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" received SETTINGS frame for stream ID 0 with length 24 and flags NONE. 
2025-09-18 15:10:49.7318|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" sending SETTINGS frame for stream ID 0 with length 0 and flags ACK. 
2025-09-18 15:10:49.7318|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" received WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2025-09-18 15:10:49.7318|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" received HEADERS frame for stream ID 1 with length 447 and flags END_HEADERS, PRIORITY. 
2025-09-18 15:10:49.7318|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" received DATA frame for stream ID 1 with length 326 and flags END_STREAM. 
2025-09-18 15:10:49.7318|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" received SETTINGS frame for stream ID 0 with length 0 and flags ACK. 
2025-09-18 15:10:49.7394|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 PUT https://localhost:7143/api/Account/ResetPassword - application/json 326 
2025-09-18 15:10:49.7394|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 15:10:49.7394|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/Account/ResetPassword' 
2025-09-18 15:10:49.7394|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'LibraryManagementSystem.API.Controllers.AccountController.ResetPassword (LibraryManagementSystem.API)' with route pattern 'api/Account/ResetPassword' is valid for the request path '/api/Account/ResetPassword' 
2025-09-18 15:10:49.7394|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'LibraryManagementSystem.API.Controllers.AccountController.ResetPassword (LibraryManagementSystem.API)' 
2025-09-18 15:10:49.7394|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 15:10:49.7394|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2025-09-18 15:10:49.7394|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'LibraryManagementSystem.API.Controllers.AccountController.ResetPassword (LibraryManagementSystem.API)' 
2025-09-18 15:10:49.7394|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "ResetPassword", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResetPassword(LibraryManagementSystem.API.DTO.ResetPasswordDTO) on controller LibraryManagementSystem.API.Controllers.AccountController (LibraryManagementSystem.API). 
2025-09-18 15:10:49.7394|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2025-09-18 15:10:49.7394|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2025-09-18 15:10:49.7394|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2025-09-18 15:10:49.7394|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2025-09-18 15:10:49.7394|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2025-09-18 15:10:49.7394|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller LibraryManagementSystem.API.Controllers.AccountController (LibraryManagementSystem.API) 
2025-09-18 15:10:49.7394|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller LibraryManagementSystem.API.Controllers.AccountController (LibraryManagementSystem.API) 
2025-09-18 15:10:49.7394|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'resetPasswordDTO' of type 'LibraryManagementSystem.API.DTO.ResetPasswordDTO' ... 
2025-09-18 15:10:49.7394|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Attempting to bind parameter 'resetPasswordDTO' of type 'LibraryManagementSystem.API.DTO.ResetPasswordDTO' using the name '' in request data ... 
2025-09-18 15:10:49.7394|1|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'. 
2025-09-18 15:10:49.7394|25|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HNFMHVLKH19H", Request id "0HNFMHVLKH19H:00000001": started reading request body. 
2025-09-18 15:10:49.7394|26|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HNFMHVLKH19H", Request id "0HNFMHVLKH19H:00000001": done reading request body. 
2025-09-18 15:10:49.7394|2|DEBUG|Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter|JSON input formatter succeeded, deserializing to type 'LibraryManagementSystem.API.DTO.ResetPasswordDTO' 
2025-09-18 15:10:49.7394|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Done attempting to bind parameter 'resetPasswordDTO' of type 'LibraryManagementSystem.API.DTO.ResetPasswordDTO'. 
2025-09-18 15:10:49.7394|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'resetPasswordDTO' of type 'LibraryManagementSystem.API.DTO.ResetPasswordDTO'. 
2025-09-18 15:10:49.7394|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'resetPasswordDTO' of type 'LibraryManagementSystem.API.DTO.ResetPasswordDTO' ... 
2025-09-18 15:10:49.7603|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'resetPasswordDTO' of type 'LibraryManagementSystem.API.DTO.ResetPasswordDTO'. 
2025-09-18 15:10:49.7603|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 15:10:49.7603|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 15:10:49.7603|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 15:10:49.7603|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 15:10:49.7603|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method LibraryManagementSystem.API.Controllers.AccountController.ResetPassword (LibraryManagementSystem.API) - Validation state: Valid 
2025-09-18 15:10:49.7603|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method LibraryManagementSystem.API.Controllers.AccountController.ResetPassword (LibraryManagementSystem.API) with arguments (LibraryManagementSystem.API.DTO.ResetPasswordDTO) 
2025-09-18 15:10:49.7603|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 9.0.8 initialized 'LibraryContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.8' with options: EngineType=SqlServer  
2025-09-18 15:10:49.7603|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2025-09-18 15:10:49.7603|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2025-09-18 15:10:49.7603|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:10:49.8064|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:10:49.8064|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2025-09-18 15:10:49.8064|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2025-09-18 15:10:49.8064|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2025-09-18 15:10:49.8064|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateCreated], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-09-18 15:10:49.8064|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateCreated], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-09-18 15:10:49.8064|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:10:49.8064|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:10:49.8064|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'LibraryDb' on server 'LAPTOP-4LPUPLC4' is being disposed after spending 0ms reading results. 
2025-09-18 15:10:49.8064|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:10:49.8064|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4' (0ms). 
2025-09-18 15:10:49.8177|5|TRACE|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector|Performing unprotect operation to key {0eadaaaa-7e78-4b9a-b5c6-d6842d7acf5d} with purposes ('C:\Users\Remah\Desktop\AST\Projects\LibraryManagementSystem\LibraryManagementSystem\', 'DataProtectorTokenProvider'). 
2025-09-18 15:10:49.9342|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:10:49.9502|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:10:49.9777|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2025-09-18 15:10:49.9777|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2025-09-18 15:10:49.9777|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2025-09-18 15:10:49.9777|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateCreated], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0 
2025-09-18 15:10:49.9942|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (16ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateCreated], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0 
2025-09-18 15:10:49.9942|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:10:49.9942|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'LibraryDb' on server 'LAPTOP-4LPUPLC4' is being disposed after spending 0ms reading results. 
2025-09-18 15:10:49.9942|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:10:49.9942|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4' (0ms). 
2025-09-18 15:10:50.0306|10807|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'User' tracked by 'LibraryContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:10:50.0366|10004|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'LibraryContext'. 
2025-09-18 15:10:50.0366|10800|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'LibraryContext'. 
2025-09-18 15:10:50.0546|10801|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'LibraryContext'. 
2025-09-18 15:10:50.1657|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:10:50.1770|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:10:50.1770|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2025-09-18 15:10:50.1770|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2025-09-18 15:10:50.1770|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (1ms). 
2025-09-18 15:10:50.1770|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [DateCreated] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [FirstName] = @p5, [LastName] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [NormalizedEmail] = @p9, [NormalizedUserName] = @p10, [PasswordHash] = @p11, [PhoneNumber] = @p12, [PhoneNumberConfirmed] = @p13, [SecurityStamp] = @p14, [TwoFactorEnabled] = @p15, [UserName] = @p16
OUTPUT 1
WHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18; 
2025-09-18 15:10:50.1995|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (17ms) [Parameters=[@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [DateCreated] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [FirstName] = @p5, [LastName] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [NormalizedEmail] = @p9, [NormalizedUserName] = @p10, [PasswordHash] = @p11, [PhoneNumber] = @p12, [PhoneNumberConfirmed] = @p13, [SecurityStamp] = @p14, [TwoFactorEnabled] = @p15, [UserName] = @p16
OUTPUT 1
WHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18; 
2025-09-18 15:10:50.1995|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:10:50.1995|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'LibraryDb' on server 'LAPTOP-4LPUPLC4' is being disposed after spending 6ms reading results. 
2025-09-18 15:10:50.2067|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:10:50.2067|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4' (0ms). 
2025-09-18 15:10:50.2067|10807|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'User' tracked by 'LibraryContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:10:50.2067|10005|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'LibraryContext' with 1 entities written to the database. 
2025-09-18 15:10:50.2067|103|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action method LibraryManagementSystem.API.Controllers.AccountController.ResetPassword (LibraryManagementSystem.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 453.2562ms. 
2025-09-18 15:10:50.2067|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 15:10:50.2067|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 15:10:50.2067|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 15:10:50.2067|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 15:10:50.2067|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 15:10:50.2067|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 15:10:50.2067|5|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult. 
2025-09-18 15:10:50.2067|11|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter 
2025-09-18 15:10:50.2067|4|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|No information found on request to perform content negotiation. 
2025-09-18 15:10:50.2067|8|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select an output formatter without using a content type as no explicit content types were specified for the response. 
2025-09-18 15:10:50.2067|10|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select the first formatter in the output formatters list which can write the result. 
2025-09-18 15:10:50.2067|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response. 
2025-09-18 15:10:50.2067|1|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.JsonResult'. 
2025-09-18 15:10:50.2067|6|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult. 
2025-09-18 15:10:50.2067|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 15:10:50.2067|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 15:10:50.2067|105|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action LibraryManagementSystem.API.Controllers.AccountController.ResetPassword (LibraryManagementSystem.API) in 469.825ms 
2025-09-18 15:10:50.2067|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" sending HEADERS frame for stream ID 1 with length 74 and flags END_HEADERS. 
2025-09-18 15:10:50.2067|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'LibraryManagementSystem.API.Controllers.AccountController.ResetPassword (LibraryManagementSystem.API)' 
2025-09-18 15:10:50.2067|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" sending DATA frame for stream ID 1 with length 146 and flags NONE. 
2025-09-18 15:10:50.2067|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'LibraryContext' disposed. 
2025-09-18 15:10:50.2067|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" sending DATA frame for stream ID 1 with length 0 and flags END_STREAM. 
2025-09-18 15:10:50.2067|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:10:50.2067|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2025-09-18 15:10:50.2067|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 PUT https://localhost:7143/api/Account/ResetPassword - 200 - application/json;+charset=utf-8 475.0342ms 
2025-09-18 15:11:00.9880|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" received HEADERS frame for stream ID 3 with length 42 and flags END_HEADERS, PRIORITY. 
2025-09-18 15:11:00.9880|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" received PING frame for stream ID 0 with length 8 and flags NONE. 
2025-09-18 15:11:00.9880|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" sending PING frame for stream ID 0 with length 8 and flags ACK. 
2025-09-18 15:11:00.9880|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:7143/api/Account/Login - application/json 70 
2025-09-18 15:11:00.9880|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 15:11:00.9880|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/Account/Login' 
2025-09-18 15:11:00.9880|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'LibraryManagementSystem.API.Controllers.AccountController.login (LibraryManagementSystem.API)' with route pattern 'api/Account/Login' is valid for the request path '/api/Account/Login' 
2025-09-18 15:11:00.9880|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'LibraryManagementSystem.API.Controllers.AccountController.login (LibraryManagementSystem.API)' 
2025-09-18 15:11:00.9880|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 15:11:00.9880|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2025-09-18 15:11:00.9880|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'LibraryManagementSystem.API.Controllers.AccountController.login (LibraryManagementSystem.API)' 
2025-09-18 15:11:00.9880|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[LibraryManagementSystem.Data.DTO.UserDTO]] login(LibraryManagementSystem.API.DTO.Requests.CreateLoginRequest) on controller LibraryManagementSystem.API.Controllers.AccountController (LibraryManagementSystem.API). 
2025-09-18 15:11:00.9880|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2025-09-18 15:11:00.9880|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2025-09-18 15:11:00.9880|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2025-09-18 15:11:00.9880|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2025-09-18 15:11:00.9880|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2025-09-18 15:11:00.9880|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" received DATA frame for stream ID 3 with length 70 and flags END_STREAM. 
2025-09-18 15:11:00.9880|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller LibraryManagementSystem.API.Controllers.AccountController (LibraryManagementSystem.API) 
2025-09-18 15:11:01.0270|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller LibraryManagementSystem.API.Controllers.AccountController (LibraryManagementSystem.API) 
2025-09-18 15:11:01.0270|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'request' of type 'LibraryManagementSystem.API.DTO.Requests.CreateLoginRequest' ... 
2025-09-18 15:11:01.0270|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Attempting to bind parameter 'request' of type 'LibraryManagementSystem.API.DTO.Requests.CreateLoginRequest' using the name '' in request data ... 
2025-09-18 15:11:01.0270|1|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'. 
2025-09-18 15:11:01.0270|25|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HNFMHVLKH19H", Request id "0HNFMHVLKH19H:00000003": started reading request body. 
2025-09-18 15:11:01.0270|26|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HNFMHVLKH19H", Request id "0HNFMHVLKH19H:00000003": done reading request body. 
2025-09-18 15:11:01.0270|2|DEBUG|Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter|JSON input formatter succeeded, deserializing to type 'LibraryManagementSystem.API.DTO.Requests.CreateLoginRequest' 
2025-09-18 15:11:01.0270|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Done attempting to bind parameter 'request' of type 'LibraryManagementSystem.API.DTO.Requests.CreateLoginRequest'. 
2025-09-18 15:11:01.0270|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'request' of type 'LibraryManagementSystem.API.DTO.Requests.CreateLoginRequest'. 
2025-09-18 15:11:01.0270|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'request' of type 'LibraryManagementSystem.API.DTO.Requests.CreateLoginRequest' ... 
2025-09-18 15:11:01.0270|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'request' of type 'LibraryManagementSystem.API.DTO.Requests.CreateLoginRequest'. 
2025-09-18 15:11:01.0270|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 15:11:01.0270|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 15:11:01.0270|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 15:11:01.0270|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 15:11:01.0270|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method LibraryManagementSystem.API.Controllers.AccountController.login (LibraryManagementSystem.API) - Validation state: Valid 
2025-09-18 15:11:01.0270|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method LibraryManagementSystem.API.Controllers.AccountController.login (LibraryManagementSystem.API) with arguments (LibraryManagementSystem.API.DTO.Requests.CreateLoginRequest) 
2025-09-18 15:11:01.0270|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 9.0.8 initialized 'LibraryContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.8' with options: EngineType=SqlServer  
2025-09-18 15:11:01.0270|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2025-09-18 15:11:01.0270|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2025-09-18 15:11:01.0270|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:11:01.0601|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:11:01.0601|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2025-09-18 15:11:01.0601|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2025-09-18 15:11:01.0601|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2025-09-18 15:11:01.0601|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateCreated], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0 
2025-09-18 15:11:01.0797|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (19ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateCreated], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0 
2025-09-18 15:11:01.0797|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:11:01.0797|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'LibraryDb' on server 'LAPTOP-4LPUPLC4' is being disposed after spending 0ms reading results. 
2025-09-18 15:11:01.0797|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:11:01.0809|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4' (0ms). 
2025-09-18 15:11:01.0809|103|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action method LibraryManagementSystem.API.Controllers.AccountController.login (LibraryManagementSystem.API), returned result Microsoft.AspNetCore.Mvc.UnauthorizedObjectResult in 53.2163ms. 
2025-09-18 15:11:01.0809|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 15:11:01.0809|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 15:11:01.0809|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 15:11:01.0809|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 15:11:01.0809|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 15:11:01.0809|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 15:11:01.0809|5|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Before executing action result Microsoft.AspNetCore.Mvc.UnauthorizedObjectResult. 
2025-09-18 15:11:01.0809|11|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter 
2025-09-18 15:11:01.0809|4|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|No information found on request to perform content negotiation. 
2025-09-18 15:11:01.0809|8|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select an output formatter without using a content type as no explicit content types were specified for the response. 
2025-09-18 15:11:01.0809|10|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select the first formatter in the output formatters list which can write the result. 
2025-09-18 15:11:01.0809|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response. 
2025-09-18 15:11:01.0809|1|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing UnauthorizedObjectResult, writing value of type 'System.String'. 
2025-09-18 15:11:01.0809|6|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|After executing action result Microsoft.AspNetCore.Mvc.UnauthorizedObjectResult. 
2025-09-18 15:11:01.0809|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 15:11:01.0809|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 15:11:01.0809|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" sending HEADERS frame for stream ID 3 with length 64 and flags END_HEADERS. 
2025-09-18 15:11:01.0809|105|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action LibraryManagementSystem.API.Controllers.AccountController.login (LibraryManagementSystem.API) in 92.7629ms 
2025-09-18 15:11:01.0809|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" sending DATA frame for stream ID 3 with length 28 and flags NONE. 
2025-09-18 15:11:01.0809|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'LibraryManagementSystem.API.Controllers.AccountController.login (LibraryManagementSystem.API)' 
2025-09-18 15:11:01.0809|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" sending DATA frame for stream ID 3 with length 0 and flags END_STREAM. 
2025-09-18 15:11:01.0809|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'LibraryContext' disposed. 
2025-09-18 15:11:01.0809|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:11:01.0809|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2025-09-18 15:11:01.0809|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:7143/api/Account/Login - 401 - text/plain;+charset=utf-8 94.0412ms 
2025-09-18 15:11:01.0809|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" received WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2025-09-18 15:11:02.9058|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" received HEADERS frame for stream ID 5 with length 39 and flags END_HEADERS, PRIORITY. 
2025-09-18 15:11:02.9058|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" received DATA frame for stream ID 5 with length 70 and flags END_STREAM. 
2025-09-18 15:11:02.9058|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:7143/api/Account/Login - application/json 70 
2025-09-18 15:11:02.9058|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 15:11:02.9058|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/Account/Login' 
2025-09-18 15:11:02.9058|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'LibraryManagementSystem.API.Controllers.AccountController.login (LibraryManagementSystem.API)' with route pattern 'api/Account/Login' is valid for the request path '/api/Account/Login' 
2025-09-18 15:11:02.9058|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'LibraryManagementSystem.API.Controllers.AccountController.login (LibraryManagementSystem.API)' 
2025-09-18 15:11:02.9058|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 15:11:02.9058|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2025-09-18 15:11:02.9058|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'LibraryManagementSystem.API.Controllers.AccountController.login (LibraryManagementSystem.API)' 
2025-09-18 15:11:02.9058|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[LibraryManagementSystem.Data.DTO.UserDTO]] login(LibraryManagementSystem.API.DTO.Requests.CreateLoginRequest) on controller LibraryManagementSystem.API.Controllers.AccountController (LibraryManagementSystem.API). 
2025-09-18 15:11:02.9058|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2025-09-18 15:11:02.9058|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2025-09-18 15:11:02.9058|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2025-09-18 15:11:02.9058|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2025-09-18 15:11:02.9058|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2025-09-18 15:11:02.9058|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller LibraryManagementSystem.API.Controllers.AccountController (LibraryManagementSystem.API) 
2025-09-18 15:11:02.9058|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller LibraryManagementSystem.API.Controllers.AccountController (LibraryManagementSystem.API) 
2025-09-18 15:11:02.9058|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'request' of type 'LibraryManagementSystem.API.DTO.Requests.CreateLoginRequest' ... 
2025-09-18 15:11:02.9058|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Attempting to bind parameter 'request' of type 'LibraryManagementSystem.API.DTO.Requests.CreateLoginRequest' using the name '' in request data ... 
2025-09-18 15:11:02.9058|1|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'. 
2025-09-18 15:11:02.9058|25|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HNFMHVLKH19H", Request id "0HNFMHVLKH19H:00000005": started reading request body. 
2025-09-18 15:11:02.9058|26|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HNFMHVLKH19H", Request id "0HNFMHVLKH19H:00000005": done reading request body. 
2025-09-18 15:11:02.9058|2|DEBUG|Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter|JSON input formatter succeeded, deserializing to type 'LibraryManagementSystem.API.DTO.Requests.CreateLoginRequest' 
2025-09-18 15:11:02.9058|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Done attempting to bind parameter 'request' of type 'LibraryManagementSystem.API.DTO.Requests.CreateLoginRequest'. 
2025-09-18 15:11:02.9058|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'request' of type 'LibraryManagementSystem.API.DTO.Requests.CreateLoginRequest'. 
2025-09-18 15:11:02.9058|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'request' of type 'LibraryManagementSystem.API.DTO.Requests.CreateLoginRequest' ... 
2025-09-18 15:11:02.9058|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'request' of type 'LibraryManagementSystem.API.DTO.Requests.CreateLoginRequest'. 
2025-09-18 15:11:02.9058|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 15:11:02.9058|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 15:11:02.9058|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 15:11:02.9058|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 15:11:02.9058|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method LibraryManagementSystem.API.Controllers.AccountController.login (LibraryManagementSystem.API) - Validation state: Valid 
2025-09-18 15:11:02.9058|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method LibraryManagementSystem.API.Controllers.AccountController.login (LibraryManagementSystem.API) with arguments (LibraryManagementSystem.API.DTO.Requests.CreateLoginRequest) 
2025-09-18 15:11:02.9089|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 9.0.8 initialized 'LibraryContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.8' with options: EngineType=SqlServer  
2025-09-18 15:11:02.9089|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2025-09-18 15:11:02.9089|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2025-09-18 15:11:02.9089|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:11:02.9089|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:11:02.9089|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2025-09-18 15:11:02.9089|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2025-09-18 15:11:02.9089|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2025-09-18 15:11:02.9089|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateCreated], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0 
2025-09-18 15:11:02.9089|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateCreated], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0 
2025-09-18 15:11:02.9089|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:11:02.9089|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'LibraryDb' on server 'LAPTOP-4LPUPLC4' is being disposed after spending 0ms reading results. 
2025-09-18 15:11:02.9089|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:11:02.9089|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4' (0ms). 
2025-09-18 15:11:02.9089|103|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action method LibraryManagementSystem.API.Controllers.AccountController.login (LibraryManagementSystem.API), returned result Microsoft.AspNetCore.Mvc.UnauthorizedObjectResult in 15.0733ms. 
2025-09-18 15:11:02.9089|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 15:11:02.9089|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 15:11:02.9089|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 15:11:02.9089|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 15:11:02.9089|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 15:11:02.9089|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 15:11:02.9089|5|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Before executing action result Microsoft.AspNetCore.Mvc.UnauthorizedObjectResult. 
2025-09-18 15:11:02.9089|11|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter 
2025-09-18 15:11:02.9089|4|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|No information found on request to perform content negotiation. 
2025-09-18 15:11:02.9089|8|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select an output formatter without using a content type as no explicit content types were specified for the response. 
2025-09-18 15:11:02.9089|10|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select the first formatter in the output formatters list which can write the result. 
2025-09-18 15:11:02.9089|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response. 
2025-09-18 15:11:02.9089|1|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing UnauthorizedObjectResult, writing value of type 'System.String'. 
2025-09-18 15:11:02.9089|6|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|After executing action result Microsoft.AspNetCore.Mvc.UnauthorizedObjectResult. 
2025-09-18 15:11:02.9089|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 15:11:02.9089|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 15:11:02.9089|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" sending HEADERS frame for stream ID 5 with length 34 and flags END_HEADERS. 
2025-09-18 15:11:02.9089|105|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action LibraryManagementSystem.API.Controllers.AccountController.login (LibraryManagementSystem.API) in 16.5537ms 
2025-09-18 15:11:02.9089|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" sending DATA frame for stream ID 5 with length 28 and flags NONE. 
2025-09-18 15:11:02.9089|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'LibraryManagementSystem.API.Controllers.AccountController.login (LibraryManagementSystem.API)' 
2025-09-18 15:11:02.9089|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" sending DATA frame for stream ID 5 with length 0 and flags END_STREAM. 
2025-09-18 15:11:02.9089|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'LibraryContext' disposed. 
2025-09-18 15:11:02.9089|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:11:02.9089|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2025-09-18 15:11:02.9089|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:7143/api/Account/Login - 401 - text/plain;+charset=utf-8 17.4466ms 
2025-09-18 15:11:35.6885|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" received HEADERS frame for stream ID 7 with length 199 and flags END_STREAM, END_HEADERS, PRIORITY. 
2025-09-18 15:11:35.6885|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" received PING frame for stream ID 0 with length 8 and flags NONE. 
2025-09-18 15:11:35.6885|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" sending PING frame for stream ID 0 with length 8 and flags ACK. 
2025-09-18 15:11:35.6885|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7143/scalar/ - - - 
2025-09-18 15:11:35.7740|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 15:11:35.7740|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/scalar/' 
2025-09-18 15:11:35.7740|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'HTTP: GET /scalar/{documentName?}' with route pattern '/scalar/{documentName?}' is valid for the request path '/scalar/' 
2025-09-18 15:11:35.7740|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'HTTP: GET /scalar/{documentName?}' 
2025-09-18 15:11:35.7740|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 15:11:35.7740|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2025-09-18 15:11:35.7740|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'HTTP: GET /scalar/{documentName?}' 
2025-09-18 15:11:35.8678|2|INFO|Microsoft.AspNetCore.Http.Result.ContentResult|Write content with HTTP Response ContentType of text/html 
2025-09-18 15:11:35.8678|1|DEBUG|Microsoft.WebTools.BrowserLink.Net.BrowserLinkMiddleware|Response markup is scheduled to include Browser Link script injection. 
2025-09-18 15:11:35.8678|1|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware|Response markup is scheduled to include browser refresh script injection. 
2025-09-18 15:11:35.8678|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" sending HEADERS frame for stream ID 7 with length 44 and flags END_HEADERS. 
2025-09-18 15:11:35.8815|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" sending DATA frame for stream ID 7 with length 882 and flags NONE. 
2025-09-18 15:11:35.8815|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" sending DATA frame for stream ID 7 with length 437 and flags NONE. 
2025-09-18 15:11:35.8815|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'HTTP: GET /scalar/{documentName?}' 
2025-09-18 15:11:35.8815|2|DEBUG|Microsoft.WebTools.BrowserLink.Net.BrowserLinkMiddleware|Response markup was updated to include Browser Link script injection. 
2025-09-18 15:11:35.8815|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" received WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2025-09-18 15:11:35.8815|2|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware|Response markup was updated to include browser refresh script injection. 
2025-09-18 15:11:35.8815|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7143/scalar/ - 200 - text/html 201.3387ms 
2025-09-18 15:11:35.8815|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" sending DATA frame for stream ID 7 with length 0 and flags END_STREAM. 
2025-09-18 15:11:35.8981|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" received HEADERS frame for stream ID 9 with length 70 and flags END_STREAM, END_HEADERS, PRIORITY. 
2025-09-18 15:11:35.8981|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" received HEADERS frame for stream ID 11 with length 53 and flags END_STREAM, END_HEADERS, PRIORITY. 
2025-09-18 15:11:35.8981|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7143/scalar/scalar.js - - - 
2025-09-18 15:11:35.8981|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7143/_framework/aspnetcore-browser-refresh.js - - - 
2025-09-18 15:11:35.8981|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" received HEADERS frame for stream ID 13 with length 45 and flags END_STREAM, END_HEADERS, PRIORITY. 
2025-09-18 15:11:35.8981|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 15:11:35.8981|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" received HEADERS frame for stream ID 15 with length 58 and flags END_STREAM, END_HEADERS, PRIORITY. 
2025-09-18 15:11:35.8981|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7143/scalar/scalar.aspnetcore.js - - - 
2025-09-18 15:11:35.8981|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 15:11:35.8981|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7143/_vs/browserLink - - - 
2025-09-18 15:11:35.8981|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|2 candidate(s) found for the request path '/scalar/scalar.aspnetcore.js' 
2025-09-18 15:11:35.8981|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|2 candidate(s) found for the request path '/scalar/scalar.js' 
2025-09-18 15:11:35.8981|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'HTTP: GET /scalar/scalar.aspnetcore.js' with route pattern '/scalar/scalar.aspnetcore.js' is valid for the request path '/scalar/scalar.aspnetcore.js' 
2025-09-18 15:11:35.8981|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'HTTP: GET /scalar/{documentName?}' with route pattern '/scalar/{documentName?}' is valid for the request path '/scalar/scalar.aspnetcore.js' 
2025-09-18 15:11:35.8981|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'HTTP: GET /scalar/scalar.js' with route pattern '/scalar/scalar.js' is valid for the request path '/scalar/scalar.js' 
2025-09-18 15:11:35.8981|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'HTTP: GET /scalar/{documentName?}' with route pattern '/scalar/{documentName?}' is valid for the request path '/scalar/scalar.js' 
2025-09-18 15:11:35.8981|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'HTTP: GET /scalar/scalar.aspnetcore.js' 
2025-09-18 15:11:35.8981|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 15:11:35.8981|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2025-09-18 15:11:35.8981|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'HTTP: GET /scalar/scalar.js' 
2025-09-18 15:11:35.8981|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'HTTP: GET /scalar/scalar.aspnetcore.js' 
2025-09-18 15:11:35.8981|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 15:11:35.8981|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2025-09-18 15:11:35.8981|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'HTTP: GET /scalar/scalar.js' 
2025-09-18 15:11:35.9235|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" sending HEADERS frame for stream ID 11 with length 60 and flags END_HEADERS. 
2025-09-18 15:11:35.9235|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" sending DATA frame for stream ID 11 with length 16384 and flags NONE. 
2025-09-18 15:11:35.9243|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" sending DATA frame for stream ID 11 with length 155 and flags NONE. 
2025-09-18 15:11:35.9759|1|INFO|Microsoft.AspNetCore.Http.Result.StatusCodeResult|Setting HTTP status code 304. 
2025-09-18 15:11:35.9759|1|INFO|Microsoft.AspNetCore.Http.Result.StatusCodeResult|Setting HTTP status code 304. 
2025-09-18 15:11:35.9759|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'HTTP: GET /scalar/scalar.aspnetcore.js' 
2025-09-18 15:11:35.9759|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'HTTP: GET /scalar/scalar.js' 
2025-09-18 15:11:35.9759|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7143/scalar/scalar.aspnetcore.js - 304 - - 77.7762ms 
2025-09-18 15:11:35.9759|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" sending HEADERS frame for stream ID 13 with length 30 and flags END_STREAM, END_HEADERS. 
2025-09-18 15:11:35.9759|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7143/scalar/scalar.js - 304 - - 77.9287ms 
2025-09-18 15:11:35.9759|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" sending HEADERS frame for stream ID 9 with length 5 and flags END_STREAM, END_HEADERS. 
2025-09-18 15:11:35.9759|0|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserScriptMiddleware|Script injected: /_framework/aspnetcore-browser-refresh.js 
2025-09-18 15:11:35.9759|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" sending DATA frame for stream ID 11 with length 0 and flags END_STREAM. 
2025-09-18 15:11:35.9759|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7143/_framework/aspnetcore-browser-refresh.js - 200 16539 application/javascript;+charset=utf-8 79.2159ms 
2025-09-18 15:11:36.0012|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" sending HEADERS frame for stream ID 15 with length 119 and flags END_HEADERS. 
2025-09-18 15:11:36.0012|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" sending DATA frame for stream ID 15 with length 9986 and flags NONE. 
2025-09-18 15:11:36.0044|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" sending DATA frame for stream ID 15 with length 10240 and flags NONE. 
2025-09-18 15:11:36.0044|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" sending DATA frame for stream ID 15 with length 10240 and flags NONE. 
2025-09-18 15:11:36.0044|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" sending DATA frame for stream ID 15 with length 10240 and flags NONE. 
2025-09-18 15:11:36.0044|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" sending DATA frame for stream ID 15 with length 10240 and flags NONE. 
2025-09-18 15:11:36.0044|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" sending DATA frame for stream ID 15 with length 10240 and flags NONE. 
2025-09-18 15:11:36.0044|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" sending DATA frame for stream ID 15 with length 10240 and flags NONE. 
2025-09-18 15:11:36.0044|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" sending DATA frame for stream ID 15 with length 10240 and flags NONE. 
2025-09-18 15:11:36.0044|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" sending DATA frame for stream ID 15 with length 10240 and flags NONE. 
2025-09-18 15:11:36.0044|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" sending DATA frame for stream ID 15 with length 10240 and flags NONE. 
2025-09-18 15:11:36.0044|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" sending DATA frame for stream ID 15 with length 10240 and flags NONE. 
2025-09-18 15:11:36.0044|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" sending DATA frame for stream ID 15 with length 10240 and flags NONE. 
2025-09-18 15:11:36.0044|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" sending DATA frame for stream ID 15 with length 10240 and flags NONE. 
2025-09-18 15:11:36.0044|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" sending DATA frame for stream ID 15 with length 10240 and flags NONE. 
2025-09-18 15:11:36.0044|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" sending DATA frame for stream ID 15 with length 10240 and flags NONE. 
2025-09-18 15:11:36.0044|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" sending DATA frame for stream ID 15 with length 1806 and flags NONE. 
2025-09-18 15:11:36.0044|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7143/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 110.2226ms 
2025-09-18 15:11:36.0044|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" sending DATA frame for stream ID 15 with length 0 and flags END_STREAM. 
2025-09-18 15:11:36.2074|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" received HEADERS frame for stream ID 17 with length 35 and flags END_STREAM, END_HEADERS, PRIORITY. 
2025-09-18 15:11:36.2074|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7143/openapi/v1.json - - - 
2025-09-18 15:11:36.2074|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 15:11:36.2074|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/openapi/v1.json' 
2025-09-18 15:11:36.2074|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'HTTP: GET /openapi/{documentName}.json' with route pattern '/openapi/{documentName}.json' is valid for the request path '/openapi/v1.json' 
2025-09-18 15:11:36.2074|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'HTTP: GET /openapi/{documentName}.json' 
2025-09-18 15:11:36.2074|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 15:11:36.2074|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2025-09-18 15:11:36.2074|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'HTTP: GET /openapi/{documentName}.json' 
2025-09-18 15:11:36.4756|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" sending HEADERS frame for stream ID 17 with length 35 and flags END_HEADERS. 
2025-09-18 15:11:36.4756|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" sending DATA frame for stream ID 17 with length 16384 and flags NONE. 
2025-09-18 15:11:36.4756|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" sending DATA frame for stream ID 17 with length 16384 and flags NONE. 
2025-09-18 15:11:36.4756|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" sending DATA frame for stream ID 17 with length 16384 and flags NONE. 
2025-09-18 15:11:36.4756|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" sending DATA frame for stream ID 17 with length 9307 and flags NONE. 
2025-09-18 15:11:36.4756|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" received HEADERS frame for stream ID 19 with length 35 and flags END_STREAM, END_HEADERS, PRIORITY. 
2025-09-18 15:11:36.4756|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7143/openapi/v1.json - - - 
2025-09-18 15:11:36.4756|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 15:11:36.4756|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/openapi/v1.json' 
2025-09-18 15:11:36.4756|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'HTTP: GET /openapi/{documentName}.json' with route pattern '/openapi/{documentName}.json' is valid for the request path '/openapi/v1.json' 
2025-09-18 15:11:36.4756|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'HTTP: GET /openapi/{documentName}.json' 
2025-09-18 15:11:36.4756|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 15:11:36.4756|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2025-09-18 15:11:36.4756|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'HTTP: GET /openapi/{documentName}.json' 
2025-09-18 15:11:36.4756|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'HTTP: GET /openapi/{documentName}.json' 
2025-09-18 15:11:36.4756|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" sending DATA frame for stream ID 17 with length 0 and flags END_STREAM. 
2025-09-18 15:11:36.4756|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7143/openapi/v1.json - 200 - application/json;charset=utf-8 273.4347ms 
2025-09-18 15:11:36.5112|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" sending HEADERS frame for stream ID 19 with length 4 and flags END_HEADERS. 
2025-09-18 15:11:36.5112|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" sending DATA frame for stream ID 19 with length 16384 and flags NONE. 
2025-09-18 15:11:36.5112|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" sending DATA frame for stream ID 19 with length 16384 and flags NONE. 
2025-09-18 15:11:36.5112|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" sending DATA frame for stream ID 19 with length 16384 and flags NONE. 
2025-09-18 15:11:36.5112|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" sending DATA frame for stream ID 19 with length 9307 and flags NONE. 
2025-09-18 15:11:36.5112|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'HTTP: GET /openapi/{documentName}.json' 
2025-09-18 15:11:36.5112|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7143/openapi/v1.json - 200 - application/json;charset=utf-8 33.5433ms 
2025-09-18 15:11:36.5112|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" sending DATA frame for stream ID 19 with length 0 and flags END_STREAM. 
2025-09-18 15:11:54.4188|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" received HEADERS frame for stream ID 21 with length 42 and flags END_HEADERS, PRIORITY. 
2025-09-18 15:11:54.4188|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" received PING frame for stream ID 0 with length 8 and flags NONE. 
2025-09-18 15:11:54.4188|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" sending PING frame for stream ID 0 with length 8 and flags ACK. 
2025-09-18 15:11:54.4188|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" received DATA frame for stream ID 21 with length 71 and flags END_STREAM. 
2025-09-18 15:11:54.4188|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:7143/api/Account/Login - application/json 71 
2025-09-18 15:11:54.4188|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 15:11:54.4188|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/Account/Login' 
2025-09-18 15:11:54.4188|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'LibraryManagementSystem.API.Controllers.AccountController.login (LibraryManagementSystem.API)' with route pattern 'api/Account/Login' is valid for the request path '/api/Account/Login' 
2025-09-18 15:11:54.4188|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'LibraryManagementSystem.API.Controllers.AccountController.login (LibraryManagementSystem.API)' 
2025-09-18 15:11:54.4188|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 15:11:54.4188|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2025-09-18 15:11:54.4188|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'LibraryManagementSystem.API.Controllers.AccountController.login (LibraryManagementSystem.API)' 
2025-09-18 15:11:54.4188|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[LibraryManagementSystem.Data.DTO.UserDTO]] login(LibraryManagementSystem.API.DTO.Requests.CreateLoginRequest) on controller LibraryManagementSystem.API.Controllers.AccountController (LibraryManagementSystem.API). 
2025-09-18 15:11:54.4188|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2025-09-18 15:11:54.4188|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2025-09-18 15:11:54.4188|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2025-09-18 15:11:54.4188|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2025-09-18 15:11:54.4188|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2025-09-18 15:11:54.4188|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller LibraryManagementSystem.API.Controllers.AccountController (LibraryManagementSystem.API) 
2025-09-18 15:11:54.4188|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller LibraryManagementSystem.API.Controllers.AccountController (LibraryManagementSystem.API) 
2025-09-18 15:11:54.4188|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'request' of type 'LibraryManagementSystem.API.DTO.Requests.CreateLoginRequest' ... 
2025-09-18 15:11:54.4188|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Attempting to bind parameter 'request' of type 'LibraryManagementSystem.API.DTO.Requests.CreateLoginRequest' using the name '' in request data ... 
2025-09-18 15:11:54.4188|1|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'. 
2025-09-18 15:11:54.4188|25|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HNFMHVLKH19H", Request id "0HNFMHVLKH19H:00000015": started reading request body. 
2025-09-18 15:11:54.4188|26|DEBUG|Microsoft.AspNetCore.Server.Kestrel|Connection id "0HNFMHVLKH19H", Request id "0HNFMHVLKH19H:00000015": done reading request body. 
2025-09-18 15:11:54.4188|2|DEBUG|Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter|JSON input formatter succeeded, deserializing to type 'LibraryManagementSystem.API.DTO.Requests.CreateLoginRequest' 
2025-09-18 15:11:54.4188|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder|Done attempting to bind parameter 'request' of type 'LibraryManagementSystem.API.DTO.Requests.CreateLoginRequest'. 
2025-09-18 15:11:54.4188|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'request' of type 'LibraryManagementSystem.API.DTO.Requests.CreateLoginRequest'. 
2025-09-18 15:11:54.4188|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'request' of type 'LibraryManagementSystem.API.DTO.Requests.CreateLoginRequest' ... 
2025-09-18 15:11:54.4188|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'request' of type 'LibraryManagementSystem.API.DTO.Requests.CreateLoginRequest'. 
2025-09-18 15:11:54.4188|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 15:11:54.4188|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 15:11:54.4188|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 15:11:54.4188|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 15:11:54.4188|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method LibraryManagementSystem.API.Controllers.AccountController.login (LibraryManagementSystem.API) - Validation state: Valid 
2025-09-18 15:11:54.4188|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method LibraryManagementSystem.API.Controllers.AccountController.login (LibraryManagementSystem.API) with arguments (LibraryManagementSystem.API.DTO.Requests.CreateLoginRequest) 
2025-09-18 15:11:54.4188|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 9.0.8 initialized 'LibraryContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.8' with options: EngineType=SqlServer  
2025-09-18 15:11:54.4188|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2025-09-18 15:11:54.4188|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2025-09-18 15:11:54.4188|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:11:54.4332|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:11:54.4596|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2025-09-18 15:11:54.4596|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2025-09-18 15:11:54.4596|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2025-09-18 15:11:54.4596|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateCreated], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0 
2025-09-18 15:11:54.4596|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateCreated], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0 
2025-09-18 15:11:54.4596|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:11:54.4596|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:11:54.4596|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'LibraryDb' on server 'LAPTOP-4LPUPLC4' is being disposed after spending 0ms reading results. 
2025-09-18 15:11:54.4596|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:11:54.4596|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4' (0ms). 
2025-09-18 15:11:54.5691|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:11:54.5691|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:11:54.6095|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2025-09-18 15:11:54.6095|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2025-09-18 15:11:54.6095|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2025-09-18 15:11:54.6095|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-09-18 15:11:54.6168|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-09-18 15:11:54.6168|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:11:54.6168|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'LibraryDb' on server 'LAPTOP-4LPUPLC4' is being disposed after spending 0ms reading results. 
2025-09-18 15:11:54.6168|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:11:54.6168|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4' (0ms). 
2025-09-18 15:11:54.6168|103|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action method LibraryManagementSystem.API.Controllers.AccountController.login (LibraryManagementSystem.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 197.208ms. 
2025-09-18 15:11:54.6168|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 15:11:54.6168|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 15:11:54.6168|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 15:11:54.6168|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 15:11:54.6168|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 15:11:54.6168|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 15:11:54.6168|5|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult. 
2025-09-18 15:11:54.6168|11|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter 
2025-09-18 15:11:54.6168|4|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|No information found on request to perform content negotiation. 
2025-09-18 15:11:54.6168|8|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select an output formatter without using a content type as no explicit content types were specified for the response. 
2025-09-18 15:11:54.6168|10|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select the first formatter in the output formatters list which can write the result. 
2025-09-18 15:11:54.6168|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response. 
2025-09-18 15:11:54.6168|1|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'LibraryManagementSystem.Data.DTO.UserDTO'. 
2025-09-18 15:11:54.6168|6|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|After executing action result Microsoft.AspNetCore.Mvc.ObjectResult. 
2025-09-18 15:11:54.6168|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 15:11:54.6168|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 15:11:54.6168|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" sending HEADERS frame for stream ID 21 with length 34 and flags END_HEADERS. 
2025-09-18 15:11:54.6168|105|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action LibraryManagementSystem.API.Controllers.AccountController.login (LibraryManagementSystem.API) in 198.7134ms 
2025-09-18 15:11:54.6168|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" sending DATA frame for stream ID 21 with length 480 and flags NONE. 
2025-09-18 15:11:54.6168|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'LibraryManagementSystem.API.Controllers.AccountController.login (LibraryManagementSystem.API)' 
2025-09-18 15:11:54.6168|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" sending DATA frame for stream ID 21 with length 0 and flags END_STREAM. 
2025-09-18 15:11:54.6168|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'LibraryContext' disposed. 
2025-09-18 15:11:54.6168|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:11:54.6168|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2025-09-18 15:11:54.6168|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:7143/api/Account/Login - 200 - application/json;+charset=utf-8 199.9157ms 
2025-09-18 15:11:54.6168|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" received WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2025-09-18 15:12:23.4761|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH19I" accepted. 
2025-09-18 15:12:23.4761|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMHVLKH19I" received FIN. 
2025-09-18 15:12:23.4761|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH19J" accepted. 
2025-09-18 15:12:23.4761|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH19I" started. 
2025-09-18 15:12:23.4761|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH19J" started. 
2025-09-18 15:12:23.5244|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Failed to authenticate HTTPS connection. System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-09-18 15:12:23.5244|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH19I" stopped. 
2025-09-18 15:12:23.5244|3|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Connection 0HNFMHVLKH19J established using the following protocol: Tls13 
2025-09-18 15:12:23.5244|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMHVLKH19I" sending FIN because: "The Socket transport's send loop completed gracefully." 
2025-09-18 15:12:23.5244|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7143/api/BookRental - - - 
2025-09-18 15:12:23.5244|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 15:12:23.5244|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/BookRental' 
2025-09-18 15:12:23.5244|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.GetAllRentals (LibraryManagementSystem.API)' with route pattern 'api/BookRental' is valid for the request path '/api/BookRental' 
2025-09-18 15:12:23.5244|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.GetAllRentals (LibraryManagementSystem.API)' 
2025-09-18 15:12:23.5244|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 15:12:23.5244|2|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Successfully validated the token. 
2025-09-18 15:12:23.5244|8|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was successfully authenticated. 
2025-09-18 15:12:23.5244|1|DEBUG|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization was successful. 
2025-09-18 15:12:23.5244|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.GetAllRentals (LibraryManagementSystem.API)' 
2025-09-18 15:12:23.5244|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetAllRentals", controller = "BookRental"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[LibraryManagementSystem.API.DTO.BookRentalDTO]] GetAllRentals() on controller LibraryManagementSystem.API.Controllers.BookRentalController (LibraryManagementSystem.API). 
2025-09-18 15:12:23.5244|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2025-09-18 15:12:23.5244|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2025-09-18 15:12:23.5244|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2025-09-18 15:12:23.5244|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2025-09-18 15:12:23.5244|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2025-09-18 15:12:23.5244|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller LibraryManagementSystem.API.Controllers.BookRentalController (LibraryManagementSystem.API) 
2025-09-18 15:12:23.5244|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller LibraryManagementSystem.API.Controllers.BookRentalController (LibraryManagementSystem.API) 
2025-09-18 15:12:23.5244|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 15:12:23.5244|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 15:12:23.5244|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 15:12:23.5244|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 15:12:23.5244|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method LibraryManagementSystem.API.Controllers.BookRentalController.GetAllRentals (LibraryManagementSystem.API) - Validation state: Valid 
2025-09-18 15:12:23.5244|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 9.0.8 initialized 'LibraryContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.8' with options: EngineType=SqlServer  
2025-09-18 15:12:23.5244|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2025-09-18 15:12:23.5244|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2025-09-18 15:12:23.5244|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:12:23.5468|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:12:23.5499|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2025-09-18 15:12:23.5499|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2025-09-18 15:12:23.5499|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2025-09-18 15:12:23.5499|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[CustomerId], [b].[Price], [b].[Quantity], [b].[RentEndDate], [b].[RentStartDate], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateCreated], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [b0].[Id], [b0].[CreatedAt], [b0].[Description], [b0].[LastModifiedAt], [b0].[LastModifiedBy], [b0].[Price], [b0].[PublisherId], [b0].[Quantity], [b0].[Title]
FROM [BookRentals] AS [b]
INNER JOIN [AspNetUsers] AS [a] ON [b].[CustomerId] = [a].[Id]
INNER JOIN [Books] AS [b0] ON [b].[BookId] = [b0].[Id] 
2025-09-18 15:12:23.5499|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[CustomerId], [b].[Price], [b].[Quantity], [b].[RentEndDate], [b].[RentStartDate], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateCreated], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [b0].[Id], [b0].[CreatedAt], [b0].[Description], [b0].[LastModifiedAt], [b0].[LastModifiedBy], [b0].[Price], [b0].[PublisherId], [b0].[Quantity], [b0].[Title]
FROM [BookRentals] AS [b]
INNER JOIN [AspNetUsers] AS [a] ON [b].[CustomerId] = [a].[Id]
INNER JOIN [Books] AS [b0] ON [b].[BookId] = [b0].[Id] 
2025-09-18 15:12:23.5499|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:12:23.5499|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:12:23.5499|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:12:23.5499|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Book' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:12:23.5499|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:12:23.5499|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:12:23.5499|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Book' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:12:23.5499|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:12:23.5499|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:12:23.5499|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:12:23.5499|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:12:23.5499|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Book' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:12:23.5499|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:12:23.5499|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:12:23.5499|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:12:23.5499|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:12:23.5499|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:12:23.5499|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:12:23.5499|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:12:23.5499|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:12:23.5499|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:12:23.5499|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:12:23.5499|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:12:23.5499|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:12:23.5499|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'LibraryDb' on server 'LAPTOP-4LPUPLC4' is being disposed after spending 1ms reading results. 
2025-09-18 15:12:23.5499|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:12:23.5655|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4' (0ms). 
2025-09-18 15:12:23.5655|103|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action method LibraryManagementSystem.API.Controllers.BookRentalController.GetAllRentals (LibraryManagementSystem.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 38.0602ms. 
2025-09-18 15:12:23.5655|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 15:12:23.5655|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 15:12:23.5655|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 15:12:23.5655|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 15:12:23.5655|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 15:12:23.5655|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 15:12:23.5655|5|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult. 
2025-09-18 15:12:23.5655|11|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter 
2025-09-18 15:12:23.5655|4|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|No information found on request to perform content negotiation. 
2025-09-18 15:12:23.5655|8|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select an output formatter without using a content type as no explicit content types were specified for the response. 
2025-09-18 15:12:23.5655|10|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select the first formatter in the output formatters list which can write the result. 
2025-09-18 15:12:23.5655|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response. 
2025-09-18 15:12:23.5655|1|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LibraryManagementSystem.API.DTO.BookRentalDTO, LibraryManagementSystem.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-09-18 15:12:23.5655|6|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult. 
2025-09-18 15:12:23.5655|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 15:12:23.5655|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 15:12:23.5655|105|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action LibraryManagementSystem.API.Controllers.BookRentalController.GetAllRentals (LibraryManagementSystem.API) in 39.484ms 
2025-09-18 15:12:23.5655|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.GetAllRentals (LibraryManagementSystem.API)' 
2025-09-18 15:12:23.5655|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH19J" completed keep alive response. 
2025-09-18 15:12:23.5655|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'LibraryContext' disposed. 
2025-09-18 15:12:23.5655|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:12:23.5655|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2025-09-18 15:12:23.5655|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7143/api/BookRental - 200 - application/json;+charset=utf-8 41.7209ms 
2025-09-18 15:14:35.9030|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" received HEADERS frame for stream ID 23 with length 34 and flags END_STREAM, END_HEADERS, PRIORITY. 
2025-09-18 15:14:35.9030|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7143/api/BookRental - - - 
2025-09-18 15:14:35.9030|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 15:14:35.9030|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/BookRental' 
2025-09-18 15:14:35.9030|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.GetAllRentals (LibraryManagementSystem.API)' with route pattern 'api/BookRental' is valid for the request path '/api/BookRental' 
2025-09-18 15:14:35.9030|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" received PING frame for stream ID 0 with length 8 and flags NONE. 
2025-09-18 15:14:35.9030|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.GetAllRentals (LibraryManagementSystem.API)' 
2025-09-18 15:14:35.9030|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" sending PING frame for stream ID 0 with length 8 and flags ACK. 
2025-09-18 15:14:35.9030|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 15:14:35.9030|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2025-09-18 15:14:35.9030|0|DEBUG|Microsoft.AspNetCore.Authorization.AuthorizationMiddleware|Policy authentication schemes  did not succeed 
2025-09-18 15:14:35.9108|2|INFO|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Customer) 
2025-09-18 15:14:35.9108|12|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was challenged. 
2025-09-18 15:14:35.9108|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7143/api/BookRental - 401 0 - 6.6116ms 
2025-09-18 15:14:35.9108|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" sending HEADERS frame for stream ID 23 with length 45 and flags END_STREAM, END_HEADERS. 
2025-09-18 15:14:45.6853|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH19K" accepted. 
2025-09-18 15:14:45.6853|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH19K" started. 
2025-09-18 15:14:45.6913|3|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Connection 0HNFMHVLKH19K established using the following protocol: Tls13 
2025-09-18 15:14:45.6913|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19K" sending SETTINGS frame for stream ID 0 with length 24 and flags NONE. 
2025-09-18 15:14:45.6913|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19K" sending WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2025-09-18 15:14:45.6913|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19K" received SETTINGS frame for stream ID 0 with length 24 and flags NONE. 
2025-09-18 15:14:45.6913|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19K" sending SETTINGS frame for stream ID 0 with length 0 and flags ACK. 
2025-09-18 15:14:45.6913|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19K" received WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2025-09-18 15:14:45.6913|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19K" received HEADERS frame for stream ID 1 with length 377 and flags END_STREAM, END_HEADERS, PRIORITY. 
2025-09-18 15:14:45.6913|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7143/openapi/v1.json - - - 
2025-09-18 15:14:45.6913|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 15:14:45.6913|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/openapi/v1.json' 
2025-09-18 15:14:45.6913|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'HTTP: GET /openapi/{documentName}.json' with route pattern '/openapi/{documentName}.json' is valid for the request path '/openapi/v1.json' 
2025-09-18 15:14:45.6913|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'HTTP: GET /openapi/{documentName}.json' 
2025-09-18 15:14:45.6913|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 15:14:45.6913|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2025-09-18 15:14:45.6913|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19K" received SETTINGS frame for stream ID 0 with length 0 and flags ACK. 
2025-09-18 15:14:45.6913|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'HTTP: GET /openapi/{documentName}.json' 
2025-09-18 15:14:45.7238|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19K" sending HEADERS frame for stream ID 1 with length 73 and flags END_HEADERS. 
2025-09-18 15:14:45.7238|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19K" sending DATA frame for stream ID 1 with length 16384 and flags NONE. 
2025-09-18 15:14:45.7238|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19K" sending DATA frame for stream ID 1 with length 16384 and flags NONE. 
2025-09-18 15:14:45.7238|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19K" sending DATA frame for stream ID 1 with length 16384 and flags NONE. 
2025-09-18 15:14:45.7238|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19K" sending DATA frame for stream ID 1 with length 9307 and flags NONE. 
2025-09-18 15:14:45.7238|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'HTTP: GET /openapi/{documentName}.json' 
2025-09-18 15:14:45.7238|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19K" sending DATA frame for stream ID 1 with length 0 and flags END_STREAM. 
2025-09-18 15:14:45.7238|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7143/openapi/v1.json - 200 - application/json;charset=utf-8 32.3733ms 
2025-09-18 15:25:51.6572|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMHVLKH19H" received FIN. 
2025-09-18 15:25:51.6572|48|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19H" is closed. The last processed stream ID was 23. 
2025-09-18 15:25:51.6572|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMHVLKH19H" sending FIN because: "The Socket transport's send loop completed gracefully." 
2025-09-18 15:25:51.6572|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMHVLKH19K" received FIN. 
2025-09-18 15:25:51.6572|48|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMHVLKH19K" is closed. The last processed stream ID was 1. 
2025-09-18 15:25:51.6572|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMHVLKH19K" sending FIN because: "The Socket transport's send loop completed gracefully." 
2025-09-18 15:25:51.6572|62|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Http2|The connection queue processing loop for 0HNFMHVLKH19H completed. 
2025-09-18 15:25:51.6572|62|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Http2|The connection queue processing loop for 0HNFMHVLKH19K completed. 
2025-09-18 15:25:51.6635|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH19H" stopped. 
2025-09-18 15:25:51.6635|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMHVLKH19K" stopped. 
2025-09-18 15:33:36.6962|0|DEBUG|LibraryManagementSystem.API.Program|init main 
2025-09-18 15:33:37.1780|0|INFO|LibraryManagementSystem.API.Program|✅ Test log: Application started 
2025-09-18 15:33:38.2779|12|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider 
2025-09-18 15:33:38.4045|1|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting starting 
2025-09-18 15:33:38.4621|63|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\Remah\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
2025-09-18 15:33:38.4773|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\Remah\AppData\Local\ASP.NET\DataProtection-Keys\key-0eadaaaa-7e78-4b9a-b5c6-d6842d7acf5d.xml'. 
2025-09-18 15:33:38.4932|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\Remah\AppData\Local\ASP.NET\DataProtection-Keys\key-90e9434f-347d-4778-9235-65398a291d04.xml'. 
2025-09-18 15:33:38.4932|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {0eadaaaa-7e78-4b9a-b5c6-d6842d7acf5d}. 
2025-09-18 15:33:38.5100|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {90e9434f-347d-4778-9235-65398a291d04}. 
2025-09-18 15:33:38.5212|13|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver|Considering key {0eadaaaa-7e78-4b9a-b5c6-d6842d7acf5d} with expiration date 2025-10-28 11:37:33Z as default key. 
2025-09-18 15:33:38.5212|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2025-09-18 15:33:38.5212|51|DEBUG|Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor|Decrypting secret element using Windows DPAPI. 
2025-09-18 15:33:38.5212|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2025-09-18 15:33:38.5338|4|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC. 
2025-09-18 15:33:38.5338|3|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC. 
2025-09-18 15:33:38.5338|2|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider|Using key {0eadaaaa-7e78-4b9a-b5c6-d6842d7acf5d} as the default key. 
2025-09-18 15:33:38.5338|65|DEBUG|Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService|Key ring with default key {0eadaaaa-7e78-4b9a-b5c6-d6842d7acf5d} was loaded during application startup. 
2025-09-18 15:33:38.5338|0|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BlazorWasmHotReloadMiddleware|Middleware loaded 
2025-09-18 15:33:38.5338|0|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserScriptMiddleware|Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16539 B). 
2025-09-18 15:33:38.5338|0|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserScriptMiddleware|Middleware loaded. Script /_framework/blazor-hotreload.js (799 B). 
2025-09-18 15:33:38.6229|7|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True} 
2025-09-18 15:33:38.6229|0|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Wildcard detected, all requests with hosts will be allowed. 
2025-09-18 15:33:38.6426|0|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware|Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true 
2025-09-18 15:33:38.7896|14|INFO|Microsoft.Hosting.Lifetime|Now listening on: https://localhost:7143 
2025-09-18 15:33:38.7896|14|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5223 
2025-09-18 15:33:38.7896|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly LibraryManagementSystem.API 
2025-09-18 15:33:38.7896|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery 
2025-09-18 15:33:38.7896|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh 
2025-09-18 15:33:38.7896|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net 
2025-09-18 15:33:38.8119|2|DEBUG|Microsoft.AspNetCore.Mvc.ApiExplorer.ApiDescriptionGroupCollectionProvider|Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0. 
2025-09-18 15:33:38.8119|2|DEBUG|Microsoft.AspNetCore.Mvc.ApiExplorer.ApiDescriptionGroupCollectionProvider|Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0. 
2025-09-18 15:33:38.8926|0|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down. 
2025-09-18 15:33:38.8984|0|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development 
2025-09-18 15:33:38.8984|0|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\Remah\Desktop\AST\Projects\LibraryManagementSystem\LibraryManagementSystem 
2025-09-18 15:33:38.8984|2|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting started 
2025-09-18 15:33:54.1452|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMLUGJTRGI" accepted. 
2025-09-18 15:33:54.1452|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMLUGJTRGI" started. 
2025-09-18 15:33:54.2514|3|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Connection 0HNFMLUGJTRGI established using the following protocol: Tls13 
2025-09-18 15:33:54.2949|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMLUGJTRGI" sending SETTINGS frame for stream ID 0 with length 24 and flags NONE. 
2025-09-18 15:33:54.3101|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMLUGJTRGI" sending WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2025-09-18 15:33:54.3231|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMLUGJTRGI" received SETTINGS frame for stream ID 0 with length 24 and flags NONE. 
2025-09-18 15:33:54.3231|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMLUGJTRGI" sending SETTINGS frame for stream ID 0 with length 0 and flags ACK. 
2025-09-18 15:33:54.3231|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMLUGJTRGI" received WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2025-09-18 15:33:54.3231|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMLUGJTRGI" received HEADERS frame for stream ID 1 with length 401 and flags END_STREAM, END_HEADERS, PRIORITY. 
2025-09-18 15:33:54.3537|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMLUGJTRGI" received SETTINGS frame for stream ID 0 with length 0 and flags ACK. 
2025-09-18 15:33:54.3863|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7143/api/Reports/export-rentals - - - 
2025-09-18 15:33:54.4061|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 15:33:54.4732|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/Reports/export-rentals' 
2025-09-18 15:33:54.4732|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'LibraryManagementSystem.API.Controllers.ReportsController.ExportRentals (LibraryManagementSystem.API)' with route pattern 'api/Reports/export-rentals' is valid for the request path '/api/Reports/export-rentals' 
2025-09-18 15:33:54.4732|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'LibraryManagementSystem.API.Controllers.ReportsController.ExportRentals (LibraryManagementSystem.API)' 
2025-09-18 15:33:54.4732|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 15:33:54.5928|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2025-09-18 15:33:54.5966|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'LibraryManagementSystem.API.Controllers.ReportsController.ExportRentals (LibraryManagementSystem.API)' 
2025-09-18 15:33:54.6613|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "ExportRentals", controller = "Reports"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ExportRentals(LibraryManagementSystem.API.Services.ExcelExportService) on controller LibraryManagementSystem.API.Controllers.ReportsController (LibraryManagementSystem.API). 
2025-09-18 15:33:54.6613|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2025-09-18 15:33:54.6613|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2025-09-18 15:33:54.6613|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2025-09-18 15:33:54.6613|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2025-09-18 15:33:54.6613|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2025-09-18 15:33:54.6613|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller LibraryManagementSystem.API.Controllers.ReportsController (LibraryManagementSystem.API) 
2025-09-18 15:33:54.9656|10401|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|An 'IServiceProvider' was created for internal use by Entity Framework. 
2025-09-18 15:33:55.0183|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller LibraryManagementSystem.API.Controllers.ReportsController (LibraryManagementSystem.API) 
2025-09-18 15:33:55.0379|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'excelExportService' of type 'LibraryManagementSystem.API.Services.ExcelExportService' ... 
2025-09-18 15:33:55.0379|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'excelExportService' of type 'LibraryManagementSystem.API.Services.ExcelExportService'. 
2025-09-18 15:33:55.0379|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'excelExportService' of type 'LibraryManagementSystem.API.Services.ExcelExportService' ... 
2025-09-18 15:33:55.0379|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'excelExportService' of type 'LibraryManagementSystem.API.Services.ExcelExportService'. 
2025-09-18 15:33:55.0379|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 15:33:55.0379|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 15:33:55.0379|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 15:33:55.0379|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 15:33:55.0567|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method LibraryManagementSystem.API.Controllers.ReportsController.ExportRentals (LibraryManagementSystem.API) - Validation state: Valid 
2025-09-18 15:33:55.0567|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method LibraryManagementSystem.API.Controllers.ReportsController.ExportRentals (LibraryManagementSystem.API) with arguments (LibraryManagementSystem.API.Services.ExcelExportService) 
2025-09-18 15:33:55.9213|10601|DEBUG|Microsoft.EntityFrameworkCore.Model|The index {'BookId'} was not created on entity type 'BookCategory' as the properties are already covered by the index {'BookId', 'CategoryId'}. 
2025-09-18 15:33:55.9213|10601|DEBUG|Microsoft.EntityFrameworkCore.Model|The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}. 
2025-09-18 15:33:55.9213|10601|DEBUG|Microsoft.EntityFrameworkCore.Model|The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}. 
2025-09-18 15:33:56.2560|30000|WARN|Microsoft.EntityFrameworkCore.Model.Validation|No store type was specified for the decimal property 'Price' on entity type 'Book'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'. 
2025-09-18 15:33:56.3804|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 9.0.8 initialized 'LibraryContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.8' with options: EngineType=SqlServer  
2025-09-18 15:33:56.5599|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<BookRentals>()
    .Include(r => r.Customer)
    .Include(r => r.Book)' 
2025-09-18 15:33:56.6897|10112|DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'BookRentals.Customer'. 
2025-09-18 15:33:56.6897|10112|DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'BookRentals.Book'. 
2025-09-18 15:33:57.1750|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<BookRentals>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: BookRentals.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: BookRentals.BookId (Guid) Required FK Index, 1], [Property: BookRentals.CustomerId (string) Required FK Index, 2], [Property: BookRentals.Price (double) Required, 3], [Property: BookRentals.Quantity (int) Required, 4], [Property: BookRentals.RentEndDate (DateTime) Required, 5], [Property: BookRentals.RentStartDate (DateTime) Required, 6] }
            1 -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 7], [Property: User.AccessFailedCount (int) Required, 8], [Property: User.ConcurrencyStamp (string) Concurrency, 9], [Property: User.DateCreated (DateTime) Required, 10], [Property: User.Email (string) MaxLength(256), 11], [Property: User.EmailConfirmed (bool) Required, 12], [Property: User.FirstName (string) Required, 13], [Property: User.LastName (string) Required, 14], [Property: User.LockoutEnabled (bool) Required, 15], [Property: User.LockoutEnd (DateTimeOffset?), 16], [Property: User.NormalizedEmail (string) Index MaxLength(256), 17], [Property: User.NormalizedUserName (string) Index MaxLength(256), 18], [Property: User.PasswordHash (string), 19], [Property: User.PhoneNumber (string), 20], [Property: User.PhoneNumberConfirmed (bool) Required, 21], [Property: User.SecurityStamp (string), 22], [Property: User.TwoFactorEnabled (bool) Required, 23], [Property: User.UserName (string) MaxLength(256), 24] }
            2 -> Dictionary<IProperty, int> { [Property: Book.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 25], [Property: Book.CreatedAt (DateTime) Required, 26], [Property: Book.Description (string), 27], [Property: Book.LastModifiedAt (DateTime?), 28], [Property: Book.LastModifiedBy (DateTime?), 29], [Property: Book.Price (decimal?), 30], [Property: Book.PublisherId (Guid?) FK Index, 31], [Property: Book.Quantity (int) Required, 32], [Property: Book.Title (string), 33] }
        SELECT b.Id, b.BookId, b.CustomerId, b.Price, b.Quantity, b.RentEndDate, b.RentStartDate, a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.DateCreated, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, b0.Id, b0.CreatedAt, b0.Description, b0.LastModifiedAt, b0.LastModifiedBy, b0.Price, b0.PublisherId, b0.Quantity, b0.Title
        FROM BookRentals AS b
        INNER JOIN AspNetUsers AS a ON b.CustomerId == a.Id
        INNER JOIN Books AS b0 ON b.BookId == b0.Id) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: BookRentals.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: BookRentals.BookId (Guid) Required FK Index, 1], [Property: BookRentals.CustomerId (string) Required FK Index, 2], [Property: BookRentals.Price (double) Required, 3], [Property: BookRentals.Quantity (int) Required, 4], [Property: BookRentals.RentEndDate (DateTime) Required, 5], [Property: BookRentals.RentStartDate (DateTime) Required, 6] }
            1 -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 7], [Property: User.AccessFailedCount (int) Required, 8], [Property: User.ConcurrencyStamp (string) Concurrency, 9], [Property: User.DateCreated (DateTime) Required, 10], [Property: User.Email (string) MaxLength(256), 11], [Property: User.EmailConfirmed (bool) Required, 12], [Property: User.FirstName (string) Required, 13], [Property: User.LastName (string) Required, 14], [Property: User.LockoutEnabled (bool) Required, 15], [Property: User.LockoutEnd (DateTimeOffset?), 16], [Property: User.NormalizedEmail (string) Index MaxLength(256), 17], [Property: User.NormalizedUserName (string) Index MaxLength(256), 18], [Property: User.PasswordHash (string), 19], [Property: User.PhoneNumber (string), 20], [Property: User.PhoneNumberConfirmed (bool) Required, 21], [Property: User.SecurityStamp (string), 22], [Property: User.TwoFactorEnabled (bool) Required, 23], [Property: User.UserName (string) MaxLength(256), 24] }
            2 -> Dictionary<IProperty, int> { [Property: Book.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 25], [Property: Book.CreatedAt (DateTime) Required, 26], [Property: Book.Description (string), 27], [Property: Book.LastModifiedAt (DateTime?), 28], [Property: Book.LastModifiedBy (DateTime?), 29], [Property: Book.Price (decimal?), 30], [Property: Book.PublisherId (Guid?) FK Index, 31], [Property: Book.Quantity (int) Required, 32], [Property: Book.Title (string), 33] }
        SELECT b.Id, b.BookId, b.CustomerId, b.Price, b.Quantity, b.RentEndDate, b.RentStartDate, a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.DateCreated, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, b0.Id, b0.CreatedAt, b0.Description, b0.LastModifiedAt, b0.LastModifiedBy, b0.Price, b0.PublisherId, b0.Quantity, b0.Title
        FROM BookRentals AS b
        INNER JOIN AspNetUsers AS a ON b.CustomerId == a.Id
        INNER JOIN Books AS b0 ON b.BookId == b0.Id, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        BookRentals entity;
        User entity;
        Book entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            BookRentals instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(BookRentals);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: BookRentals.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Entities.BookRentals").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (BookRentals)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: BookRentals | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Entities.BookRentals")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: BookRentals | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Entities.BookRentals")]: 
                        {
                            return 
                            {
                                BookRentals instance;
                                instance = new BookRentals();
                                instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                instance.<BookId>k__BackingField = dataReader.GetGuid(1);
                                instance.<CustomerId>k__BackingField = dataReader.GetString(2);
                                instance.<Price>k__BackingField = dataReader.GetDouble(3);
                                instance.<Quantity>k__BackingField = dataReader.GetInt32(4);
                                instance.<RentEndDate>k__BackingField = dataReader.GetDateTime(5);
                                instance.<RentStartDate>k__BackingField = dataReader.GetDateTime(6);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: BookRentals | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Entities.BookRentals")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(BookRentals)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        entity = 
        {
            MaterializationContext materializationContext2;
            IEntityType entityType2;
            User instance2;
            InternalEntityEntry entry2;
            bool hasNullKey2;
            materializationContext2 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance2 = default(User);
            entry2 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Identity.User").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetString(7) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey2);
            !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
            {
                entityType2 = entry2.EntityType;
                return instance2 = (User)entry2.Entity;
            } : 
            {
                ISnapshot shadowSnapshot2;
                shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType2 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Identity.User")];
                instance2 = switch (entityType2)
                {
                    case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Identity.User")]: 
                        {
                            return 
                            {
                                User instance;
                                instance = new User();
                                instance.<Id>k__BackingField = dataReader.GetString(7);
                                instance.<AccessFailedCount>k__BackingField = dataReader.GetInt32(8);
                                instance.<ConcurrencyStamp>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                instance.<DateCreated>k__BackingField = dataReader.GetDateTime(10);
                                instance.<Email>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                instance.<EmailConfirmed>k__BackingField = dataReader.GetBoolean(12);
                                instance.<FirstName>k__BackingField = dataReader.GetString(13);
                                instance.<LastName>k__BackingField = dataReader.GetString(14);
                                instance.<LockoutEnabled>k__BackingField = dataReader.GetBoolean(15);
                                instance.<LockoutEnd>k__BackingField = dataReader.IsDBNull(16) ? default(DateTimeOffset?) : (DateTimeOffset?)dataReader.GetFieldValue<DateTimeOffset>(16);
                                instance.<NormalizedEmail>k__BackingField = dataReader.IsDBNull(17) ? default(string) : dataReader.GetString(17);
                                instance.<NormalizedUserName>k__BackingField = dataReader.IsDBNull(18) ? default(string) : dataReader.GetString(18);
                                instance.<PasswordHash>k__BackingField = dataReader.IsDBNull(19) ? default(string) : dataReader.GetString(19);
                                instance.<PhoneNumber>k__BackingField = dataReader.IsDBNull(20) ? default(string) : dataReader.GetString(20);
                                instance.<PhoneNumberConfirmed>k__BackingField = dataReader.GetBoolean(21);
                                instance.<SecurityStamp>k__BackingField = dataReader.IsDBNull(22) ? default(string) : dataReader.GetString(22);
                                instance.<TwoFactorEnabled>k__BackingField = dataReader.GetBoolean(23);
                                instance.<UserName>k__BackingField = dataReader.IsDBNull(24) ? default(string) : dataReader.GetString(24);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext2.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Identity.User")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(User)
                }
                ;
                entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType2, 
                    entity: instance2, 
                    snapshot: shadowSnapshot2);
                return instance2;
            } : default(void);
            return instance2;
        };
        entity = 
        {
            MaterializationContext materializationContext3;
            IEntityType entityType3;
            Book instance3;
            InternalEntityEntry entry3;
            bool hasNullKey3;
            materializationContext3 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance3 = default(Book);
            entry3 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Book.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("LibraryManagmentSystem.Entities.Book").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(25) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey3);
            !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
            {
                entityType3 = entry3.EntityType;
                return instance3 = (Book)entry3.Entity;
            } : 
            {
                ISnapshot shadowSnapshot3;
                shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType3 = [LIFTABLE Constant: EntityType: Book | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("LibraryManagmentSystem.Entities.Book")];
                instance3 = switch (entityType3)
                {
                    case [LIFTABLE Constant: EntityType: Book | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("LibraryManagmentSystem.Entities.Book")]: 
                        {
                            return 
                            {
                                Book instance;
                                instance = new Book();
                                instance.<Id>k__BackingField = dataReader.GetGuid(25);
                                instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(26);
                                instance.<Description>k__BackingField = dataReader.IsDBNull(27) ? default(string) : dataReader.GetString(27);
                                instance.<LastModifiedAt>k__BackingField = dataReader.IsDBNull(28) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(28);
                                instance.<LastModifiedBy>k__BackingField = dataReader.IsDBNull(29) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(29);
                                instance.<Price>k__BackingField = dataReader.IsDBNull(30) ? default(decimal?) : (decimal?)dataReader.GetDecimal(30);
                                instance.<PublisherId>k__BackingField = dataReader.IsDBNull(31) ? default(Guid?) : (Guid?)dataReader.GetGuid(31);
                                instance.<Quantity>k__BackingField = dataReader.GetInt32(32);
                                instance.<Title>k__BackingField = dataReader.IsDBNull(33) ? default(string) : dataReader.GetString(33);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext3.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Book | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("LibraryManagmentSystem.Entities.Book")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Book)
                }
                ;
                entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType3, 
                    entity: instance3, 
                    snapshot: shadowSnapshot3);
                return instance3;
            } : default(void);
            return instance3;
        };
        ShaperProcessingExpressionVisitor.IncludeReference<BookRentals, BookRentals, User>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: BookRentals.Customer (User) ToPrincipal User Inverse: BookRentals | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Entities.BookRentals").FindNavigation("Customer")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: User.BookRentals (ICollection<BookRentals>) Collection ToDependent BookRentals Inverse: Customer | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Identity.User").FindNavigation("BookRentals")], 
            fixup: (namelessParameter{11}, namelessParameter{12}) => 
            {
                namelessParameter{11}.<Customer>k__BackingField = namelessParameter{12};
                return [LIFTABLE Constant: ClrICollectionAccessor<User, ICollection<BookRentals>, BookRentals> | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Identity.User").FindNavigation("BookRentals").GetCollectionAccessor()].Add(
                    entity: namelessParameter{12}, 
                    value: namelessParameter{11}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<BookRentals, BookRentals, Book>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: BookRentals.Book (Book) ToPrincipal Book Inverse: BookRentals | Resolver: namelessParameter{14} => namelessParameter{14}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Entities.BookRentals").FindNavigation("Book")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Book.BookRentals (ICollection<BookRentals>) Collection ToDependent BookRentals Inverse: Book | Resolver: namelessParameter{15} => namelessParameter{15}.Dependencies.Model.FindEntityType("LibraryManagmentSystem.Entities.Book").FindNavigation("BookRentals")], 
            fixup: (namelessParameter{16}, namelessParameter{17}) => 
            {
                namelessParameter{16}.<Book>k__BackingField = namelessParameter{17};
                return [LIFTABLE Constant: ClrICollectionAccessor<Book, ICollection<BookRentals>, BookRentals> | Resolver: namelessParameter{18} => namelessParameter{18}.Dependencies.Model.FindEntityType("LibraryManagmentSystem.Entities.Book").FindNavigation("BookRentals").GetCollectionAccessor()].Add(
                    entity: namelessParameter{17}, 
                    value: namelessParameter{16}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        return entity;
    }, 
    contextType: LibraryManagmentSystem.Data.LibraryContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)' 
2025-09-18 15:33:57.2622|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2025-09-18 15:33:57.3095|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (42ms). 
2025-09-18 15:33:57.3154|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:33:57.6890|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:33:57.6929|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2025-09-18 15:33:57.6929|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (5ms). 
2025-09-18 15:33:57.7083|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (15ms). 
2025-09-18 15:33:57.7218|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[CustomerId], [b].[Price], [b].[Quantity], [b].[RentEndDate], [b].[RentStartDate], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateCreated], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [b0].[Id], [b0].[CreatedAt], [b0].[Description], [b0].[LastModifiedAt], [b0].[LastModifiedBy], [b0].[Price], [b0].[PublisherId], [b0].[Quantity], [b0].[Title]
FROM [BookRentals] AS [b]
INNER JOIN [AspNetUsers] AS [a] ON [b].[CustomerId] = [a].[Id]
INNER JOIN [Books] AS [b0] ON [b].[BookId] = [b0].[Id] 
2025-09-18 15:33:57.8460|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (129ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[CustomerId], [b].[Price], [b].[Quantity], [b].[RentEndDate], [b].[RentStartDate], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateCreated], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [b0].[Id], [b0].[CreatedAt], [b0].[Description], [b0].[LastModifiedAt], [b0].[LastModifiedBy], [b0].[Price], [b0].[PublisherId], [b0].[Quantity], [b0].[Title]
FROM [BookRentals] AS [b]
INNER JOIN [AspNetUsers] AS [a] ON [b].[CustomerId] = [a].[Id]
INNER JOIN [Books] AS [b0] ON [b].[BookId] = [b0].[Id] 
2025-09-18 15:33:57.9252|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:33:58.0058|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:33:58.0058|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:33:58.0743|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Book' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:33:58.0743|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:33:58.1175|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:33:58.1175|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Book' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:33:58.1175|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:33:58.1175|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:33:58.1175|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:33:58.1175|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:33:58.1175|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Book' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:33:58.1175|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:33:58.1175|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:33:58.1175|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:33:58.1175|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:33:58.1175|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:33:58.1175|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:33:58.1175|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:33:58.1175|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:33:58.1175|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:33:58.1175|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:33:58.1175|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:33:58.1304|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:33:58.1304|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'LibraryDb' on server 'LAPTOP-4LPUPLC4' is being disposed after spending 285ms reading results. 
2025-09-18 15:33:58.1304|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:33:58.1526|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4' (9ms). 
2025-09-18 15:33:58.1526|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<ReturnedRental>()' 
2025-09-18 15:33:58.1605|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<ReturnedRental>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ReturnedRental.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ReturnedRental.BookId (Guid) Required, 1], [Property: ReturnedRental.BookTitle (string) Required, 2], [Property: ReturnedRental.CustomerId (string) Required, 3], [Property: ReturnedRental.CustomerName (string) Required, 4], [Property: ReturnedRental.Price (double) Required, 5], [Property: ReturnedRental.Quantity (int) Required, 6], [Property: ReturnedRental.RentedAt (DateTime) Required, 7], [Property: ReturnedRental.ReturnedAt (DateTime) Required, 8] }
        SELECT r.Id, r.BookId, r.BookTitle, r.CustomerId, r.CustomerName, r.Price, r.Quantity, r.RentedAt, r.ReturnedAt
        FROM ReturnedRentals AS r) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ReturnedRental.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ReturnedRental.BookId (Guid) Required, 1], [Property: ReturnedRental.BookTitle (string) Required, 2], [Property: ReturnedRental.CustomerId (string) Required, 3], [Property: ReturnedRental.CustomerName (string) Required, 4], [Property: ReturnedRental.Price (double) Required, 5], [Property: ReturnedRental.Quantity (int) Required, 6], [Property: ReturnedRental.RentedAt (DateTime) Required, 7], [Property: ReturnedRental.ReturnedAt (DateTime) Required, 8] }
        SELECT r.Id, r.BookId, r.BookTitle, r.CustomerId, r.CustomerName, r.Price, r.Quantity, r.RentedAt, r.ReturnedAt
        FROM ReturnedRentals AS r, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        ReturnedRental entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            ReturnedRental instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(ReturnedRental);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: ReturnedRental.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Entities.ReturnedRental").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (ReturnedRental)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: ReturnedRental | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Entities.ReturnedRental")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: ReturnedRental | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Entities.ReturnedRental")]: 
                        {
                            return 
                            {
                                ReturnedRental instance;
                                instance = new ReturnedRental();
                                instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                instance.<BookId>k__BackingField = dataReader.GetGuid(1);
                                instance.<BookTitle>k__BackingField = dataReader.GetString(2);
                                instance.<CustomerId>k__BackingField = dataReader.GetString(3);
                                instance.<CustomerName>k__BackingField = dataReader.GetString(4);
                                instance.<Price>k__BackingField = dataReader.GetDouble(5);
                                instance.<Quantity>k__BackingField = dataReader.GetInt32(6);
                                instance.<RentedAt>k__BackingField = dataReader.GetDateTime(7);
                                instance.<ReturnedAt>k__BackingField = dataReader.GetDateTime(8);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: ReturnedRental | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Entities.ReturnedRental")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(ReturnedRental)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: LibraryManagmentSystem.Data.LibraryContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)' 
2025-09-18 15:33:58.1605|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:33:58.2034|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:33:58.2034|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2025-09-18 15:33:58.2034|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2025-09-18 15:33:58.2034|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2025-09-18 15:33:58.2034|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[BookId], [r].[BookTitle], [r].[CustomerId], [r].[CustomerName], [r].[Price], [r].[Quantity], [r].[RentedAt], [r].[ReturnedAt]
FROM [ReturnedRentals] AS [r] 
2025-09-18 15:33:58.2303|20102|ERROR|Microsoft.EntityFrameworkCore.Database.Command|Failed executing DbCommand (24ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[BookId], [r].[BookTitle], [r].[CustomerId], [r].[CustomerName], [r].[Price], [r].[Quantity], [r].[RentedAt], [r].[ReturnedAt]
FROM [ReturnedRentals] AS [r] 
2025-09-18 15:33:58.2303|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:33:58.2379|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4' (0ms). 
2025-09-18 15:33:58.2379|10100|ERROR|Microsoft.EntityFrameworkCore.Query|An exception occurred while iterating over the results of a query for context type 'LibraryManagmentSystem.Data.LibraryContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'ReturnedRentals'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:71a282ad-88d9-4ae8-ab7a-f14fa080c5cd
Error Number:208,State:1,Class:16 Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'ReturnedRentals'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:71a282ad-88d9-4ae8-ab7a-f14fa080c5cd
Error Number:208,State:1,Class:16
2025-09-18 15:34:59.0011|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 15:34:59.0011|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 15:34:59.0011|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 15:34:59.0011|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 15:34:59.0147|105|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action LibraryManagementSystem.API.Controllers.ReportsController.ExportRentals (LibraryManagementSystem.API) in 64340.3065ms 
2025-09-18 15:34:59.0147|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'LibraryManagementSystem.API.Controllers.ReportsController.ExportRentals (LibraryManagementSystem.API)' 
2025-09-18 15:34:59.0325|0|ERROR|LibraryManagementSystem.API.Exceptions.GlobalExceptionHandlerMiddleWare|_ WHAT HAVE YOU DONE!!! Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'ReturnedRentals'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at LibraryManagementSystem.Data.Data.Repositories.LibraryGenericRepo`1.GetAll() in C:\Users\Remah\Desktop\AST\Projects\LibraryManagementSystem\LibraryManagementSystem.Data\Repositories\LibraryGenericRepo.cs:line 33
   at LibraryManagementSystem.API.Services.ReturnedRentalService.GetAllReturnedRentals() in C:\Users\Remah\Desktop\AST\Projects\LibraryManagementSystem\LibraryManagementSystem\Services\ReturnedRentalService.cs:line 30
ClientConnectionId:71a282ad-88d9-4ae8-ab7a-f14fa080c5cd
Error Number:208,State:1,Class:16
2025-09-18 15:34:59.0871|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMLUGJTRGI" sending HEADERS frame for stream ID 1 with length 59 and flags END_HEADERS. 
2025-09-18 15:34:59.0871|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMLUGJTRGI" sending DATA frame for stream ID 1 with length 122 and flags END_STREAM. 
2025-09-18 15:34:59.0871|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'LibraryContext' disposed. 
2025-09-18 15:34:59.0871|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMLUGJTRGI" received WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2025-09-18 15:34:59.0871|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:34:59.0871|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2025-09-18 15:34:59.0871|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7143/api/Reports/export-rentals - 500 - application/json 64723.2834ms 
2025-09-18 15:37:02.7660|0|DEBUG|LibraryManagementSystem.API.Program|init main 
2025-09-18 15:37:03.1479|0|INFO|LibraryManagementSystem.API.Program|✅ Test log: Application started 
2025-09-18 15:37:51.3501|0|DEBUG|LibraryManagementSystem.API.Program|init main 
2025-09-18 15:37:51.7748|0|INFO|LibraryManagementSystem.API.Program|✅ Test log: Application started 
2025-09-18 15:37:52.3267|12|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider 
2025-09-18 15:37:52.4152|1|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting starting 
2025-09-18 15:37:52.4559|63|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\Remah\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
2025-09-18 15:37:52.4559|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\Remah\AppData\Local\ASP.NET\DataProtection-Keys\key-0eadaaaa-7e78-4b9a-b5c6-d6842d7acf5d.xml'. 
2025-09-18 15:37:52.4559|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\Remah\AppData\Local\ASP.NET\DataProtection-Keys\key-90e9434f-347d-4778-9235-65398a291d04.xml'. 
2025-09-18 15:37:52.4749|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {0eadaaaa-7e78-4b9a-b5c6-d6842d7acf5d}. 
2025-09-18 15:37:52.4749|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {90e9434f-347d-4778-9235-65398a291d04}. 
2025-09-18 15:37:52.4749|13|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver|Considering key {0eadaaaa-7e78-4b9a-b5c6-d6842d7acf5d} with expiration date 2025-10-28 11:37:33Z as default key. 
2025-09-18 15:37:52.4896|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2025-09-18 15:37:52.4896|51|DEBUG|Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor|Decrypting secret element using Windows DPAPI. 
2025-09-18 15:37:52.4896|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2025-09-18 15:37:52.4896|4|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC. 
2025-09-18 15:37:52.4896|3|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC. 
2025-09-18 15:37:52.4896|2|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider|Using key {0eadaaaa-7e78-4b9a-b5c6-d6842d7acf5d} as the default key. 
2025-09-18 15:37:52.4896|65|DEBUG|Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService|Key ring with default key {0eadaaaa-7e78-4b9a-b5c6-d6842d7acf5d} was loaded during application startup. 
2025-09-18 15:37:52.5035|0|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BlazorWasmHotReloadMiddleware|Middleware loaded 
2025-09-18 15:37:52.5035|0|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserScriptMiddleware|Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16539 B). 
2025-09-18 15:37:52.5035|0|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserScriptMiddleware|Middleware loaded. Script /_framework/blazor-hotreload.js (799 B). 
2025-09-18 15:37:52.5686|7|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True} 
2025-09-18 15:37:52.5686|0|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Wildcard detected, all requests with hosts will be allowed. 
2025-09-18 15:37:52.5686|0|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware|Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true 
2025-09-18 15:37:52.7028|14|INFO|Microsoft.Hosting.Lifetime|Now listening on: https://localhost:7143 
2025-09-18 15:37:52.7104|14|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5223 
2025-09-18 15:37:52.7104|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly LibraryManagementSystem.API 
2025-09-18 15:37:52.7104|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery 
2025-09-18 15:37:52.7104|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh 
2025-09-18 15:37:52.7104|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net 
2025-09-18 15:37:52.7104|2|DEBUG|Microsoft.AspNetCore.Mvc.ApiExplorer.ApiDescriptionGroupCollectionProvider|Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0. 
2025-09-18 15:37:52.7104|2|DEBUG|Microsoft.AspNetCore.Mvc.ApiExplorer.ApiDescriptionGroupCollectionProvider|Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0. 
2025-09-18 15:37:52.7540|0|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down. 
2025-09-18 15:37:52.7540|0|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development 
2025-09-18 15:37:52.7540|0|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\Remah\Desktop\AST\Projects\LibraryManagementSystem\LibraryManagementSystem 
2025-09-18 15:37:52.7540|2|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting started 
2025-09-18 15:38:00.1089|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMM0PTK56U" accepted. 
2025-09-18 15:38:00.1089|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMM0PTK56U" started. 
2025-09-18 15:38:00.1517|3|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Connection 0HNFMM0PTK56U established using the following protocol: Tls13 
2025-09-18 15:38:00.1687|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM0PTK56U" sending SETTINGS frame for stream ID 0 with length 24 and flags NONE. 
2025-09-18 15:38:00.1687|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM0PTK56U" sending WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2025-09-18 15:38:00.1687|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM0PTK56U" received SETTINGS frame for stream ID 0 with length 24 and flags NONE. 
2025-09-18 15:38:00.1687|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM0PTK56U" sending SETTINGS frame for stream ID 0 with length 0 and flags ACK. 
2025-09-18 15:38:00.1687|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM0PTK56U" received WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2025-09-18 15:38:00.1687|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM0PTK56U" received HEADERS frame for stream ID 1 with length 401 and flags END_STREAM, END_HEADERS, PRIORITY. 
2025-09-18 15:38:00.1918|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM0PTK56U" received SETTINGS frame for stream ID 0 with length 0 and flags ACK. 
2025-09-18 15:38:00.1918|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7143/api/Reports/export-rentals - - - 
2025-09-18 15:38:00.2138|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 15:38:00.2638|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/Reports/export-rentals' 
2025-09-18 15:38:00.2638|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'LibraryManagementSystem.API.Controllers.ReportsController.ExportRentals (LibraryManagementSystem.API)' with route pattern 'api/Reports/export-rentals' is valid for the request path '/api/Reports/export-rentals' 
2025-09-18 15:38:00.2638|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'LibraryManagementSystem.API.Controllers.ReportsController.ExportRentals (LibraryManagementSystem.API)' 
2025-09-18 15:38:00.2638|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 15:38:00.3543|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2025-09-18 15:38:00.3543|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'LibraryManagementSystem.API.Controllers.ReportsController.ExportRentals (LibraryManagementSystem.API)' 
2025-09-18 15:38:00.3772|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "ExportRentals", controller = "Reports"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ExportRentals(LibraryManagementSystem.API.Services.ExcelExportService) on controller LibraryManagementSystem.API.Controllers.ReportsController (LibraryManagementSystem.API). 
2025-09-18 15:38:00.3784|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2025-09-18 15:38:00.3784|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2025-09-18 15:38:00.3784|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2025-09-18 15:38:00.3784|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2025-09-18 15:38:00.3784|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2025-09-18 15:38:00.3784|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller LibraryManagementSystem.API.Controllers.ReportsController (LibraryManagementSystem.API) 
2025-09-18 15:38:00.4757|10401|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|An 'IServiceProvider' was created for internal use by Entity Framework. 
2025-09-18 15:38:00.5027|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller LibraryManagementSystem.API.Controllers.ReportsController (LibraryManagementSystem.API) 
2025-09-18 15:38:00.5124|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'excelExportService' of type 'LibraryManagementSystem.API.Services.ExcelExportService' ... 
2025-09-18 15:38:00.5124|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'excelExportService' of type 'LibraryManagementSystem.API.Services.ExcelExportService'. 
2025-09-18 15:38:00.5124|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'excelExportService' of type 'LibraryManagementSystem.API.Services.ExcelExportService' ... 
2025-09-18 15:38:00.5124|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'excelExportService' of type 'LibraryManagementSystem.API.Services.ExcelExportService'. 
2025-09-18 15:38:00.5124|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 15:38:00.5124|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 15:38:00.5124|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 15:38:00.5124|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 15:38:00.5204|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method LibraryManagementSystem.API.Controllers.ReportsController.ExportRentals (LibraryManagementSystem.API) - Validation state: Valid 
2025-09-18 15:38:00.5204|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method LibraryManagementSystem.API.Controllers.ReportsController.ExportRentals (LibraryManagementSystem.API) with arguments (LibraryManagementSystem.API.Services.ExcelExportService) 
2025-09-18 15:38:00.9895|10601|DEBUG|Microsoft.EntityFrameworkCore.Model|The index {'BookId'} was not created on entity type 'BookCategory' as the properties are already covered by the index {'BookId', 'CategoryId'}. 
2025-09-18 15:38:00.9895|10601|DEBUG|Microsoft.EntityFrameworkCore.Model|The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}. 
2025-09-18 15:38:00.9895|10601|DEBUG|Microsoft.EntityFrameworkCore.Model|The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}. 
2025-09-18 15:38:01.1556|30000|WARN|Microsoft.EntityFrameworkCore.Model.Validation|No store type was specified for the decimal property 'Price' on entity type 'Book'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'. 
2025-09-18 15:38:01.2315|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 9.0.8 initialized 'LibraryContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.8' with options: EngineType=SqlServer  
2025-09-18 15:38:01.2872|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<BookRentals>()
    .Include(r => r.Customer)
    .Include(r => r.Book)' 
2025-09-18 15:38:01.3646|10112|DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'BookRentals.Customer'. 
2025-09-18 15:38:01.3646|10112|DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'BookRentals.Book'. 
2025-09-18 15:38:01.6250|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<BookRentals>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: BookRentals.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: BookRentals.BookId (Guid) Required FK Index, 1], [Property: BookRentals.CustomerId (string) Required FK Index, 2], [Property: BookRentals.Price (double) Required, 3], [Property: BookRentals.Quantity (int) Required, 4], [Property: BookRentals.RentEndDate (DateTime) Required, 5], [Property: BookRentals.RentStartDate (DateTime) Required, 6] }
            1 -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 7], [Property: User.AccessFailedCount (int) Required, 8], [Property: User.ConcurrencyStamp (string) Concurrency, 9], [Property: User.DateCreated (DateTime) Required, 10], [Property: User.Email (string) MaxLength(256), 11], [Property: User.EmailConfirmed (bool) Required, 12], [Property: User.FirstName (string) Required, 13], [Property: User.LastName (string) Required, 14], [Property: User.LockoutEnabled (bool) Required, 15], [Property: User.LockoutEnd (DateTimeOffset?), 16], [Property: User.NormalizedEmail (string) Index MaxLength(256), 17], [Property: User.NormalizedUserName (string) Index MaxLength(256), 18], [Property: User.PasswordHash (string), 19], [Property: User.PhoneNumber (string), 20], [Property: User.PhoneNumberConfirmed (bool) Required, 21], [Property: User.SecurityStamp (string), 22], [Property: User.TwoFactorEnabled (bool) Required, 23], [Property: User.UserName (string) MaxLength(256), 24] }
            2 -> Dictionary<IProperty, int> { [Property: Book.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 25], [Property: Book.CreatedAt (DateTime) Required, 26], [Property: Book.Description (string), 27], [Property: Book.LastModifiedAt (DateTime?), 28], [Property: Book.LastModifiedBy (DateTime?), 29], [Property: Book.Price (decimal?), 30], [Property: Book.PublisherId (Guid?) FK Index, 31], [Property: Book.Quantity (int) Required, 32], [Property: Book.Title (string), 33] }
        SELECT b.Id, b.BookId, b.CustomerId, b.Price, b.Quantity, b.RentEndDate, b.RentStartDate, a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.DateCreated, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, b0.Id, b0.CreatedAt, b0.Description, b0.LastModifiedAt, b0.LastModifiedBy, b0.Price, b0.PublisherId, b0.Quantity, b0.Title
        FROM BookRentals AS b
        INNER JOIN AspNetUsers AS a ON b.CustomerId == a.Id
        INNER JOIN Books AS b0 ON b.BookId == b0.Id) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: BookRentals.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: BookRentals.BookId (Guid) Required FK Index, 1], [Property: BookRentals.CustomerId (string) Required FK Index, 2], [Property: BookRentals.Price (double) Required, 3], [Property: BookRentals.Quantity (int) Required, 4], [Property: BookRentals.RentEndDate (DateTime) Required, 5], [Property: BookRentals.RentStartDate (DateTime) Required, 6] }
            1 -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 7], [Property: User.AccessFailedCount (int) Required, 8], [Property: User.ConcurrencyStamp (string) Concurrency, 9], [Property: User.DateCreated (DateTime) Required, 10], [Property: User.Email (string) MaxLength(256), 11], [Property: User.EmailConfirmed (bool) Required, 12], [Property: User.FirstName (string) Required, 13], [Property: User.LastName (string) Required, 14], [Property: User.LockoutEnabled (bool) Required, 15], [Property: User.LockoutEnd (DateTimeOffset?), 16], [Property: User.NormalizedEmail (string) Index MaxLength(256), 17], [Property: User.NormalizedUserName (string) Index MaxLength(256), 18], [Property: User.PasswordHash (string), 19], [Property: User.PhoneNumber (string), 20], [Property: User.PhoneNumberConfirmed (bool) Required, 21], [Property: User.SecurityStamp (string), 22], [Property: User.TwoFactorEnabled (bool) Required, 23], [Property: User.UserName (string) MaxLength(256), 24] }
            2 -> Dictionary<IProperty, int> { [Property: Book.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 25], [Property: Book.CreatedAt (DateTime) Required, 26], [Property: Book.Description (string), 27], [Property: Book.LastModifiedAt (DateTime?), 28], [Property: Book.LastModifiedBy (DateTime?), 29], [Property: Book.Price (decimal?), 30], [Property: Book.PublisherId (Guid?) FK Index, 31], [Property: Book.Quantity (int) Required, 32], [Property: Book.Title (string), 33] }
        SELECT b.Id, b.BookId, b.CustomerId, b.Price, b.Quantity, b.RentEndDate, b.RentStartDate, a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.DateCreated, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, b0.Id, b0.CreatedAt, b0.Description, b0.LastModifiedAt, b0.LastModifiedBy, b0.Price, b0.PublisherId, b0.Quantity, b0.Title
        FROM BookRentals AS b
        INNER JOIN AspNetUsers AS a ON b.CustomerId == a.Id
        INNER JOIN Books AS b0 ON b.BookId == b0.Id, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        BookRentals entity;
        User entity;
        Book entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            BookRentals instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(BookRentals);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: BookRentals.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Entities.BookRentals").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (BookRentals)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: BookRentals | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Entities.BookRentals")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: BookRentals | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Entities.BookRentals")]: 
                        {
                            return 
                            {
                                BookRentals instance;
                                instance = new BookRentals();
                                instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                instance.<BookId>k__BackingField = dataReader.GetGuid(1);
                                instance.<CustomerId>k__BackingField = dataReader.GetString(2);
                                instance.<Price>k__BackingField = dataReader.GetDouble(3);
                                instance.<Quantity>k__BackingField = dataReader.GetInt32(4);
                                instance.<RentEndDate>k__BackingField = dataReader.GetDateTime(5);
                                instance.<RentStartDate>k__BackingField = dataReader.GetDateTime(6);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: BookRentals | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Entities.BookRentals")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(BookRentals)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        entity = 
        {
            MaterializationContext materializationContext2;
            IEntityType entityType2;
            User instance2;
            InternalEntityEntry entry2;
            bool hasNullKey2;
            materializationContext2 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance2 = default(User);
            entry2 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Identity.User").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetString(7) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey2);
            !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
            {
                entityType2 = entry2.EntityType;
                return instance2 = (User)entry2.Entity;
            } : 
            {
                ISnapshot shadowSnapshot2;
                shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType2 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Identity.User")];
                instance2 = switch (entityType2)
                {
                    case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Identity.User")]: 
                        {
                            return 
                            {
                                User instance;
                                instance = new User();
                                instance.<Id>k__BackingField = dataReader.GetString(7);
                                instance.<AccessFailedCount>k__BackingField = dataReader.GetInt32(8);
                                instance.<ConcurrencyStamp>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                instance.<DateCreated>k__BackingField = dataReader.GetDateTime(10);
                                instance.<Email>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                instance.<EmailConfirmed>k__BackingField = dataReader.GetBoolean(12);
                                instance.<FirstName>k__BackingField = dataReader.GetString(13);
                                instance.<LastName>k__BackingField = dataReader.GetString(14);
                                instance.<LockoutEnabled>k__BackingField = dataReader.GetBoolean(15);
                                instance.<LockoutEnd>k__BackingField = dataReader.IsDBNull(16) ? default(DateTimeOffset?) : (DateTimeOffset?)dataReader.GetFieldValue<DateTimeOffset>(16);
                                instance.<NormalizedEmail>k__BackingField = dataReader.IsDBNull(17) ? default(string) : dataReader.GetString(17);
                                instance.<NormalizedUserName>k__BackingField = dataReader.IsDBNull(18) ? default(string) : dataReader.GetString(18);
                                instance.<PasswordHash>k__BackingField = dataReader.IsDBNull(19) ? default(string) : dataReader.GetString(19);
                                instance.<PhoneNumber>k__BackingField = dataReader.IsDBNull(20) ? default(string) : dataReader.GetString(20);
                                instance.<PhoneNumberConfirmed>k__BackingField = dataReader.GetBoolean(21);
                                instance.<SecurityStamp>k__BackingField = dataReader.IsDBNull(22) ? default(string) : dataReader.GetString(22);
                                instance.<TwoFactorEnabled>k__BackingField = dataReader.GetBoolean(23);
                                instance.<UserName>k__BackingField = dataReader.IsDBNull(24) ? default(string) : dataReader.GetString(24);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext2.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Identity.User")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(User)
                }
                ;
                entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType2, 
                    entity: instance2, 
                    snapshot: shadowSnapshot2);
                return instance2;
            } : default(void);
            return instance2;
        };
        entity = 
        {
            MaterializationContext materializationContext3;
            IEntityType entityType3;
            Book instance3;
            InternalEntityEntry entry3;
            bool hasNullKey3;
            materializationContext3 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance3 = default(Book);
            entry3 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Book.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("LibraryManagmentSystem.Entities.Book").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(25) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey3);
            !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
            {
                entityType3 = entry3.EntityType;
                return instance3 = (Book)entry3.Entity;
            } : 
            {
                ISnapshot shadowSnapshot3;
                shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType3 = [LIFTABLE Constant: EntityType: Book | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("LibraryManagmentSystem.Entities.Book")];
                instance3 = switch (entityType3)
                {
                    case [LIFTABLE Constant: EntityType: Book | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("LibraryManagmentSystem.Entities.Book")]: 
                        {
                            return 
                            {
                                Book instance;
                                instance = new Book();
                                instance.<Id>k__BackingField = dataReader.GetGuid(25);
                                instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(26);
                                instance.<Description>k__BackingField = dataReader.IsDBNull(27) ? default(string) : dataReader.GetString(27);
                                instance.<LastModifiedAt>k__BackingField = dataReader.IsDBNull(28) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(28);
                                instance.<LastModifiedBy>k__BackingField = dataReader.IsDBNull(29) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(29);
                                instance.<Price>k__BackingField = dataReader.IsDBNull(30) ? default(decimal?) : (decimal?)dataReader.GetDecimal(30);
                                instance.<PublisherId>k__BackingField = dataReader.IsDBNull(31) ? default(Guid?) : (Guid?)dataReader.GetGuid(31);
                                instance.<Quantity>k__BackingField = dataReader.GetInt32(32);
                                instance.<Title>k__BackingField = dataReader.IsDBNull(33) ? default(string) : dataReader.GetString(33);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext3.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Book | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("LibraryManagmentSystem.Entities.Book")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Book)
                }
                ;
                entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType3, 
                    entity: instance3, 
                    snapshot: shadowSnapshot3);
                return instance3;
            } : default(void);
            return instance3;
        };
        ShaperProcessingExpressionVisitor.IncludeReference<BookRentals, BookRentals, User>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: BookRentals.Customer (User) ToPrincipal User Inverse: BookRentals | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Entities.BookRentals").FindNavigation("Customer")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: User.BookRentals (ICollection<BookRentals>) Collection ToDependent BookRentals Inverse: Customer | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Identity.User").FindNavigation("BookRentals")], 
            fixup: (namelessParameter{11}, namelessParameter{12}) => 
            {
                namelessParameter{11}.<Customer>k__BackingField = namelessParameter{12};
                return [LIFTABLE Constant: ClrICollectionAccessor<User, ICollection<BookRentals>, BookRentals> | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Identity.User").FindNavigation("BookRentals").GetCollectionAccessor()].Add(
                    entity: namelessParameter{12}, 
                    value: namelessParameter{11}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<BookRentals, BookRentals, Book>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: BookRentals.Book (Book) ToPrincipal Book Inverse: BookRentals | Resolver: namelessParameter{14} => namelessParameter{14}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Entities.BookRentals").FindNavigation("Book")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Book.BookRentals (ICollection<BookRentals>) Collection ToDependent BookRentals Inverse: Book | Resolver: namelessParameter{15} => namelessParameter{15}.Dependencies.Model.FindEntityType("LibraryManagmentSystem.Entities.Book").FindNavigation("BookRentals")], 
            fixup: (namelessParameter{16}, namelessParameter{17}) => 
            {
                namelessParameter{16}.<Book>k__BackingField = namelessParameter{17};
                return [LIFTABLE Constant: ClrICollectionAccessor<Book, ICollection<BookRentals>, BookRentals> | Resolver: namelessParameter{18} => namelessParameter{18}.Dependencies.Model.FindEntityType("LibraryManagmentSystem.Entities.Book").FindNavigation("BookRentals").GetCollectionAccessor()].Add(
                    entity: namelessParameter{17}, 
                    value: namelessParameter{16}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        return entity;
    }, 
    contextType: LibraryManagmentSystem.Data.LibraryContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)' 
2025-09-18 15:38:01.6617|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2025-09-18 15:38:01.7033|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (32ms). 
2025-09-18 15:38:01.7082|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:38:02.0025|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:38:02.0025|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2025-09-18 15:38:02.0025|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (5ms). 
2025-09-18 15:38:02.0192|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (12ms). 
2025-09-18 15:38:02.0192|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[CustomerId], [b].[Price], [b].[Quantity], [b].[RentEndDate], [b].[RentStartDate], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateCreated], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [b0].[Id], [b0].[CreatedAt], [b0].[Description], [b0].[LastModifiedAt], [b0].[LastModifiedBy], [b0].[Price], [b0].[PublisherId], [b0].[Quantity], [b0].[Title]
FROM [BookRentals] AS [b]
INNER JOIN [AspNetUsers] AS [a] ON [b].[CustomerId] = [a].[Id]
INNER JOIN [Books] AS [b0] ON [b].[BookId] = [b0].[Id] 
2025-09-18 15:38:02.0949|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (67ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[CustomerId], [b].[Price], [b].[Quantity], [b].[RentEndDate], [b].[RentStartDate], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateCreated], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [b0].[Id], [b0].[CreatedAt], [b0].[Description], [b0].[LastModifiedAt], [b0].[LastModifiedBy], [b0].[Price], [b0].[PublisherId], [b0].[Quantity], [b0].[Title]
FROM [BookRentals] AS [b]
INNER JOIN [AspNetUsers] AS [a] ON [b].[CustomerId] = [a].[Id]
INNER JOIN [Books] AS [b0] ON [b].[BookId] = [b0].[Id] 
2025-09-18 15:38:02.1322|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:38:02.1747|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:38:02.1808|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:38:02.2198|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Book' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:38:02.2245|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:38:02.2443|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:38:02.2443|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Book' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:38:02.2443|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:38:02.2443|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:38:02.2443|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:38:02.2443|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:38:02.2443|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Book' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:38:02.2443|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:38:02.2443|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:38:02.2443|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:38:02.2443|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:38:02.2443|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:38:02.2443|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:38:02.2443|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:38:02.2443|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:38:02.2443|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:38:02.2443|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:38:02.2443|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:38:02.2536|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:38:02.2536|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'LibraryDb' on server 'LAPTOP-4LPUPLC4' is being disposed after spending 159ms reading results. 
2025-09-18 15:38:02.2536|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:38:02.2729|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4' (7ms). 
2025-09-18 15:38:02.2729|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<ReturnedRental>()
    .Include(r => r.BookTitle)
    .Include(r => r.CustomerName)' 
2025-09-18 15:41:53.3520|0|DEBUG|LibraryManagementSystem.API.Program|init main 
2025-09-18 15:41:53.5925|0|INFO|LibraryManagementSystem.API.Program|✅ Test log: Application started 
2025-09-18 15:41:54.1143|12|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider 
2025-09-18 15:41:54.1754|1|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting starting 
2025-09-18 15:41:54.2140|63|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\Remah\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
2025-09-18 15:41:54.2271|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\Remah\AppData\Local\ASP.NET\DataProtection-Keys\key-0eadaaaa-7e78-4b9a-b5c6-d6842d7acf5d.xml'. 
2025-09-18 15:41:54.2271|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\Remah\AppData\Local\ASP.NET\DataProtection-Keys\key-90e9434f-347d-4778-9235-65398a291d04.xml'. 
2025-09-18 15:41:54.2411|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {0eadaaaa-7e78-4b9a-b5c6-d6842d7acf5d}. 
2025-09-18 15:41:54.2411|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {90e9434f-347d-4778-9235-65398a291d04}. 
2025-09-18 15:41:54.2654|13|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver|Considering key {0eadaaaa-7e78-4b9a-b5c6-d6842d7acf5d} with expiration date 2025-10-28 11:37:33Z as default key. 
2025-09-18 15:41:54.2710|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2025-09-18 15:41:54.2710|51|DEBUG|Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor|Decrypting secret element using Windows DPAPI. 
2025-09-18 15:41:54.2710|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2025-09-18 15:41:54.2710|4|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC. 
2025-09-18 15:41:54.2710|3|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC. 
2025-09-18 15:41:54.2710|2|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider|Using key {0eadaaaa-7e78-4b9a-b5c6-d6842d7acf5d} as the default key. 
2025-09-18 15:41:54.2710|65|DEBUG|Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService|Key ring with default key {0eadaaaa-7e78-4b9a-b5c6-d6842d7acf5d} was loaded during application startup. 
2025-09-18 15:41:54.2915|0|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BlazorWasmHotReloadMiddleware|Middleware loaded 
2025-09-18 15:41:54.2915|0|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserScriptMiddleware|Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16539 B). 
2025-09-18 15:41:54.2915|0|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserScriptMiddleware|Middleware loaded. Script /_framework/blazor-hotreload.js (799 B). 
2025-09-18 15:41:54.3818|7|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True} 
2025-09-18 15:41:54.3818|0|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Wildcard detected, all requests with hosts will be allowed. 
2025-09-18 15:41:54.3974|0|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware|Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true 
2025-09-18 15:41:54.5381|14|INFO|Microsoft.Hosting.Lifetime|Now listening on: https://localhost:7143 
2025-09-18 15:41:54.5381|14|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5223 
2025-09-18 15:41:54.5381|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly LibraryManagementSystem.API 
2025-09-18 15:41:54.5381|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery 
2025-09-18 15:41:54.5381|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh 
2025-09-18 15:41:54.5381|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net 
2025-09-18 15:41:54.5381|2|DEBUG|Microsoft.AspNetCore.Mvc.ApiExplorer.ApiDescriptionGroupCollectionProvider|Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0. 
2025-09-18 15:41:54.5381|2|DEBUG|Microsoft.AspNetCore.Mvc.ApiExplorer.ApiDescriptionGroupCollectionProvider|Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0. 
2025-09-18 15:41:54.5860|0|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down. 
2025-09-18 15:41:54.5860|0|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development 
2025-09-18 15:41:54.5860|0|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\Remah\Desktop\AST\Projects\LibraryManagementSystem\LibraryManagementSystem 
2025-09-18 15:41:54.5860|2|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting started 
2025-09-18 15:42:02.8815|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMM328SG94" accepted. 
2025-09-18 15:42:02.8815|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMM328SG94" started. 
2025-09-18 15:42:02.9343|3|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Connection 0HNFMM328SG94 established using the following protocol: Tls13 
2025-09-18 15:42:02.9513|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM328SG94" sending SETTINGS frame for stream ID 0 with length 24 and flags NONE. 
2025-09-18 15:42:02.9554|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM328SG94" sending WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2025-09-18 15:42:02.9554|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM328SG94" received SETTINGS frame for stream ID 0 with length 24 and flags NONE. 
2025-09-18 15:42:02.9554|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM328SG94" sending SETTINGS frame for stream ID 0 with length 0 and flags ACK. 
2025-09-18 15:42:02.9554|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM328SG94" received WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2025-09-18 15:42:02.9554|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM328SG94" received HEADERS frame for stream ID 1 with length 401 and flags END_STREAM, END_HEADERS, PRIORITY. 
2025-09-18 15:42:02.9554|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM328SG94" received SETTINGS frame for stream ID 0 with length 0 and flags ACK. 
2025-09-18 15:42:02.9927|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7143/api/Reports/export-rentals - - - 
2025-09-18 15:42:03.0030|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 15:42:03.0385|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/Reports/export-rentals' 
2025-09-18 15:42:03.0385|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'LibraryManagementSystem.API.Controllers.ReportsController.ExportRentals (LibraryManagementSystem.API)' with route pattern 'api/Reports/export-rentals' is valid for the request path '/api/Reports/export-rentals' 
2025-09-18 15:42:03.0385|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'LibraryManagementSystem.API.Controllers.ReportsController.ExportRentals (LibraryManagementSystem.API)' 
2025-09-18 15:42:03.0385|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 15:42:03.1041|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2025-09-18 15:42:03.1041|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'LibraryManagementSystem.API.Controllers.ReportsController.ExportRentals (LibraryManagementSystem.API)' 
2025-09-18 15:42:03.1299|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "ExportRentals", controller = "Reports"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ExportRentals(LibraryManagementSystem.API.Services.ExcelExportService) on controller LibraryManagementSystem.API.Controllers.ReportsController (LibraryManagementSystem.API). 
2025-09-18 15:42:03.1299|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2025-09-18 15:42:03.1299|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2025-09-18 15:42:03.1299|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2025-09-18 15:42:03.1299|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2025-09-18 15:42:03.1299|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2025-09-18 15:42:03.1299|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller LibraryManagementSystem.API.Controllers.ReportsController (LibraryManagementSystem.API) 
2025-09-18 15:42:03.2681|10401|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|An 'IServiceProvider' was created for internal use by Entity Framework. 
2025-09-18 15:42:03.2957|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller LibraryManagementSystem.API.Controllers.ReportsController (LibraryManagementSystem.API) 
2025-09-18 15:42:03.3046|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'excelExportService' of type 'LibraryManagementSystem.API.Services.ExcelExportService' ... 
2025-09-18 15:42:03.3046|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'excelExportService' of type 'LibraryManagementSystem.API.Services.ExcelExportService'. 
2025-09-18 15:42:03.3046|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'excelExportService' of type 'LibraryManagementSystem.API.Services.ExcelExportService' ... 
2025-09-18 15:42:03.3046|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'excelExportService' of type 'LibraryManagementSystem.API.Services.ExcelExportService'. 
2025-09-18 15:42:03.3046|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 15:42:03.3046|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 15:42:03.3046|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 15:42:03.3046|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 15:42:03.3153|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method LibraryManagementSystem.API.Controllers.ReportsController.ExportRentals (LibraryManagementSystem.API) - Validation state: Valid 
2025-09-18 15:42:03.3153|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method LibraryManagementSystem.API.Controllers.ReportsController.ExportRentals (LibraryManagementSystem.API) with arguments (LibraryManagementSystem.API.Services.ExcelExportService) 
2025-09-18 15:42:03.6950|10601|DEBUG|Microsoft.EntityFrameworkCore.Model|The index {'BookId'} was not created on entity type 'BookCategory' as the properties are already covered by the index {'BookId', 'CategoryId'}. 
2025-09-18 15:42:03.6950|10601|DEBUG|Microsoft.EntityFrameworkCore.Model|The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}. 
2025-09-18 15:42:03.6950|10601|DEBUG|Microsoft.EntityFrameworkCore.Model|The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}. 
2025-09-18 15:42:03.8137|10600|DEBUG|Microsoft.EntityFrameworkCore.Model.Validation|The property 'ReturnedRental.CustoemrId' was created in shadow state because there are no eligible CLR members with a matching name. 
2025-09-18 15:42:03.8383|30000|WARN|Microsoft.EntityFrameworkCore.Model.Validation|No store type was specified for the decimal property 'Price' on entity type 'Book'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'. 
2025-09-18 15:42:03.9066|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 9.0.8 initialized 'LibraryContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.8' with options: EngineType=SqlServer  
2025-09-18 15:42:03.9707|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<BookRentals>()
    .Include(r => r.Customer)
    .Include(r => r.Book)' 
2025-09-18 15:42:04.0606|10112|DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'BookRentals.Customer'. 
2025-09-18 15:42:04.0606|10112|DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'BookRentals.Book'. 
2025-09-18 15:42:04.3139|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<BookRentals>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: BookRentals.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: BookRentals.BookId (Guid) Required FK Index, 1], [Property: BookRentals.CustomerId (string) Required FK Index, 2], [Property: BookRentals.Price (double) Required, 3], [Property: BookRentals.Quantity (int) Required, 4], [Property: BookRentals.RentEndDate (DateTime) Required, 5], [Property: BookRentals.RentStartDate (DateTime) Required, 6] }
            1 -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 7], [Property: User.AccessFailedCount (int) Required, 8], [Property: User.ConcurrencyStamp (string) Concurrency, 9], [Property: User.DateCreated (DateTime) Required, 10], [Property: User.Email (string) MaxLength(256), 11], [Property: User.EmailConfirmed (bool) Required, 12], [Property: User.FirstName (string) Required, 13], [Property: User.LastName (string) Required, 14], [Property: User.LockoutEnabled (bool) Required, 15], [Property: User.LockoutEnd (DateTimeOffset?), 16], [Property: User.NormalizedEmail (string) Index MaxLength(256), 17], [Property: User.NormalizedUserName (string) Index MaxLength(256), 18], [Property: User.PasswordHash (string), 19], [Property: User.PhoneNumber (string), 20], [Property: User.PhoneNumberConfirmed (bool) Required, 21], [Property: User.SecurityStamp (string), 22], [Property: User.TwoFactorEnabled (bool) Required, 23], [Property: User.UserName (string) MaxLength(256), 24] }
            2 -> Dictionary<IProperty, int> { [Property: Book.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 25], [Property: Book.CreatedAt (DateTime) Required, 26], [Property: Book.Description (string), 27], [Property: Book.LastModifiedAt (DateTime?), 28], [Property: Book.LastModifiedBy (DateTime?), 29], [Property: Book.Price (decimal?), 30], [Property: Book.PublisherId (Guid?) FK Index, 31], [Property: Book.Quantity (int) Required, 32], [Property: Book.Title (string), 33] }
        SELECT b.Id, b.BookId, b.CustomerId, b.Price, b.Quantity, b.RentEndDate, b.RentStartDate, a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.DateCreated, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, b0.Id, b0.CreatedAt, b0.Description, b0.LastModifiedAt, b0.LastModifiedBy, b0.Price, b0.PublisherId, b0.Quantity, b0.Title
        FROM BookRentals AS b
        INNER JOIN AspNetUsers AS a ON b.CustomerId == a.Id
        INNER JOIN Books AS b0 ON b.BookId == b0.Id) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: BookRentals.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: BookRentals.BookId (Guid) Required FK Index, 1], [Property: BookRentals.CustomerId (string) Required FK Index, 2], [Property: BookRentals.Price (double) Required, 3], [Property: BookRentals.Quantity (int) Required, 4], [Property: BookRentals.RentEndDate (DateTime) Required, 5], [Property: BookRentals.RentStartDate (DateTime) Required, 6] }
            1 -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 7], [Property: User.AccessFailedCount (int) Required, 8], [Property: User.ConcurrencyStamp (string) Concurrency, 9], [Property: User.DateCreated (DateTime) Required, 10], [Property: User.Email (string) MaxLength(256), 11], [Property: User.EmailConfirmed (bool) Required, 12], [Property: User.FirstName (string) Required, 13], [Property: User.LastName (string) Required, 14], [Property: User.LockoutEnabled (bool) Required, 15], [Property: User.LockoutEnd (DateTimeOffset?), 16], [Property: User.NormalizedEmail (string) Index MaxLength(256), 17], [Property: User.NormalizedUserName (string) Index MaxLength(256), 18], [Property: User.PasswordHash (string), 19], [Property: User.PhoneNumber (string), 20], [Property: User.PhoneNumberConfirmed (bool) Required, 21], [Property: User.SecurityStamp (string), 22], [Property: User.TwoFactorEnabled (bool) Required, 23], [Property: User.UserName (string) MaxLength(256), 24] }
            2 -> Dictionary<IProperty, int> { [Property: Book.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 25], [Property: Book.CreatedAt (DateTime) Required, 26], [Property: Book.Description (string), 27], [Property: Book.LastModifiedAt (DateTime?), 28], [Property: Book.LastModifiedBy (DateTime?), 29], [Property: Book.Price (decimal?), 30], [Property: Book.PublisherId (Guid?) FK Index, 31], [Property: Book.Quantity (int) Required, 32], [Property: Book.Title (string), 33] }
        SELECT b.Id, b.BookId, b.CustomerId, b.Price, b.Quantity, b.RentEndDate, b.RentStartDate, a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.DateCreated, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, b0.Id, b0.CreatedAt, b0.Description, b0.LastModifiedAt, b0.LastModifiedBy, b0.Price, b0.PublisherId, b0.Quantity, b0.Title
        FROM BookRentals AS b
        INNER JOIN AspNetUsers AS a ON b.CustomerId == a.Id
        INNER JOIN Books AS b0 ON b.BookId == b0.Id, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        BookRentals entity;
        User entity;
        Book entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            BookRentals instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(BookRentals);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: BookRentals.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Entities.BookRentals").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (BookRentals)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: BookRentals | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Entities.BookRentals")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: BookRentals | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Entities.BookRentals")]: 
                        {
                            return 
                            {
                                BookRentals instance;
                                instance = new BookRentals();
                                instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                instance.<BookId>k__BackingField = dataReader.GetGuid(1);
                                instance.<CustomerId>k__BackingField = dataReader.GetString(2);
                                instance.<Price>k__BackingField = dataReader.GetDouble(3);
                                instance.<Quantity>k__BackingField = dataReader.GetInt32(4);
                                instance.<RentEndDate>k__BackingField = dataReader.GetDateTime(5);
                                instance.<RentStartDate>k__BackingField = dataReader.GetDateTime(6);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: BookRentals | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Entities.BookRentals")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(BookRentals)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        entity = 
        {
            MaterializationContext materializationContext2;
            IEntityType entityType2;
            User instance2;
            InternalEntityEntry entry2;
            bool hasNullKey2;
            materializationContext2 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance2 = default(User);
            entry2 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Identity.User").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetString(7) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey2);
            !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
            {
                entityType2 = entry2.EntityType;
                return instance2 = (User)entry2.Entity;
            } : 
            {
                ISnapshot shadowSnapshot2;
                shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType2 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Identity.User")];
                instance2 = switch (entityType2)
                {
                    case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Identity.User")]: 
                        {
                            return 
                            {
                                User instance;
                                instance = new User();
                                instance.<Id>k__BackingField = dataReader.GetString(7);
                                instance.<AccessFailedCount>k__BackingField = dataReader.GetInt32(8);
                                instance.<ConcurrencyStamp>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                instance.<DateCreated>k__BackingField = dataReader.GetDateTime(10);
                                instance.<Email>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                instance.<EmailConfirmed>k__BackingField = dataReader.GetBoolean(12);
                                instance.<FirstName>k__BackingField = dataReader.GetString(13);
                                instance.<LastName>k__BackingField = dataReader.GetString(14);
                                instance.<LockoutEnabled>k__BackingField = dataReader.GetBoolean(15);
                                instance.<LockoutEnd>k__BackingField = dataReader.IsDBNull(16) ? default(DateTimeOffset?) : (DateTimeOffset?)dataReader.GetFieldValue<DateTimeOffset>(16);
                                instance.<NormalizedEmail>k__BackingField = dataReader.IsDBNull(17) ? default(string) : dataReader.GetString(17);
                                instance.<NormalizedUserName>k__BackingField = dataReader.IsDBNull(18) ? default(string) : dataReader.GetString(18);
                                instance.<PasswordHash>k__BackingField = dataReader.IsDBNull(19) ? default(string) : dataReader.GetString(19);
                                instance.<PhoneNumber>k__BackingField = dataReader.IsDBNull(20) ? default(string) : dataReader.GetString(20);
                                instance.<PhoneNumberConfirmed>k__BackingField = dataReader.GetBoolean(21);
                                instance.<SecurityStamp>k__BackingField = dataReader.IsDBNull(22) ? default(string) : dataReader.GetString(22);
                                instance.<TwoFactorEnabled>k__BackingField = dataReader.GetBoolean(23);
                                instance.<UserName>k__BackingField = dataReader.IsDBNull(24) ? default(string) : dataReader.GetString(24);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext2.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Identity.User")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(User)
                }
                ;
                entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType2, 
                    entity: instance2, 
                    snapshot: shadowSnapshot2);
                return instance2;
            } : default(void);
            return instance2;
        };
        entity = 
        {
            MaterializationContext materializationContext3;
            IEntityType entityType3;
            Book instance3;
            InternalEntityEntry entry3;
            bool hasNullKey3;
            materializationContext3 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance3 = default(Book);
            entry3 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Book.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("LibraryManagmentSystem.Entities.Book").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(25) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey3);
            !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
            {
                entityType3 = entry3.EntityType;
                return instance3 = (Book)entry3.Entity;
            } : 
            {
                ISnapshot shadowSnapshot3;
                shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType3 = [LIFTABLE Constant: EntityType: Book | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("LibraryManagmentSystem.Entities.Book")];
                instance3 = switch (entityType3)
                {
                    case [LIFTABLE Constant: EntityType: Book | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("LibraryManagmentSystem.Entities.Book")]: 
                        {
                            return 
                            {
                                Book instance;
                                instance = new Book();
                                instance.<Id>k__BackingField = dataReader.GetGuid(25);
                                instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(26);
                                instance.<Description>k__BackingField = dataReader.IsDBNull(27) ? default(string) : dataReader.GetString(27);
                                instance.<LastModifiedAt>k__BackingField = dataReader.IsDBNull(28) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(28);
                                instance.<LastModifiedBy>k__BackingField = dataReader.IsDBNull(29) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(29);
                                instance.<Price>k__BackingField = dataReader.IsDBNull(30) ? default(decimal?) : (decimal?)dataReader.GetDecimal(30);
                                instance.<PublisherId>k__BackingField = dataReader.IsDBNull(31) ? default(Guid?) : (Guid?)dataReader.GetGuid(31);
                                instance.<Quantity>k__BackingField = dataReader.GetInt32(32);
                                instance.<Title>k__BackingField = dataReader.IsDBNull(33) ? default(string) : dataReader.GetString(33);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext3.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Book | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("LibraryManagmentSystem.Entities.Book")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Book)
                }
                ;
                entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType3, 
                    entity: instance3, 
                    snapshot: shadowSnapshot3);
                return instance3;
            } : default(void);
            return instance3;
        };
        ShaperProcessingExpressionVisitor.IncludeReference<BookRentals, BookRentals, User>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: BookRentals.Customer (User) ToPrincipal User Inverse: BookRentals | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Entities.BookRentals").FindNavigation("Customer")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: User.BookRentals (ICollection<BookRentals>) Collection ToDependent BookRentals Inverse: Customer | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Identity.User").FindNavigation("BookRentals")], 
            fixup: (namelessParameter{11}, namelessParameter{12}) => 
            {
                namelessParameter{11}.<Customer>k__BackingField = namelessParameter{12};
                return [LIFTABLE Constant: ClrICollectionAccessor<User, ICollection<BookRentals>, BookRentals> | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Identity.User").FindNavigation("BookRentals").GetCollectionAccessor()].Add(
                    entity: namelessParameter{12}, 
                    value: namelessParameter{11}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<BookRentals, BookRentals, Book>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: BookRentals.Book (Book) ToPrincipal Book Inverse: BookRentals | Resolver: namelessParameter{14} => namelessParameter{14}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Entities.BookRentals").FindNavigation("Book")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Book.BookRentals (ICollection<BookRentals>) Collection ToDependent BookRentals Inverse: Book | Resolver: namelessParameter{15} => namelessParameter{15}.Dependencies.Model.FindEntityType("LibraryManagmentSystem.Entities.Book").FindNavigation("BookRentals")], 
            fixup: (namelessParameter{16}, namelessParameter{17}) => 
            {
                namelessParameter{16}.<Book>k__BackingField = namelessParameter{17};
                return [LIFTABLE Constant: ClrICollectionAccessor<Book, ICollection<BookRentals>, BookRentals> | Resolver: namelessParameter{18} => namelessParameter{18}.Dependencies.Model.FindEntityType("LibraryManagmentSystem.Entities.Book").FindNavigation("BookRentals").GetCollectionAccessor()].Add(
                    entity: namelessParameter{17}, 
                    value: namelessParameter{16}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        return entity;
    }, 
    contextType: LibraryManagmentSystem.Data.LibraryContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)' 
2025-09-18 15:42:04.3572|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2025-09-18 15:42:04.3859|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (21ms). 
2025-09-18 15:42:04.3859|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:42:04.6257|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:42:04.6281|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2025-09-18 15:42:04.6281|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (2ms). 
2025-09-18 15:42:04.6281|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (7ms). 
2025-09-18 15:42:04.6281|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[CustomerId], [b].[Price], [b].[Quantity], [b].[RentEndDate], [b].[RentStartDate], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateCreated], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [b0].[Id], [b0].[CreatedAt], [b0].[Description], [b0].[LastModifiedAt], [b0].[LastModifiedBy], [b0].[Price], [b0].[PublisherId], [b0].[Quantity], [b0].[Title]
FROM [BookRentals] AS [b]
INNER JOIN [AspNetUsers] AS [a] ON [b].[CustomerId] = [a].[Id]
INNER JOIN [Books] AS [b0] ON [b].[BookId] = [b0].[Id] 
2025-09-18 15:42:04.6856|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (43ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[CustomerId], [b].[Price], [b].[Quantity], [b].[RentEndDate], [b].[RentStartDate], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateCreated], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [b0].[Id], [b0].[CreatedAt], [b0].[Description], [b0].[LastModifiedAt], [b0].[LastModifiedBy], [b0].[Price], [b0].[PublisherId], [b0].[Quantity], [b0].[Title]
FROM [BookRentals] AS [b]
INNER JOIN [AspNetUsers] AS [a] ON [b].[CustomerId] = [a].[Id]
INNER JOIN [Books] AS [b0] ON [b].[BookId] = [b0].[Id] 
2025-09-18 15:42:04.7238|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:42:04.7596|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:42:04.7596|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:42:04.8013|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Book' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:42:04.8013|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:42:04.8196|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:42:04.8196|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Book' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:42:04.8196|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:42:04.8196|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:42:04.8196|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:42:04.8196|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:42:04.8196|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Book' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:42:04.8196|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:42:04.8196|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:42:04.8196|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:42:04.8196|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:42:04.8196|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:42:04.8196|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:42:04.8196|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:42:04.8196|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:42:04.8196|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:42:04.8196|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:42:04.8196|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:42:04.8196|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:42:04.8319|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'LibraryDb' on server 'LAPTOP-4LPUPLC4' is being disposed after spending 139ms reading results. 
2025-09-18 15:42:04.8319|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:42:04.8319|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4' (4ms). 
2025-09-18 15:42:04.8319|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<ReturnedRental>()
    .Include(r => r.BookTitle)
    .Include(r => r.CustomerName)' 
2025-09-18 15:42:13.2150|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 15:42:13.2150|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 15:42:13.2150|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 15:42:13.2150|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 15:42:13.2217|105|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action LibraryManagementSystem.API.Controllers.ReportsController.ExportRentals (LibraryManagementSystem.API) in 10085.4248ms 
2025-09-18 15:42:13.2217|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'LibraryManagementSystem.API.Controllers.ReportsController.ExportRentals (LibraryManagementSystem.API)' 
2025-09-18 15:42:13.2217|0|ERROR|LibraryManagementSystem.API.Exceptions.GlobalExceptionHandlerMiddleWare|_ WHAT HAVE YOU DONE!!! System.InvalidOperationException: The expression 'r.BookTitle' is invalid inside an 'Include' operation, since it does not represent a property access: 't => t.MyProperty'. To target navigations declared on derived types, use casting ('t => ((Derived)t).MyProperty') or the 'as' operator ('t => (t as Derived).MyProperty'). Collection navigation access can be filtered by composing Where, OrderBy(Descending), ThenBy(Descending), Skip or Take operations. For more information on including related data, see https://go.microsoft.com/fwlink/?LinkID=746393.
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.PopulateIncludeTree(IncludeTreeNode includeTreeNode, Expression expression, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.ProcessInclude(NavigationExpansionExpression source, Expression expression, Boolean thenInclude, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.Expand(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryTranslationPreprocessor.Process(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.IncludableQueryable`2.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at LibraryManagementSystem.Data.Data.Repositories.LibraryGenericRepo`1.GetAllWithIncludesAsync(Expression`1[] includes) in C:\Users\Remah\Desktop\AST\Projects\LibraryManagementSystem\LibraryManagementSystem.Data\Repositories\LibraryGenericRepo.cs:line 62
   at LibraryManagementSystem.API.Services.ReturnedRentalService.GetAllBookReturnedRentalsWithIncludes() in C:\Users\Remah\Desktop\AST\Projects\LibraryManagementSystem\LibraryManagementSystem\Services\ReturnedRentalService.cs:line 40
2025-09-18 15:42:13.3005|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM328SG94" sending HEADERS frame for stream ID 1 with length 59 and flags END_HEADERS. 
2025-09-18 15:42:13.3005|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM328SG94" sending DATA frame for stream ID 1 with length 669 and flags END_STREAM. 
2025-09-18 15:42:13.3005|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'LibraryContext' disposed. 
2025-09-18 15:42:13.3005|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM328SG94" received WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2025-09-18 15:42:13.3005|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:42:13.3005|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (1ms). 
2025-09-18 15:42:13.3005|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7143/api/Reports/export-rentals - 500 - application/json 10322.7431ms 
2025-09-18 15:42:21.1792|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM328SG94" received HEADERS frame for stream ID 3 with length 199 and flags END_STREAM, END_HEADERS, PRIORITY. 
2025-09-18 15:42:21.1792|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7143/scalar/ - - - 
2025-09-18 15:42:21.2985|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 15:42:21.2985|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/scalar/' 
2025-09-18 15:42:21.2985|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'HTTP: GET /scalar/{documentName?}' with route pattern '/scalar/{documentName?}' is valid for the request path '/scalar/' 
2025-09-18 15:42:21.2985|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'HTTP: GET /scalar/{documentName?}' 
2025-09-18 15:42:21.2985|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 15:42:21.2985|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2025-09-18 15:42:21.2985|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'HTTP: GET /scalar/{documentName?}' 
2025-09-18 15:42:21.3855|2|INFO|Microsoft.AspNetCore.Http.Result.ContentResult|Write content with HTTP Response ContentType of text/html 
2025-09-18 15:42:21.3868|1|DEBUG|Microsoft.WebTools.BrowserLink.Net.BrowserLinkMiddleware|Response markup is scheduled to include Browser Link script injection. 
2025-09-18 15:42:21.3868|1|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware|Response markup is scheduled to include browser refresh script injection. 
2025-09-18 15:42:21.3868|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM328SG94" sending HEADERS frame for stream ID 3 with length 44 and flags END_HEADERS. 
2025-09-18 15:42:21.3947|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM328SG94" sending DATA frame for stream ID 3 with length 882 and flags NONE. 
2025-09-18 15:42:21.3947|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM328SG94" sending DATA frame for stream ID 3 with length 437 and flags NONE. 
2025-09-18 15:42:21.3947|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'HTTP: GET /scalar/{documentName?}' 
2025-09-18 15:42:21.3947|2|DEBUG|Microsoft.WebTools.BrowserLink.Net.BrowserLinkMiddleware|Response markup was updated to include Browser Link script injection. 
2025-09-18 15:42:21.3947|2|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware|Response markup was updated to include browser refresh script injection. 
2025-09-18 15:42:21.3947|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM328SG94" sending DATA frame for stream ID 3 with length 0 and flags END_STREAM. 
2025-09-18 15:42:21.3947|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7143/scalar/ - 200 - text/html 215.9330ms 
2025-09-18 15:42:21.3947|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM328SG94" received WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2025-09-18 15:42:21.4461|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM328SG94" received HEADERS frame for stream ID 5 with length 71 and flags END_STREAM, END_HEADERS, PRIORITY. 
2025-09-18 15:42:21.4461|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM328SG94" received HEADERS frame for stream ID 7 with length 84 and flags END_STREAM, END_HEADERS, PRIORITY. 
2025-09-18 15:42:21.4461|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7143/_framework/aspnetcore-browser-refresh.js - - - 
2025-09-18 15:42:21.4461|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM328SG94" received HEADERS frame for stream ID 9 with length 36 and flags END_STREAM, END_HEADERS, PRIORITY. 
2025-09-18 15:42:21.4461|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM328SG94" received HEADERS frame for stream ID 11 with length 58 and flags END_STREAM, END_HEADERS, PRIORITY. 
2025-09-18 15:42:21.4461|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7143/scalar/scalar.aspnetcore.js - - - 
2025-09-18 15:42:21.4461|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7143/scalar/scalar.js - - - 
2025-09-18 15:42:21.4461|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 15:42:21.4461|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 15:42:21.4461|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|2 candidate(s) found for the request path '/scalar/scalar.aspnetcore.js' 
2025-09-18 15:42:21.4461|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|2 candidate(s) found for the request path '/scalar/scalar.js' 
2025-09-18 15:42:21.4461|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'HTTP: GET /scalar/scalar.aspnetcore.js' with route pattern '/scalar/scalar.aspnetcore.js' is valid for the request path '/scalar/scalar.aspnetcore.js' 
2025-09-18 15:42:21.4461|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'HTTP: GET /scalar/scalar.js' with route pattern '/scalar/scalar.js' is valid for the request path '/scalar/scalar.js' 
2025-09-18 15:42:21.4461|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'HTTP: GET /scalar/{documentName?}' with route pattern '/scalar/{documentName?}' is valid for the request path '/scalar/scalar.aspnetcore.js' 
2025-09-18 15:42:21.4461|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'HTTP: GET /scalar/{documentName?}' with route pattern '/scalar/{documentName?}' is valid for the request path '/scalar/scalar.js' 
2025-09-18 15:42:21.4461|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'HTTP: GET /scalar/scalar.aspnetcore.js' 
2025-09-18 15:42:21.4461|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'HTTP: GET /scalar/scalar.js' 
2025-09-18 15:42:21.4776|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 15:42:21.4776|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 15:42:21.5024|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7143/_vs/browserLink - - - 
2025-09-18 15:42:21.5058|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2025-09-18 15:42:21.5058|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2025-09-18 15:42:21.5058|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'HTTP: GET /scalar/scalar.js' 
2025-09-18 15:42:21.5058|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'HTTP: GET /scalar/scalar.aspnetcore.js' 
2025-09-18 15:42:21.5304|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM328SG94" sending HEADERS frame for stream ID 5 with length 60 and flags END_HEADERS. 
2025-09-18 15:42:21.5691|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM328SG94" sending DATA frame for stream ID 5 with length 16384 and flags NONE. 
2025-09-18 15:42:21.5691|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM328SG94" sending DATA frame for stream ID 5 with length 155 and flags NONE. 
2025-09-18 15:42:21.6294|1|INFO|Microsoft.AspNetCore.Http.Result.StatusCodeResult|Setting HTTP status code 304. 
2025-09-18 15:42:21.6294|1|INFO|Microsoft.AspNetCore.Http.Result.StatusCodeResult|Setting HTTP status code 304. 
2025-09-18 15:42:21.6294|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'HTTP: GET /scalar/scalar.js' 
2025-09-18 15:42:21.6294|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'HTTP: GET /scalar/scalar.aspnetcore.js' 
2025-09-18 15:42:21.6294|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7143/scalar/scalar.aspnetcore.js - 304 - - 181.9445ms 
2025-09-18 15:42:21.6294|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7143/scalar/scalar.js - 304 - - 181.8717ms 
2025-09-18 15:42:21.6294|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM328SG94" sending HEADERS frame for stream ID 7 with length 30 and flags END_STREAM, END_HEADERS. 
2025-09-18 15:42:21.6294|0|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserScriptMiddleware|Script injected: /_framework/aspnetcore-browser-refresh.js 
2025-09-18 15:42:21.6294|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM328SG94" sending HEADERS frame for stream ID 9 with length 5 and flags END_STREAM, END_HEADERS. 
2025-09-18 15:42:21.6294|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM328SG94" sending DATA frame for stream ID 5 with length 0 and flags END_STREAM. 
2025-09-18 15:42:21.6294|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7143/_framework/aspnetcore-browser-refresh.js - 200 16539 application/javascript;+charset=utf-8 182.8915ms 
2025-09-18 15:42:21.6586|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM328SG94" sending HEADERS frame for stream ID 11 with length 119 and flags END_HEADERS. 
2025-09-18 15:42:21.6586|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM328SG94" sending DATA frame for stream ID 11 with length 9986 and flags NONE. 
2025-09-18 15:42:21.6586|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM328SG94" sending DATA frame for stream ID 11 with length 10240 and flags NONE. 
2025-09-18 15:42:21.6586|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM328SG94" sending DATA frame for stream ID 11 with length 10240 and flags NONE. 
2025-09-18 15:42:21.6586|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM328SG94" sending DATA frame for stream ID 11 with length 10240 and flags NONE. 
2025-09-18 15:42:21.6586|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM328SG94" sending DATA frame for stream ID 11 with length 10240 and flags NONE. 
2025-09-18 15:42:21.6586|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM328SG94" sending DATA frame for stream ID 11 with length 10240 and flags NONE. 
2025-09-18 15:42:21.6586|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM328SG94" sending DATA frame for stream ID 11 with length 10240 and flags NONE. 
2025-09-18 15:42:21.6586|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM328SG94" sending DATA frame for stream ID 11 with length 10240 and flags NONE. 
2025-09-18 15:42:21.6586|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM328SG94" sending DATA frame for stream ID 11 with length 10240 and flags NONE. 
2025-09-18 15:42:21.6586|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM328SG94" sending DATA frame for stream ID 11 with length 10240 and flags NONE. 
2025-09-18 15:42:21.6586|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM328SG94" sending DATA frame for stream ID 11 with length 10240 and flags NONE. 
2025-09-18 15:42:21.6586|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM328SG94" sending DATA frame for stream ID 11 with length 10240 and flags NONE. 
2025-09-18 15:42:21.6586|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM328SG94" sending DATA frame for stream ID 11 with length 10240 and flags NONE. 
2025-09-18 15:42:21.6586|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM328SG94" sending DATA frame for stream ID 11 with length 10240 and flags NONE. 
2025-09-18 15:42:21.6586|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM328SG94" sending DATA frame for stream ID 11 with length 10240 and flags NONE. 
2025-09-18 15:42:21.6586|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM328SG94" sending DATA frame for stream ID 11 with length 1806 and flags NONE. 
2025-09-18 15:42:21.6586|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM328SG94" sending DATA frame for stream ID 11 with length 0 and flags END_STREAM. 
2025-09-18 15:42:21.6586|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7143/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 221.3035ms 
2025-09-18 15:42:21.9412|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM328SG94" received HEADERS frame for stream ID 13 with length 35 and flags END_STREAM, END_HEADERS, PRIORITY. 
2025-09-18 15:42:21.9412|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7143/openapi/v1.json - - - 
2025-09-18 15:42:21.9412|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 15:42:21.9412|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/openapi/v1.json' 
2025-09-18 15:42:21.9412|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'HTTP: GET /openapi/{documentName}.json' with route pattern '/openapi/{documentName}.json' is valid for the request path '/openapi/v1.json' 
2025-09-18 15:42:21.9412|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'HTTP: GET /openapi/{documentName}.json' 
2025-09-18 15:42:21.9412|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 15:42:21.9412|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2025-09-18 15:42:21.9412|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'HTTP: GET /openapi/{documentName}.json' 
2025-09-18 15:42:22.1563|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM328SG94" sending HEADERS frame for stream ID 13 with length 35 and flags END_HEADERS. 
2025-09-18 15:42:22.1563|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM328SG94" sending DATA frame for stream ID 13 with length 16384 and flags NONE. 
2025-09-18 15:42:22.1563|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM328SG94" sending DATA frame for stream ID 13 with length 16384 and flags NONE. 
2025-09-18 15:42:22.1563|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM328SG94" sending DATA frame for stream ID 13 with length 16384 and flags NONE. 
2025-09-18 15:42:22.1563|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM328SG94" sending DATA frame for stream ID 13 with length 9307 and flags NONE. 
2025-09-18 15:42:22.1585|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM328SG94" received HEADERS frame for stream ID 15 with length 35 and flags END_STREAM, END_HEADERS, PRIORITY. 
2025-09-18 15:42:22.1585|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7143/openapi/v1.json - - - 
2025-09-18 15:42:22.1585|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 15:42:22.1585|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/openapi/v1.json' 
2025-09-18 15:42:22.1585|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'HTTP: GET /openapi/{documentName}.json' with route pattern '/openapi/{documentName}.json' is valid for the request path '/openapi/v1.json' 
2025-09-18 15:42:22.1585|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'HTTP: GET /openapi/{documentName}.json' 
2025-09-18 15:42:22.1585|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 15:42:22.1585|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2025-09-18 15:42:22.1585|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'HTTP: GET /openapi/{documentName}.json' 
2025-09-18 15:42:22.1585|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'HTTP: GET /openapi/{documentName}.json' 
2025-09-18 15:42:22.1585|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM328SG94" sending DATA frame for stream ID 13 with length 0 and flags END_STREAM. 
2025-09-18 15:42:22.1585|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7143/openapi/v1.json - 200 - application/json;charset=utf-8 218.3861ms 
2025-09-18 15:42:22.2130|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM328SG94" sending HEADERS frame for stream ID 15 with length 4 and flags END_HEADERS. 
2025-09-18 15:42:22.2130|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM328SG94" sending DATA frame for stream ID 15 with length 16384 and flags NONE. 
2025-09-18 15:42:22.2130|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM328SG94" sending DATA frame for stream ID 15 with length 16384 and flags NONE. 
2025-09-18 15:42:22.2130|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM328SG94" sending DATA frame for stream ID 15 with length 16384 and flags NONE. 
2025-09-18 15:42:22.2130|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM328SG94" sending DATA frame for stream ID 15 with length 9307 and flags NONE. 
2025-09-18 15:42:22.2130|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'HTTP: GET /openapi/{documentName}.json' 
2025-09-18 15:42:22.2130|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM328SG94" sending DATA frame for stream ID 15 with length 0 and flags END_STREAM. 
2025-09-18 15:42:22.2130|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7143/openapi/v1.json - 200 - application/json;charset=utf-8 55.4068ms 
2025-09-18 15:42:26.8711|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM328SG94" received HEADERS frame for stream ID 17 with length 42 and flags END_STREAM, END_HEADERS, PRIORITY. 
2025-09-18 15:42:26.8711|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7143/api/Reports/export-rentals - - - 
2025-09-18 15:42:26.8711|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 15:42:26.8711|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/Reports/export-rentals' 
2025-09-18 15:42:26.8711|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'LibraryManagementSystem.API.Controllers.ReportsController.ExportRentals (LibraryManagementSystem.API)' with route pattern 'api/Reports/export-rentals' is valid for the request path '/api/Reports/export-rentals' 
2025-09-18 15:42:26.8774|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'LibraryManagementSystem.API.Controllers.ReportsController.ExportRentals (LibraryManagementSystem.API)' 
2025-09-18 15:42:26.8774|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 15:42:26.8774|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2025-09-18 15:42:26.8774|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'LibraryManagementSystem.API.Controllers.ReportsController.ExportRentals (LibraryManagementSystem.API)' 
2025-09-18 15:42:26.8774|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "ExportRentals", controller = "Reports"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ExportRentals(LibraryManagementSystem.API.Services.ExcelExportService) on controller LibraryManagementSystem.API.Controllers.ReportsController (LibraryManagementSystem.API). 
2025-09-18 15:42:26.8774|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2025-09-18 15:42:26.8774|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2025-09-18 15:42:26.8774|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2025-09-18 15:42:26.8774|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2025-09-18 15:42:26.8774|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2025-09-18 15:42:26.8774|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller LibraryManagementSystem.API.Controllers.ReportsController (LibraryManagementSystem.API) 
2025-09-18 15:42:26.8774|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller LibraryManagementSystem.API.Controllers.ReportsController (LibraryManagementSystem.API) 
2025-09-18 15:42:26.8774|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'excelExportService' of type 'LibraryManagementSystem.API.Services.ExcelExportService' ... 
2025-09-18 15:42:26.8774|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'excelExportService' of type 'LibraryManagementSystem.API.Services.ExcelExportService'. 
2025-09-18 15:42:26.8774|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'excelExportService' of type 'LibraryManagementSystem.API.Services.ExcelExportService' ... 
2025-09-18 15:42:26.8774|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'excelExportService' of type 'LibraryManagementSystem.API.Services.ExcelExportService'. 
2025-09-18 15:42:26.8774|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 15:42:26.8774|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 15:42:26.8774|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 15:42:26.8774|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 15:42:26.8774|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method LibraryManagementSystem.API.Controllers.ReportsController.ExportRentals (LibraryManagementSystem.API) - Validation state: Valid 
2025-09-18 15:42:26.8774|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method LibraryManagementSystem.API.Controllers.ReportsController.ExportRentals (LibraryManagementSystem.API) with arguments (LibraryManagementSystem.API.Services.ExcelExportService) 
2025-09-18 15:42:26.9517|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 9.0.8 initialized 'LibraryContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.8' with options: EngineType=SqlServer  
2025-09-18 15:42:26.9653|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2025-09-18 15:42:26.9653|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2025-09-18 15:42:26.9653|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:42:27.0056|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:42:27.0056|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2025-09-18 15:42:27.0056|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2025-09-18 15:42:27.0056|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2025-09-18 15:42:27.0056|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[CustomerId], [b].[Price], [b].[Quantity], [b].[RentEndDate], [b].[RentStartDate], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateCreated], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [b0].[Id], [b0].[CreatedAt], [b0].[Description], [b0].[LastModifiedAt], [b0].[LastModifiedBy], [b0].[Price], [b0].[PublisherId], [b0].[Quantity], [b0].[Title]
FROM [BookRentals] AS [b]
INNER JOIN [AspNetUsers] AS [a] ON [b].[CustomerId] = [a].[Id]
INNER JOIN [Books] AS [b0] ON [b].[BookId] = [b0].[Id] 
2025-09-18 15:42:27.0056|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[CustomerId], [b].[Price], [b].[Quantity], [b].[RentEndDate], [b].[RentStartDate], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateCreated], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [b0].[Id], [b0].[CreatedAt], [b0].[Description], [b0].[LastModifiedAt], [b0].[LastModifiedBy], [b0].[Price], [b0].[PublisherId], [b0].[Quantity], [b0].[Title]
FROM [BookRentals] AS [b]
INNER JOIN [AspNetUsers] AS [a] ON [b].[CustomerId] = [a].[Id]
INNER JOIN [Books] AS [b0] ON [b].[BookId] = [b0].[Id] 
2025-09-18 15:42:27.0056|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:42:27.0056|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:42:27.0056|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:42:27.0056|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Book' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:42:27.0056|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:42:27.0056|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:42:27.0056|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Book' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:42:27.0056|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:42:27.0056|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:42:27.0056|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:42:27.0056|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:42:27.0056|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Book' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:42:27.0056|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:42:27.0056|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:42:27.0056|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:42:27.0056|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:42:27.0056|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:42:27.0056|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:42:27.0056|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:42:27.0056|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:42:27.0056|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:42:27.0056|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:42:27.0056|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:42:27.0056|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:42:27.0056|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'LibraryDb' on server 'LAPTOP-4LPUPLC4' is being disposed after spending 2ms reading results. 
2025-09-18 15:42:27.0056|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:42:27.0056|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4' (0ms). 
2025-09-18 15:42:27.0056|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<ReturnedRental>()
    .Include(r => r.BookTitle)
    .Include(r => r.CustomerName)' 
2025-09-18 15:42:35.3579|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 15:42:35.3579|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 15:42:35.3579|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 15:42:35.3579|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 15:42:35.3579|105|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action LibraryManagementSystem.API.Controllers.ReportsController.ExportRentals (LibraryManagementSystem.API) in 8472.0523ms 
2025-09-18 15:42:35.3579|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'LibraryManagementSystem.API.Controllers.ReportsController.ExportRentals (LibraryManagementSystem.API)' 
2025-09-18 15:42:35.3740|0|ERROR|LibraryManagementSystem.API.Exceptions.GlobalExceptionHandlerMiddleWare|_ WHAT HAVE YOU DONE!!! System.InvalidOperationException: The expression 'r.BookTitle' is invalid inside an 'Include' operation, since it does not represent a property access: 't => t.MyProperty'. To target navigations declared on derived types, use casting ('t => ((Derived)t).MyProperty') or the 'as' operator ('t => (t as Derived).MyProperty'). Collection navigation access can be filtered by composing Where, OrderBy(Descending), ThenBy(Descending), Skip or Take operations. For more information on including related data, see https://go.microsoft.com/fwlink/?LinkID=746393.
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.PopulateIncludeTree(IncludeTreeNode includeTreeNode, Expression expression, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.ProcessInclude(NavigationExpansionExpression source, Expression expression, Boolean thenInclude, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.Expand(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryTranslationPreprocessor.Process(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.IncludableQueryable`2.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at LibraryManagementSystem.Data.Data.Repositories.LibraryGenericRepo`1.GetAllWithIncludesAsync(Expression`1[] includes) in C:\Users\Remah\Desktop\AST\Projects\LibraryManagementSystem\LibraryManagementSystem.Data\Repositories\LibraryGenericRepo.cs:line 62
   at LibraryManagementSystem.API.Services.ReturnedRentalService.GetAllBookReturnedRentalsWithIncludes() in C:\Users\Remah\Desktop\AST\Projects\LibraryManagementSystem\LibraryManagementSystem\Services\ReturnedRentalService.cs:line 40
2025-09-18 15:42:35.3740|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM328SG94" sending HEADERS frame for stream ID 17 with length 34 and flags END_HEADERS. 
2025-09-18 15:42:35.3740|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'LibraryContext' disposed. 
2025-09-18 15:42:35.3740|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM328SG94" sending DATA frame for stream ID 17 with length 669 and flags END_STREAM. 
2025-09-18 15:42:35.3740|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:42:35.3740|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2025-09-18 15:42:35.3740|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7143/api/Reports/export-rentals - 500 - application/json 8504.1549ms 
2025-09-18 15:42:35.3785|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM328SG94" received WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2025-09-18 15:42:43.5179|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMM328SG94" received FIN. 
2025-09-18 15:42:43.5200|48|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM328SG94" is closed. The last processed stream ID was 17. 
2025-09-18 15:42:43.5200|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMM328SG94" sending FIN because: "The Socket transport's send loop completed gracefully." 
2025-09-18 15:42:43.5200|62|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Http2|The connection queue processing loop for 0HNFMM328SG94 completed. 
2025-09-18 15:42:43.5200|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMM328SG94" stopped. 
2025-09-18 15:44:34.8257|0|DEBUG|LibraryManagementSystem.API.Program|init main 
2025-09-18 15:44:35.2115|0|INFO|LibraryManagementSystem.API.Program|✅ Test log: Application started 
2025-09-18 15:44:35.7466|12|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider 
2025-09-18 15:44:35.8171|1|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting starting 
2025-09-18 15:44:35.8578|63|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\Remah\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
2025-09-18 15:44:35.8578|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\Remah\AppData\Local\ASP.NET\DataProtection-Keys\key-0eadaaaa-7e78-4b9a-b5c6-d6842d7acf5d.xml'. 
2025-09-18 15:44:35.8737|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\Remah\AppData\Local\ASP.NET\DataProtection-Keys\key-90e9434f-347d-4778-9235-65398a291d04.xml'. 
2025-09-18 15:44:35.8737|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {0eadaaaa-7e78-4b9a-b5c6-d6842d7acf5d}. 
2025-09-18 15:44:35.8879|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {90e9434f-347d-4778-9235-65398a291d04}. 
2025-09-18 15:44:35.9102|13|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver|Considering key {0eadaaaa-7e78-4b9a-b5c6-d6842d7acf5d} with expiration date 2025-10-28 11:37:33Z as default key. 
2025-09-18 15:44:35.9102|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2025-09-18 15:44:35.9102|51|DEBUG|Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor|Decrypting secret element using Windows DPAPI. 
2025-09-18 15:44:35.9102|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2025-09-18 15:44:35.9286|4|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC. 
2025-09-18 15:44:35.9286|3|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC. 
2025-09-18 15:44:35.9286|2|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider|Using key {0eadaaaa-7e78-4b9a-b5c6-d6842d7acf5d} as the default key. 
2025-09-18 15:44:35.9286|65|DEBUG|Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService|Key ring with default key {0eadaaaa-7e78-4b9a-b5c6-d6842d7acf5d} was loaded during application startup. 
2025-09-18 15:44:35.9433|0|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BlazorWasmHotReloadMiddleware|Middleware loaded 
2025-09-18 15:44:35.9433|0|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserScriptMiddleware|Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16539 B). 
2025-09-18 15:44:35.9433|0|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserScriptMiddleware|Middleware loaded. Script /_framework/blazor-hotreload.js (799 B). 
2025-09-18 15:44:36.0330|7|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True} 
2025-09-18 15:44:36.0344|0|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Wildcard detected, all requests with hosts will be allowed. 
2025-09-18 15:44:36.0344|0|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware|Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true 
2025-09-18 15:44:36.1587|14|INFO|Microsoft.Hosting.Lifetime|Now listening on: https://localhost:7143 
2025-09-18 15:44:36.1653|14|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5223 
2025-09-18 15:44:36.1653|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly LibraryManagementSystem.API 
2025-09-18 15:44:36.1653|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery 
2025-09-18 15:44:36.1653|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh 
2025-09-18 15:44:36.1653|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net 
2025-09-18 15:44:36.1753|2|DEBUG|Microsoft.AspNetCore.Mvc.ApiExplorer.ApiDescriptionGroupCollectionProvider|Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0. 
2025-09-18 15:44:36.1753|2|DEBUG|Microsoft.AspNetCore.Mvc.ApiExplorer.ApiDescriptionGroupCollectionProvider|Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0. 
2025-09-18 15:44:36.2270|0|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down. 
2025-09-18 15:44:36.2270|0|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development 
2025-09-18 15:44:36.2270|0|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\Remah\Desktop\AST\Projects\LibraryManagementSystem\LibraryManagementSystem 
2025-09-18 15:44:36.2270|2|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting started 
2025-09-18 15:44:46.1335|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMM4ITP0S0" accepted. 
2025-09-18 15:44:46.1335|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMM4ITP0S0" started. 
2025-09-18 15:44:46.2004|3|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Connection 0HNFMM4ITP0S0 established using the following protocol: Tls13 
2025-09-18 15:44:46.2259|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM4ITP0S0" sending SETTINGS frame for stream ID 0 with length 24 and flags NONE. 
2025-09-18 15:44:46.2259|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM4ITP0S0" sending WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2025-09-18 15:44:46.2259|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM4ITP0S0" received SETTINGS frame for stream ID 0 with length 24 and flags NONE. 
2025-09-18 15:44:46.2259|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM4ITP0S0" sending SETTINGS frame for stream ID 0 with length 0 and flags ACK. 
2025-09-18 15:44:46.2259|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM4ITP0S0" received WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2025-09-18 15:44:46.2259|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM4ITP0S0" received HEADERS frame for stream ID 1 with length 401 and flags END_STREAM, END_HEADERS, PRIORITY. 
2025-09-18 15:44:46.2539|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM4ITP0S0" received SETTINGS frame for stream ID 0 with length 0 and flags ACK. 
2025-09-18 15:44:46.2744|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7143/api/Reports/export-rentals - - - 
2025-09-18 15:44:46.2879|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 15:44:46.3404|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/Reports/export-rentals' 
2025-09-18 15:44:46.3404|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'LibraryManagementSystem.API.Controllers.ReportsController.ExportRentals (LibraryManagementSystem.API)' with route pattern 'api/Reports/export-rentals' is valid for the request path '/api/Reports/export-rentals' 
2025-09-18 15:44:46.3404|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'LibraryManagementSystem.API.Controllers.ReportsController.ExportRentals (LibraryManagementSystem.API)' 
2025-09-18 15:44:46.3404|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 15:44:46.4183|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2025-09-18 15:44:46.4183|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'LibraryManagementSystem.API.Controllers.ReportsController.ExportRentals (LibraryManagementSystem.API)' 
2025-09-18 15:44:46.4467|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "ExportRentals", controller = "Reports"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ExportRentals(LibraryManagementSystem.API.Services.ExcelExportService) on controller LibraryManagementSystem.API.Controllers.ReportsController (LibraryManagementSystem.API). 
2025-09-18 15:44:46.4467|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2025-09-18 15:44:46.4467|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2025-09-18 15:44:46.4467|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2025-09-18 15:44:46.4467|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2025-09-18 15:44:46.4467|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2025-09-18 15:44:46.4467|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller LibraryManagementSystem.API.Controllers.ReportsController (LibraryManagementSystem.API) 
2025-09-18 15:44:46.5761|10401|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|An 'IServiceProvider' was created for internal use by Entity Framework. 
2025-09-18 15:44:46.6095|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller LibraryManagementSystem.API.Controllers.ReportsController (LibraryManagementSystem.API) 
2025-09-18 15:44:46.6230|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'excelExportService' of type 'LibraryManagementSystem.API.Services.ExcelExportService' ... 
2025-09-18 15:44:46.6230|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'excelExportService' of type 'LibraryManagementSystem.API.Services.ExcelExportService'. 
2025-09-18 15:44:46.6230|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'excelExportService' of type 'LibraryManagementSystem.API.Services.ExcelExportService' ... 
2025-09-18 15:44:46.6230|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'excelExportService' of type 'LibraryManagementSystem.API.Services.ExcelExportService'. 
2025-09-18 15:44:46.6281|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 15:44:46.6281|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 15:44:46.6281|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 15:44:46.6281|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 15:44:46.6281|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method LibraryManagementSystem.API.Controllers.ReportsController.ExportRentals (LibraryManagementSystem.API) - Validation state: Valid 
2025-09-18 15:44:46.6281|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method LibraryManagementSystem.API.Controllers.ReportsController.ExportRentals (LibraryManagementSystem.API) with arguments (LibraryManagementSystem.API.Services.ExcelExportService) 
2025-09-18 15:44:47.2970|10601|DEBUG|Microsoft.EntityFrameworkCore.Model|The index {'BookId'} was not created on entity type 'BookCategory' as the properties are already covered by the index {'BookId', 'CategoryId'}. 
2025-09-18 15:44:47.2970|10601|DEBUG|Microsoft.EntityFrameworkCore.Model|The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}. 
2025-09-18 15:44:47.2970|10601|DEBUG|Microsoft.EntityFrameworkCore.Model|The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}. 
2025-09-18 15:44:47.5091|30000|WARN|Microsoft.EntityFrameworkCore.Model.Validation|No store type was specified for the decimal property 'Price' on entity type 'Book'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'. 
2025-09-18 15:44:47.6128|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 9.0.8 initialized 'LibraryContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.8' with options: EngineType=SqlServer  
2025-09-18 15:44:47.6844|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<BookRentals>()
    .Include(r => r.Customer)
    .Include(r => r.Book)' 
2025-09-18 15:44:47.7650|10112|DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'BookRentals.Customer'. 
2025-09-18 15:44:47.7650|10112|DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'BookRentals.Book'. 
2025-09-18 15:44:48.1025|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<BookRentals>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: BookRentals.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: BookRentals.BookId (Guid) Required FK Index, 1], [Property: BookRentals.CustomerId (string) Required FK Index, 2], [Property: BookRentals.Price (double) Required, 3], [Property: BookRentals.Quantity (int) Required, 4], [Property: BookRentals.RentEndDate (DateTime) Required, 5], [Property: BookRentals.RentStartDate (DateTime) Required, 6] }
            1 -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 7], [Property: User.AccessFailedCount (int) Required, 8], [Property: User.ConcurrencyStamp (string) Concurrency, 9], [Property: User.DateCreated (DateTime) Required, 10], [Property: User.Email (string) MaxLength(256), 11], [Property: User.EmailConfirmed (bool) Required, 12], [Property: User.FirstName (string) Required, 13], [Property: User.LastName (string) Required, 14], [Property: User.LockoutEnabled (bool) Required, 15], [Property: User.LockoutEnd (DateTimeOffset?), 16], [Property: User.NormalizedEmail (string) Index MaxLength(256), 17], [Property: User.NormalizedUserName (string) Index MaxLength(256), 18], [Property: User.PasswordHash (string), 19], [Property: User.PhoneNumber (string), 20], [Property: User.PhoneNumberConfirmed (bool) Required, 21], [Property: User.SecurityStamp (string), 22], [Property: User.TwoFactorEnabled (bool) Required, 23], [Property: User.UserName (string) MaxLength(256), 24] }
            2 -> Dictionary<IProperty, int> { [Property: Book.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 25], [Property: Book.CreatedAt (DateTime) Required, 26], [Property: Book.Description (string), 27], [Property: Book.LastModifiedAt (DateTime?), 28], [Property: Book.LastModifiedBy (DateTime?), 29], [Property: Book.Price (decimal?), 30], [Property: Book.PublisherId (Guid?) FK Index, 31], [Property: Book.Quantity (int) Required, 32], [Property: Book.Title (string), 33] }
        SELECT b.Id, b.BookId, b.CustomerId, b.Price, b.Quantity, b.RentEndDate, b.RentStartDate, a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.DateCreated, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, b0.Id, b0.CreatedAt, b0.Description, b0.LastModifiedAt, b0.LastModifiedBy, b0.Price, b0.PublisherId, b0.Quantity, b0.Title
        FROM BookRentals AS b
        INNER JOIN AspNetUsers AS a ON b.CustomerId == a.Id
        INNER JOIN Books AS b0 ON b.BookId == b0.Id) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: BookRentals.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: BookRentals.BookId (Guid) Required FK Index, 1], [Property: BookRentals.CustomerId (string) Required FK Index, 2], [Property: BookRentals.Price (double) Required, 3], [Property: BookRentals.Quantity (int) Required, 4], [Property: BookRentals.RentEndDate (DateTime) Required, 5], [Property: BookRentals.RentStartDate (DateTime) Required, 6] }
            1 -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 7], [Property: User.AccessFailedCount (int) Required, 8], [Property: User.ConcurrencyStamp (string) Concurrency, 9], [Property: User.DateCreated (DateTime) Required, 10], [Property: User.Email (string) MaxLength(256), 11], [Property: User.EmailConfirmed (bool) Required, 12], [Property: User.FirstName (string) Required, 13], [Property: User.LastName (string) Required, 14], [Property: User.LockoutEnabled (bool) Required, 15], [Property: User.LockoutEnd (DateTimeOffset?), 16], [Property: User.NormalizedEmail (string) Index MaxLength(256), 17], [Property: User.NormalizedUserName (string) Index MaxLength(256), 18], [Property: User.PasswordHash (string), 19], [Property: User.PhoneNumber (string), 20], [Property: User.PhoneNumberConfirmed (bool) Required, 21], [Property: User.SecurityStamp (string), 22], [Property: User.TwoFactorEnabled (bool) Required, 23], [Property: User.UserName (string) MaxLength(256), 24] }
            2 -> Dictionary<IProperty, int> { [Property: Book.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 25], [Property: Book.CreatedAt (DateTime) Required, 26], [Property: Book.Description (string), 27], [Property: Book.LastModifiedAt (DateTime?), 28], [Property: Book.LastModifiedBy (DateTime?), 29], [Property: Book.Price (decimal?), 30], [Property: Book.PublisherId (Guid?) FK Index, 31], [Property: Book.Quantity (int) Required, 32], [Property: Book.Title (string), 33] }
        SELECT b.Id, b.BookId, b.CustomerId, b.Price, b.Quantity, b.RentEndDate, b.RentStartDate, a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.DateCreated, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, b0.Id, b0.CreatedAt, b0.Description, b0.LastModifiedAt, b0.LastModifiedBy, b0.Price, b0.PublisherId, b0.Quantity, b0.Title
        FROM BookRentals AS b
        INNER JOIN AspNetUsers AS a ON b.CustomerId == a.Id
        INNER JOIN Books AS b0 ON b.BookId == b0.Id, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        BookRentals entity;
        User entity;
        Book entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            BookRentals instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(BookRentals);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: BookRentals.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Entities.BookRentals").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (BookRentals)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: BookRentals | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Entities.BookRentals")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: BookRentals | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Entities.BookRentals")]: 
                        {
                            return 
                            {
                                BookRentals instance;
                                instance = new BookRentals();
                                instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                instance.<BookId>k__BackingField = dataReader.GetGuid(1);
                                instance.<CustomerId>k__BackingField = dataReader.GetString(2);
                                instance.<Price>k__BackingField = dataReader.GetDouble(3);
                                instance.<Quantity>k__BackingField = dataReader.GetInt32(4);
                                instance.<RentEndDate>k__BackingField = dataReader.GetDateTime(5);
                                instance.<RentStartDate>k__BackingField = dataReader.GetDateTime(6);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: BookRentals | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Entities.BookRentals")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(BookRentals)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        entity = 
        {
            MaterializationContext materializationContext2;
            IEntityType entityType2;
            User instance2;
            InternalEntityEntry entry2;
            bool hasNullKey2;
            materializationContext2 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance2 = default(User);
            entry2 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Identity.User").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetString(7) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey2);
            !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
            {
                entityType2 = entry2.EntityType;
                return instance2 = (User)entry2.Entity;
            } : 
            {
                ISnapshot shadowSnapshot2;
                shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType2 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Identity.User")];
                instance2 = switch (entityType2)
                {
                    case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Identity.User")]: 
                        {
                            return 
                            {
                                User instance;
                                instance = new User();
                                instance.<Id>k__BackingField = dataReader.GetString(7);
                                instance.<AccessFailedCount>k__BackingField = dataReader.GetInt32(8);
                                instance.<ConcurrencyStamp>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                instance.<DateCreated>k__BackingField = dataReader.GetDateTime(10);
                                instance.<Email>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                instance.<EmailConfirmed>k__BackingField = dataReader.GetBoolean(12);
                                instance.<FirstName>k__BackingField = dataReader.GetString(13);
                                instance.<LastName>k__BackingField = dataReader.GetString(14);
                                instance.<LockoutEnabled>k__BackingField = dataReader.GetBoolean(15);
                                instance.<LockoutEnd>k__BackingField = dataReader.IsDBNull(16) ? default(DateTimeOffset?) : (DateTimeOffset?)dataReader.GetFieldValue<DateTimeOffset>(16);
                                instance.<NormalizedEmail>k__BackingField = dataReader.IsDBNull(17) ? default(string) : dataReader.GetString(17);
                                instance.<NormalizedUserName>k__BackingField = dataReader.IsDBNull(18) ? default(string) : dataReader.GetString(18);
                                instance.<PasswordHash>k__BackingField = dataReader.IsDBNull(19) ? default(string) : dataReader.GetString(19);
                                instance.<PhoneNumber>k__BackingField = dataReader.IsDBNull(20) ? default(string) : dataReader.GetString(20);
                                instance.<PhoneNumberConfirmed>k__BackingField = dataReader.GetBoolean(21);
                                instance.<SecurityStamp>k__BackingField = dataReader.IsDBNull(22) ? default(string) : dataReader.GetString(22);
                                instance.<TwoFactorEnabled>k__BackingField = dataReader.GetBoolean(23);
                                instance.<UserName>k__BackingField = dataReader.IsDBNull(24) ? default(string) : dataReader.GetString(24);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext2.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Identity.User")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(User)
                }
                ;
                entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType2, 
                    entity: instance2, 
                    snapshot: shadowSnapshot2);
                return instance2;
            } : default(void);
            return instance2;
        };
        entity = 
        {
            MaterializationContext materializationContext3;
            IEntityType entityType3;
            Book instance3;
            InternalEntityEntry entry3;
            bool hasNullKey3;
            materializationContext3 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance3 = default(Book);
            entry3 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Book.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("LibraryManagmentSystem.Entities.Book").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(25) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey3);
            !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
            {
                entityType3 = entry3.EntityType;
                return instance3 = (Book)entry3.Entity;
            } : 
            {
                ISnapshot shadowSnapshot3;
                shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType3 = [LIFTABLE Constant: EntityType: Book | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("LibraryManagmentSystem.Entities.Book")];
                instance3 = switch (entityType3)
                {
                    case [LIFTABLE Constant: EntityType: Book | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("LibraryManagmentSystem.Entities.Book")]: 
                        {
                            return 
                            {
                                Book instance;
                                instance = new Book();
                                instance.<Id>k__BackingField = dataReader.GetGuid(25);
                                instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(26);
                                instance.<Description>k__BackingField = dataReader.IsDBNull(27) ? default(string) : dataReader.GetString(27);
                                instance.<LastModifiedAt>k__BackingField = dataReader.IsDBNull(28) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(28);
                                instance.<LastModifiedBy>k__BackingField = dataReader.IsDBNull(29) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(29);
                                instance.<Price>k__BackingField = dataReader.IsDBNull(30) ? default(decimal?) : (decimal?)dataReader.GetDecimal(30);
                                instance.<PublisherId>k__BackingField = dataReader.IsDBNull(31) ? default(Guid?) : (Guid?)dataReader.GetGuid(31);
                                instance.<Quantity>k__BackingField = dataReader.GetInt32(32);
                                instance.<Title>k__BackingField = dataReader.IsDBNull(33) ? default(string) : dataReader.GetString(33);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext3.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Book | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("LibraryManagmentSystem.Entities.Book")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Book)
                }
                ;
                entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType3, 
                    entity: instance3, 
                    snapshot: shadowSnapshot3);
                return instance3;
            } : default(void);
            return instance3;
        };
        ShaperProcessingExpressionVisitor.IncludeReference<BookRentals, BookRentals, User>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: BookRentals.Customer (User) ToPrincipal User Inverse: BookRentals | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Entities.BookRentals").FindNavigation("Customer")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: User.BookRentals (ICollection<BookRentals>) Collection ToDependent BookRentals Inverse: Customer | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Identity.User").FindNavigation("BookRentals")], 
            fixup: (namelessParameter{11}, namelessParameter{12}) => 
            {
                namelessParameter{11}.<Customer>k__BackingField = namelessParameter{12};
                return [LIFTABLE Constant: ClrICollectionAccessor<User, ICollection<BookRentals>, BookRentals> | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Identity.User").FindNavigation("BookRentals").GetCollectionAccessor()].Add(
                    entity: namelessParameter{12}, 
                    value: namelessParameter{11}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<BookRentals, BookRentals, Book>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: BookRentals.Book (Book) ToPrincipal Book Inverse: BookRentals | Resolver: namelessParameter{14} => namelessParameter{14}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Entities.BookRentals").FindNavigation("Book")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Book.BookRentals (ICollection<BookRentals>) Collection ToDependent BookRentals Inverse: Book | Resolver: namelessParameter{15} => namelessParameter{15}.Dependencies.Model.FindEntityType("LibraryManagmentSystem.Entities.Book").FindNavigation("BookRentals")], 
            fixup: (namelessParameter{16}, namelessParameter{17}) => 
            {
                namelessParameter{16}.<Book>k__BackingField = namelessParameter{17};
                return [LIFTABLE Constant: ClrICollectionAccessor<Book, ICollection<BookRentals>, BookRentals> | Resolver: namelessParameter{18} => namelessParameter{18}.Dependencies.Model.FindEntityType("LibraryManagmentSystem.Entities.Book").FindNavigation("BookRentals").GetCollectionAccessor()].Add(
                    entity: namelessParameter{17}, 
                    value: namelessParameter{16}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        return entity;
    }, 
    contextType: LibraryManagmentSystem.Data.LibraryContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)' 
2025-09-18 15:44:48.1631|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2025-09-18 15:44:48.1865|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (19ms). 
2025-09-18 15:44:48.1901|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:44:48.4922|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:44:48.4922|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2025-09-18 15:44:48.5053|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (3ms). 
2025-09-18 15:44:48.5053|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (10ms). 
2025-09-18 15:44:48.5053|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[CustomerId], [b].[Price], [b].[Quantity], [b].[RentEndDate], [b].[RentStartDate], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateCreated], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [b0].[Id], [b0].[CreatedAt], [b0].[Description], [b0].[LastModifiedAt], [b0].[LastModifiedBy], [b0].[Price], [b0].[PublisherId], [b0].[Quantity], [b0].[Title]
FROM [BookRentals] AS [b]
INNER JOIN [AspNetUsers] AS [a] ON [b].[CustomerId] = [a].[Id]
INNER JOIN [Books] AS [b0] ON [b].[BookId] = [b0].[Id] 
2025-09-18 15:44:48.5805|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (65ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[CustomerId], [b].[Price], [b].[Quantity], [b].[RentEndDate], [b].[RentStartDate], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateCreated], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [b0].[Id], [b0].[CreatedAt], [b0].[Description], [b0].[LastModifiedAt], [b0].[LastModifiedBy], [b0].[Price], [b0].[PublisherId], [b0].[Quantity], [b0].[Title]
FROM [BookRentals] AS [b]
INNER JOIN [AspNetUsers] AS [a] ON [b].[CustomerId] = [a].[Id]
INNER JOIN [Books] AS [b0] ON [b].[BookId] = [b0].[Id] 
2025-09-18 15:44:48.6253|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:44:48.6801|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:44:48.6801|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:44:48.7230|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Book' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:44:48.7230|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:44:48.7465|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:44:48.7465|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Book' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:44:48.7465|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:44:48.7465|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:44:48.7465|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:44:48.7465|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:44:48.7465|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Book' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:44:48.7465|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:44:48.7465|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:44:48.7465|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:44:48.7465|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:44:48.7465|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:44:48.7465|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:44:48.7465|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:44:48.7465|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:44:48.7465|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:44:48.7465|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:44:48.7465|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:44:48.7540|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:44:48.7540|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'LibraryDb' on server 'LAPTOP-4LPUPLC4' is being disposed after spending 173ms reading results. 
2025-09-18 15:44:48.7540|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:44:48.7693|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4' (5ms). 
2025-09-18 15:44:48.7693|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<ReturnedRental>()
    .Include(r => r.Book)
    .Include(r => r.Customer)' 
2025-09-18 15:44:48.7693|10112|DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'ReturnedRental.Book'. 
2025-09-18 15:44:48.7693|10112|DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'ReturnedRental.Customer'. 
2025-09-18 15:44:48.7953|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<ReturnedRental>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: ReturnedRental.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ReturnedRental.BookId (Guid) Required FK Index, 1], [Property: ReturnedRental.BookTitle (string) Required, 2], [Property: ReturnedRental.CustomerId (string) Required FK Index, 3], [Property: ReturnedRental.CustomerName (string) Required, 4], [Property: ReturnedRental.Price (double) Required, 5], [Property: ReturnedRental.Quantity (int) Required, 6], [Property: ReturnedRental.RentedAt (DateTime) Required, 7], [Property: ReturnedRental.ReturnedAt (DateTime) Required, 8] }
            1 -> Dictionary<IProperty, int> { [Property: Book.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: Book.CreatedAt (DateTime) Required, 10], [Property: Book.Description (string), 11], [Property: Book.LastModifiedAt (DateTime?), 12], [Property: Book.LastModifiedBy (DateTime?), 13], [Property: Book.Price (decimal?), 14], [Property: Book.PublisherId (Guid?) FK Index, 15], [Property: Book.Quantity (int) Required, 16], [Property: Book.Title (string), 17] }
            2 -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 18], [Property: User.AccessFailedCount (int) Required, 19], [Property: User.ConcurrencyStamp (string) Concurrency, 20], [Property: User.DateCreated (DateTime) Required, 21], [Property: User.Email (string) MaxLength(256), 22], [Property: User.EmailConfirmed (bool) Required, 23], [Property: User.FirstName (string) Required, 24], [Property: User.LastName (string) Required, 25], [Property: User.LockoutEnabled (bool) Required, 26], [Property: User.LockoutEnd (DateTimeOffset?), 27], [Property: User.NormalizedEmail (string) Index MaxLength(256), 28], [Property: User.NormalizedUserName (string) Index MaxLength(256), 29], [Property: User.PasswordHash (string), 30], [Property: User.PhoneNumber (string), 31], [Property: User.PhoneNumberConfirmed (bool) Required, 32], [Property: User.SecurityStamp (string), 33], [Property: User.TwoFactorEnabled (bool) Required, 34], [Property: User.UserName (string) MaxLength(256), 35] }
        SELECT r.Id, r.BookId, r.BookTitle, r.CustomerId, r.CustomerName, r.Price, r.Quantity, r.RentedAt, r.ReturnedAt, b.Id, b.CreatedAt, b.Description, b.LastModifiedAt, b.LastModifiedBy, b.Price, b.PublisherId, b.Quantity, b.Title, a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.DateCreated, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
        FROM ReturnedRentals AS r
        INNER JOIN Books AS b ON r.BookId == b.Id
        INNER JOIN AspNetUsers AS a ON r.CustomerId == a.Id) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: ReturnedRental.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ReturnedRental.BookId (Guid) Required FK Index, 1], [Property: ReturnedRental.BookTitle (string) Required, 2], [Property: ReturnedRental.CustomerId (string) Required FK Index, 3], [Property: ReturnedRental.CustomerName (string) Required, 4], [Property: ReturnedRental.Price (double) Required, 5], [Property: ReturnedRental.Quantity (int) Required, 6], [Property: ReturnedRental.RentedAt (DateTime) Required, 7], [Property: ReturnedRental.ReturnedAt (DateTime) Required, 8] }
            1 -> Dictionary<IProperty, int> { [Property: Book.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: Book.CreatedAt (DateTime) Required, 10], [Property: Book.Description (string), 11], [Property: Book.LastModifiedAt (DateTime?), 12], [Property: Book.LastModifiedBy (DateTime?), 13], [Property: Book.Price (decimal?), 14], [Property: Book.PublisherId (Guid?) FK Index, 15], [Property: Book.Quantity (int) Required, 16], [Property: Book.Title (string), 17] }
            2 -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 18], [Property: User.AccessFailedCount (int) Required, 19], [Property: User.ConcurrencyStamp (string) Concurrency, 20], [Property: User.DateCreated (DateTime) Required, 21], [Property: User.Email (string) MaxLength(256), 22], [Property: User.EmailConfirmed (bool) Required, 23], [Property: User.FirstName (string) Required, 24], [Property: User.LastName (string) Required, 25], [Property: User.LockoutEnabled (bool) Required, 26], [Property: User.LockoutEnd (DateTimeOffset?), 27], [Property: User.NormalizedEmail (string) Index MaxLength(256), 28], [Property: User.NormalizedUserName (string) Index MaxLength(256), 29], [Property: User.PasswordHash (string), 30], [Property: User.PhoneNumber (string), 31], [Property: User.PhoneNumberConfirmed (bool) Required, 32], [Property: User.SecurityStamp (string), 33], [Property: User.TwoFactorEnabled (bool) Required, 34], [Property: User.UserName (string) MaxLength(256), 35] }
        SELECT r.Id, r.BookId, r.BookTitle, r.CustomerId, r.CustomerName, r.Price, r.Quantity, r.RentedAt, r.ReturnedAt, b.Id, b.CreatedAt, b.Description, b.LastModifiedAt, b.LastModifiedBy, b.Price, b.PublisherId, b.Quantity, b.Title, a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.DateCreated, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
        FROM ReturnedRentals AS r
        INNER JOIN Books AS b ON r.BookId == b.Id
        INNER JOIN AspNetUsers AS a ON r.CustomerId == a.Id, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        ReturnedRental entity;
        Book entity;
        User entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            ReturnedRental instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(ReturnedRental);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: ReturnedRental.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Entities.ReturnedRental").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (ReturnedRental)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: ReturnedRental | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Entities.ReturnedRental")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: ReturnedRental | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Entities.ReturnedRental")]: 
                        {
                            return 
                            {
                                ReturnedRental instance;
                                instance = new ReturnedRental();
                                instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                instance.<BookId>k__BackingField = dataReader.GetGuid(1);
                                instance.<BookTitle>k__BackingField = dataReader.GetString(2);
                                instance.<CustomerId>k__BackingField = dataReader.GetString(3);
                                instance.<CustomerName>k__BackingField = dataReader.GetString(4);
                                instance.<Price>k__BackingField = dataReader.GetDouble(5);
                                instance.<Quantity>k__BackingField = dataReader.GetInt32(6);
                                instance.<RentedAt>k__BackingField = dataReader.GetDateTime(7);
                                instance.<ReturnedAt>k__BackingField = dataReader.GetDateTime(8);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: ReturnedRental | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Entities.ReturnedRental")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(ReturnedRental)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        entity = 
        {
            MaterializationContext materializationContext2;
            IEntityType entityType2;
            Book instance2;
            InternalEntityEntry entry2;
            bool hasNullKey2;
            materializationContext2 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance2 = default(Book);
            entry2 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Book.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("LibraryManagmentSystem.Entities.Book").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(9) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey2);
            !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
            {
                entityType2 = entry2.EntityType;
                return instance2 = (Book)entry2.Entity;
            } : 
            {
                ISnapshot shadowSnapshot2;
                shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType2 = [LIFTABLE Constant: EntityType: Book | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("LibraryManagmentSystem.Entities.Book")];
                instance2 = switch (entityType2)
                {
                    case [LIFTABLE Constant: EntityType: Book | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("LibraryManagmentSystem.Entities.Book")]: 
                        {
                            return 
                            {
                                Book instance;
                                instance = new Book();
                                instance.<Id>k__BackingField = dataReader.GetGuid(9);
                                instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(10);
                                instance.<Description>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                instance.<LastModifiedAt>k__BackingField = dataReader.IsDBNull(12) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(12);
                                instance.<LastModifiedBy>k__BackingField = dataReader.IsDBNull(13) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(13);
                                instance.<Price>k__BackingField = dataReader.IsDBNull(14) ? default(decimal?) : (decimal?)dataReader.GetDecimal(14);
                                instance.<PublisherId>k__BackingField = dataReader.IsDBNull(15) ? default(Guid?) : (Guid?)dataReader.GetGuid(15);
                                instance.<Quantity>k__BackingField = dataReader.GetInt32(16);
                                instance.<Title>k__BackingField = dataReader.IsDBNull(17) ? default(string) : dataReader.GetString(17);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext2.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Book | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("LibraryManagmentSystem.Entities.Book")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Book)
                }
                ;
                entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType2, 
                    entity: instance2, 
                    snapshot: shadowSnapshot2);
                return instance2;
            } : default(void);
            return instance2;
        };
        entity = 
        {
            MaterializationContext materializationContext3;
            IEntityType entityType3;
            User instance3;
            InternalEntityEntry entry3;
            bool hasNullKey3;
            materializationContext3 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance3 = default(User);
            entry3 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Identity.User").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetString(18) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey3);
            !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
            {
                entityType3 = entry3.EntityType;
                return instance3 = (User)entry3.Entity;
            } : 
            {
                ISnapshot shadowSnapshot3;
                shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType3 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Identity.User")];
                instance3 = switch (entityType3)
                {
                    case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Identity.User")]: 
                        {
                            return 
                            {
                                User instance;
                                instance = new User();
                                instance.<Id>k__BackingField = dataReader.GetString(18);
                                instance.<AccessFailedCount>k__BackingField = dataReader.GetInt32(19);
                                instance.<ConcurrencyStamp>k__BackingField = dataReader.IsDBNull(20) ? default(string) : dataReader.GetString(20);
                                instance.<DateCreated>k__BackingField = dataReader.GetDateTime(21);
                                instance.<Email>k__BackingField = dataReader.IsDBNull(22) ? default(string) : dataReader.GetString(22);
                                instance.<EmailConfirmed>k__BackingField = dataReader.GetBoolean(23);
                                instance.<FirstName>k__BackingField = dataReader.GetString(24);
                                instance.<LastName>k__BackingField = dataReader.GetString(25);
                                instance.<LockoutEnabled>k__BackingField = dataReader.GetBoolean(26);
                                instance.<LockoutEnd>k__BackingField = dataReader.IsDBNull(27) ? default(DateTimeOffset?) : (DateTimeOffset?)dataReader.GetFieldValue<DateTimeOffset>(27);
                                instance.<NormalizedEmail>k__BackingField = dataReader.IsDBNull(28) ? default(string) : dataReader.GetString(28);
                                instance.<NormalizedUserName>k__BackingField = dataReader.IsDBNull(29) ? default(string) : dataReader.GetString(29);
                                instance.<PasswordHash>k__BackingField = dataReader.IsDBNull(30) ? default(string) : dataReader.GetString(30);
                                instance.<PhoneNumber>k__BackingField = dataReader.IsDBNull(31) ? default(string) : dataReader.GetString(31);
                                instance.<PhoneNumberConfirmed>k__BackingField = dataReader.GetBoolean(32);
                                instance.<SecurityStamp>k__BackingField = dataReader.IsDBNull(33) ? default(string) : dataReader.GetString(33);
                                instance.<TwoFactorEnabled>k__BackingField = dataReader.GetBoolean(34);
                                instance.<UserName>k__BackingField = dataReader.IsDBNull(35) ? default(string) : dataReader.GetString(35);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext3.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Identity.User")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(User)
                }
                ;
                entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType3, 
                    entity: instance3, 
                    snapshot: shadowSnapshot3);
                return instance3;
            } : default(void);
            return instance3;
        };
        ShaperProcessingExpressionVisitor.IncludeReference<ReturnedRental, ReturnedRental, Book>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: ReturnedRental.Book (Book) ToPrincipal Book | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Entities.ReturnedRental").FindNavigation("Book")], 
            inverseNavigation: default(INavigation), 
            fixup: (namelessParameter{10}, namelessParameter{11}) => 
            {
                return namelessParameter{10}.<Book>k__BackingField = namelessParameter{11};
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<ReturnedRental, ReturnedRental, User>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: ReturnedRental.Customer (User) ToPrincipal User | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Entities.ReturnedRental").FindNavigation("Customer")], 
            inverseNavigation: default(INavigation), 
            fixup: (namelessParameter{13}, namelessParameter{14}) => 
            {
                return namelessParameter{13}.<Customer>k__BackingField = namelessParameter{14};
            }, 
            trackingQuery: True);
        return entity;
    }, 
    contextType: LibraryManagmentSystem.Data.LibraryContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)' 
2025-09-18 15:44:48.7953|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:44:48.8197|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:44:48.8197|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2025-09-18 15:44:48.8197|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2025-09-18 15:44:48.8197|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2025-09-18 15:44:48.8197|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[BookId], [r].[BookTitle], [r].[CustomerId], [r].[CustomerName], [r].[Price], [r].[Quantity], [r].[RentedAt], [r].[ReturnedAt], [b].[Id], [b].[CreatedAt], [b].[Description], [b].[LastModifiedAt], [b].[LastModifiedBy], [b].[Price], [b].[PublisherId], [b].[Quantity], [b].[Title], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateCreated], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [ReturnedRentals] AS [r]
INNER JOIN [Books] AS [b] ON [r].[BookId] = [b].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [r].[CustomerId] = [a].[Id] 
2025-09-18 15:44:48.8320|20102|ERROR|Microsoft.EntityFrameworkCore.Database.Command|Failed executing DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[BookId], [r].[BookTitle], [r].[CustomerId], [r].[CustomerName], [r].[Price], [r].[Quantity], [r].[RentedAt], [r].[ReturnedAt], [b].[Id], [b].[CreatedAt], [b].[Description], [b].[LastModifiedAt], [b].[LastModifiedBy], [b].[Price], [b].[PublisherId], [b].[Quantity], [b].[Title], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateCreated], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [ReturnedRentals] AS [r]
INNER JOIN [Books] AS [b] ON [r].[BookId] = [b].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [r].[CustomerId] = [a].[Id] 
2025-09-18 15:44:48.8320|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:44:48.8320|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4' (0ms). 
2025-09-18 15:44:48.8320|10100|ERROR|Microsoft.EntityFrameworkCore.Query|An exception occurred while iterating over the results of a query for context type 'LibraryManagmentSystem.Data.LibraryContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'ReturnedRentals'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:61eb81d7-4024-4df6-ac66-d17b796f2d84
Error Number:208,State:1,Class:16 Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'ReturnedRentals'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:61eb81d7-4024-4df6-ac66-d17b796f2d84
Error Number:208,State:1,Class:16
2025-09-18 15:45:19.3290|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 15:45:19.3290|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 15:45:19.3290|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 15:45:19.3290|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 15:45:19.3354|105|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action LibraryManagementSystem.API.Controllers.ReportsController.ExportRentals (LibraryManagementSystem.API) in 32883.4392ms 
2025-09-18 15:45:19.3354|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'LibraryManagementSystem.API.Controllers.ReportsController.ExportRentals (LibraryManagementSystem.API)' 
2025-09-18 15:45:19.3487|0|ERROR|LibraryManagementSystem.API.Exceptions.GlobalExceptionHandlerMiddleWare|_ WHAT HAVE YOU DONE!!! Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'ReturnedRentals'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at LibraryManagementSystem.Data.Data.Repositories.LibraryGenericRepo`1.GetAllWithIncludesAsync(Expression`1[] includes) in C:\Users\Remah\Desktop\AST\Projects\LibraryManagementSystem\LibraryManagementSystem.Data\Repositories\LibraryGenericRepo.cs:line 62
   at LibraryManagementSystem.API.Services.ReturnedRentalService.GetAllBookReturnedRentalsWithIncludes() in C:\Users\Remah\Desktop\AST\Projects\LibraryManagementSystem\LibraryManagementSystem\Services\ReturnedRentalService.cs:line 40
ClientConnectionId:61eb81d7-4024-4df6-ac66-d17b796f2d84
Error Number:208,State:1,Class:16
2025-09-18 15:45:19.3873|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM4ITP0S0" sending HEADERS frame for stream ID 1 with length 59 and flags END_HEADERS. 
2025-09-18 15:45:19.3873|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM4ITP0S0" sending DATA frame for stream ID 1 with length 122 and flags END_STREAM. 
2025-09-18 15:45:19.3873|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'LibraryContext' disposed. 
2025-09-18 15:45:19.3873|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM4ITP0S0" received WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2025-09-18 15:45:19.3873|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:45:19.3937|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (1ms). 
2025-09-18 15:45:19.3937|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7143/api/Reports/export-rentals - 500 - application/json 33129.2195ms 
2025-09-18 15:45:26.4011|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM4ITP0S0" received HEADERS frame for stream ID 3 with length 42 and flags END_STREAM, END_HEADERS, PRIORITY. 
2025-09-18 15:45:26.4011|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7143/api/Reports/export-rentals - - - 
2025-09-18 15:45:26.4011|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 15:45:26.4011|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/Reports/export-rentals' 
2025-09-18 15:45:26.4011|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'LibraryManagementSystem.API.Controllers.ReportsController.ExportRentals (LibraryManagementSystem.API)' with route pattern 'api/Reports/export-rentals' is valid for the request path '/api/Reports/export-rentals' 
2025-09-18 15:45:26.4011|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'LibraryManagementSystem.API.Controllers.ReportsController.ExportRentals (LibraryManagementSystem.API)' 
2025-09-18 15:45:26.4011|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 15:45:26.4423|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2025-09-18 15:45:26.4423|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'LibraryManagementSystem.API.Controllers.ReportsController.ExportRentals (LibraryManagementSystem.API)' 
2025-09-18 15:45:26.4423|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "ExportRentals", controller = "Reports"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ExportRentals(LibraryManagementSystem.API.Services.ExcelExportService) on controller LibraryManagementSystem.API.Controllers.ReportsController (LibraryManagementSystem.API). 
2025-09-18 15:45:26.4423|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2025-09-18 15:45:26.4423|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2025-09-18 15:45:26.4423|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2025-09-18 15:45:26.4423|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2025-09-18 15:45:26.4423|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2025-09-18 15:45:26.4423|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller LibraryManagementSystem.API.Controllers.ReportsController (LibraryManagementSystem.API) 
2025-09-18 15:45:26.4423|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller LibraryManagementSystem.API.Controllers.ReportsController (LibraryManagementSystem.API) 
2025-09-18 15:45:26.4423|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'excelExportService' of type 'LibraryManagementSystem.API.Services.ExcelExportService' ... 
2025-09-18 15:45:26.4423|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'excelExportService' of type 'LibraryManagementSystem.API.Services.ExcelExportService'. 
2025-09-18 15:45:26.4423|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'excelExportService' of type 'LibraryManagementSystem.API.Services.ExcelExportService' ... 
2025-09-18 15:45:26.4423|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'excelExportService' of type 'LibraryManagementSystem.API.Services.ExcelExportService'. 
2025-09-18 15:45:26.4423|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 15:45:26.4423|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 15:45:26.4423|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 15:45:26.4423|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 15:45:26.4423|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method LibraryManagementSystem.API.Controllers.ReportsController.ExportRentals (LibraryManagementSystem.API) - Validation state: Valid 
2025-09-18 15:45:26.4423|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method LibraryManagementSystem.API.Controllers.ReportsController.ExportRentals (LibraryManagementSystem.API) with arguments (LibraryManagementSystem.API.Services.ExcelExportService) 
2025-09-18 15:45:26.4851|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 9.0.8 initialized 'LibraryContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.8' with options: EngineType=SqlServer  
2025-09-18 15:45:26.4874|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2025-09-18 15:45:26.4874|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2025-09-18 15:45:26.4874|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:45:26.5118|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:45:26.5118|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2025-09-18 15:45:26.5118|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2025-09-18 15:45:26.5118|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2025-09-18 15:45:26.5118|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[CustomerId], [b].[Price], [b].[Quantity], [b].[RentEndDate], [b].[RentStartDate], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateCreated], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [b0].[Id], [b0].[CreatedAt], [b0].[Description], [b0].[LastModifiedAt], [b0].[LastModifiedBy], [b0].[Price], [b0].[PublisherId], [b0].[Quantity], [b0].[Title]
FROM [BookRentals] AS [b]
INNER JOIN [AspNetUsers] AS [a] ON [b].[CustomerId] = [a].[Id]
INNER JOIN [Books] AS [b0] ON [b].[BookId] = [b0].[Id] 
2025-09-18 15:45:26.5187|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[CustomerId], [b].[Price], [b].[Quantity], [b].[RentEndDate], [b].[RentStartDate], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateCreated], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [b0].[Id], [b0].[CreatedAt], [b0].[Description], [b0].[LastModifiedAt], [b0].[LastModifiedBy], [b0].[Price], [b0].[PublisherId], [b0].[Quantity], [b0].[Title]
FROM [BookRentals] AS [b]
INNER JOIN [AspNetUsers] AS [a] ON [b].[CustomerId] = [a].[Id]
INNER JOIN [Books] AS [b0] ON [b].[BookId] = [b0].[Id] 
2025-09-18 15:45:26.5187|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:45:26.5187|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:45:26.5187|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:45:26.5187|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Book' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:45:26.5187|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:45:26.5187|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:45:26.5187|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Book' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:45:26.5187|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:45:26.5187|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:45:26.5187|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:45:26.5187|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:45:26.5187|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Book' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:45:26.5187|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:45:26.5187|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:45:26.5187|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:45:26.5187|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:45:26.5187|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:45:26.5187|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:45:26.5187|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:45:26.5187|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:45:26.5187|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:45:26.5187|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:45:26.5187|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:45:26.5187|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:45:26.5187|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'LibraryDb' on server 'LAPTOP-4LPUPLC4' is being disposed after spending 3ms reading results. 
2025-09-18 15:45:26.5187|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:45:26.5187|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4' (0ms). 
2025-09-18 15:45:26.5187|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:45:26.5351|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:45:26.5351|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2025-09-18 15:45:26.5351|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2025-09-18 15:45:26.5351|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2025-09-18 15:45:26.5351|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[BookId], [r].[BookTitle], [r].[CustomerId], [r].[CustomerName], [r].[Price], [r].[Quantity], [r].[RentedAt], [r].[ReturnedAt], [b].[Id], [b].[CreatedAt], [b].[Description], [b].[LastModifiedAt], [b].[LastModifiedBy], [b].[Price], [b].[PublisherId], [b].[Quantity], [b].[Title], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateCreated], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [ReturnedRentals] AS [r]
INNER JOIN [Books] AS [b] ON [r].[BookId] = [b].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [r].[CustomerId] = [a].[Id] 
2025-09-18 15:45:26.5351|20102|ERROR|Microsoft.EntityFrameworkCore.Database.Command|Failed executing DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[BookId], [r].[BookTitle], [r].[CustomerId], [r].[CustomerName], [r].[Price], [r].[Quantity], [r].[RentedAt], [r].[ReturnedAt], [b].[Id], [b].[CreatedAt], [b].[Description], [b].[LastModifiedAt], [b].[LastModifiedBy], [b].[Price], [b].[PublisherId], [b].[Quantity], [b].[Title], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateCreated], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [ReturnedRentals] AS [r]
INNER JOIN [Books] AS [b] ON [r].[BookId] = [b].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [r].[CustomerId] = [a].[Id] 
2025-09-18 15:45:26.5351|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:45:26.5351|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4' (0ms). 
2025-09-18 15:45:26.5351|10100|ERROR|Microsoft.EntityFrameworkCore.Query|An exception occurred while iterating over the results of a query for context type 'LibraryManagmentSystem.Data.LibraryContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'ReturnedRentals'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:d7bd91a2-329e-4bc6-94a3-c8a22c6b99f7
Error Number:208,State:1,Class:16 Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'ReturnedRentals'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:d7bd91a2-329e-4bc6-94a3-c8a22c6b99f7
Error Number:208,State:1,Class:16
2025-09-18 15:45:29.1052|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 15:45:29.1052|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 15:45:29.1052|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 15:45:29.1052|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 15:45:29.1052|105|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action LibraryManagementSystem.API.Controllers.ReportsController.ExportRentals (LibraryManagementSystem.API) in 2663.0753ms 
2025-09-18 15:45:29.1052|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'LibraryManagementSystem.API.Controllers.ReportsController.ExportRentals (LibraryManagementSystem.API)' 
2025-09-18 15:45:29.1189|0|ERROR|LibraryManagementSystem.API.Exceptions.GlobalExceptionHandlerMiddleWare|_ WHAT HAVE YOU DONE!!! Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'ReturnedRentals'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at LibraryManagementSystem.Data.Data.Repositories.LibraryGenericRepo`1.GetAllWithIncludesAsync(Expression`1[] includes) in C:\Users\Remah\Desktop\AST\Projects\LibraryManagementSystem\LibraryManagementSystem.Data\Repositories\LibraryGenericRepo.cs:line 62
   at LibraryManagementSystem.API.Services.ReturnedRentalService.GetAllBookReturnedRentalsWithIncludes() in C:\Users\Remah\Desktop\AST\Projects\LibraryManagementSystem\LibraryManagementSystem\Services\ReturnedRentalService.cs:line 40
ClientConnectionId:d7bd91a2-329e-4bc6-94a3-c8a22c6b99f7
Error Number:208,State:1,Class:16
2025-09-18 15:45:29.1189|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM4ITP0S0" sending HEADERS frame for stream ID 3 with length 34 and flags END_HEADERS. 
2025-09-18 15:45:29.1189|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'LibraryContext' disposed. 
2025-09-18 15:45:29.1189|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM4ITP0S0" sending DATA frame for stream ID 3 with length 122 and flags END_STREAM. 
2025-09-18 15:45:29.1189|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:45:29.1189|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2025-09-18 15:45:29.1189|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7143/api/Reports/export-rentals - 500 - application/json 2720.2843ms 
2025-09-18 15:45:29.1189|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM4ITP0S0" received WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2025-09-18 15:47:29.0547|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMM4ITP0S0" received FIN. 
2025-09-18 15:47:29.0547|48|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM4ITP0S0" is closed. The last processed stream ID was 3. 
2025-09-18 15:47:29.0547|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMM4ITP0S0" sending FIN because: "The Socket transport's send loop completed gracefully." 
2025-09-18 15:47:29.0547|62|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Http2|The connection queue processing loop for 0HNFMM4ITP0S0 completed. 
2025-09-18 15:47:29.0665|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMM4ITP0S0" stopped. 
2025-09-18 15:52:02.7539|0|DEBUG|LibraryManagementSystem.API.Program|init main 
2025-09-18 15:52:03.1731|0|INFO|LibraryManagementSystem.API.Program|✅ Test log: Application started 
2025-09-18 15:52:03.7322|12|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider 
2025-09-18 15:52:03.8101|1|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting starting 
2025-09-18 15:52:03.8445|63|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\Remah\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
2025-09-18 15:52:03.8537|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\Remah\AppData\Local\ASP.NET\DataProtection-Keys\key-0eadaaaa-7e78-4b9a-b5c6-d6842d7acf5d.xml'. 
2025-09-18 15:52:03.8686|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\Remah\AppData\Local\ASP.NET\DataProtection-Keys\key-90e9434f-347d-4778-9235-65398a291d04.xml'. 
2025-09-18 15:52:03.8686|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {0eadaaaa-7e78-4b9a-b5c6-d6842d7acf5d}. 
2025-09-18 15:52:03.8777|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {90e9434f-347d-4778-9235-65398a291d04}. 
2025-09-18 15:52:03.8777|13|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver|Considering key {0eadaaaa-7e78-4b9a-b5c6-d6842d7acf5d} with expiration date 2025-10-28 11:37:33Z as default key. 
2025-09-18 15:52:03.8777|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2025-09-18 15:52:03.8777|51|DEBUG|Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor|Decrypting secret element using Windows DPAPI. 
2025-09-18 15:52:03.8777|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2025-09-18 15:52:03.8935|4|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC. 
2025-09-18 15:52:03.8935|3|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC. 
2025-09-18 15:52:03.8935|2|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider|Using key {0eadaaaa-7e78-4b9a-b5c6-d6842d7acf5d} as the default key. 
2025-09-18 15:52:03.8935|65|DEBUG|Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService|Key ring with default key {0eadaaaa-7e78-4b9a-b5c6-d6842d7acf5d} was loaded during application startup. 
2025-09-18 15:52:03.8935|0|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BlazorWasmHotReloadMiddleware|Middleware loaded 
2025-09-18 15:52:03.8935|0|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserScriptMiddleware|Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16539 B). 
2025-09-18 15:52:03.8935|0|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserScriptMiddleware|Middleware loaded. Script /_framework/blazor-hotreload.js (799 B). 
2025-09-18 15:52:03.9539|7|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True} 
2025-09-18 15:52:03.9539|0|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Wildcard detected, all requests with hosts will be allowed. 
2025-09-18 15:52:03.9649|0|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware|Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true 
2025-09-18 15:52:04.0763|14|INFO|Microsoft.Hosting.Lifetime|Now listening on: https://localhost:7143 
2025-09-18 15:52:04.0818|14|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5223 
2025-09-18 15:52:04.0818|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly LibraryManagementSystem.API 
2025-09-18 15:52:04.0818|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery 
2025-09-18 15:52:04.0818|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh 
2025-09-18 15:52:04.0818|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net 
2025-09-18 15:52:04.0818|2|DEBUG|Microsoft.AspNetCore.Mvc.ApiExplorer.ApiDescriptionGroupCollectionProvider|Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0. 
2025-09-18 15:52:04.0818|2|DEBUG|Microsoft.AspNetCore.Mvc.ApiExplorer.ApiDescriptionGroupCollectionProvider|Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0. 
2025-09-18 15:52:04.1258|0|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down. 
2025-09-18 15:52:04.1258|0|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development 
2025-09-18 15:52:04.1258|0|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\Remah\Desktop\AST\Projects\LibraryManagementSystem\LibraryManagementSystem 
2025-09-18 15:52:04.1258|2|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting started 
2025-09-18 15:52:06.5227|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMM8M5L5HB" accepted. 
2025-09-18 15:52:06.5227|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMM8M5L5HB" started. 
2025-09-18 15:52:06.5752|3|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Connection 0HNFMM8M5L5HB established using the following protocol: Tls13 
2025-09-18 15:52:06.5938|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM8M5L5HB" sending SETTINGS frame for stream ID 0 with length 24 and flags NONE. 
2025-09-18 15:52:06.5987|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM8M5L5HB" sending WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2025-09-18 15:52:06.5987|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM8M5L5HB" received SETTINGS frame for stream ID 0 with length 24 and flags NONE. 
2025-09-18 15:52:06.5987|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM8M5L5HB" sending SETTINGS frame for stream ID 0 with length 0 and flags ACK. 
2025-09-18 15:52:06.5987|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM8M5L5HB" received WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2025-09-18 15:52:06.5987|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM8M5L5HB" received HEADERS frame for stream ID 1 with length 401 and flags END_STREAM, END_HEADERS, PRIORITY. 
2025-09-18 15:52:06.5987|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMM8M5L5HB" received SETTINGS frame for stream ID 0 with length 0 and flags ACK. 
2025-09-18 15:52:06.6249|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7143/api/Reports/export-rentals - - - 
2025-09-18 15:52:06.6350|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 15:52:06.6791|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/Reports/export-rentals' 
2025-09-18 15:52:06.6791|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'LibraryManagementSystem.API.Controllers.ReportsController.ExportRentals (LibraryManagementSystem.API)' with route pattern 'api/Reports/export-rentals' is valid for the request path '/api/Reports/export-rentals' 
2025-09-18 15:52:06.6791|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'LibraryManagementSystem.API.Controllers.ReportsController.ExportRentals (LibraryManagementSystem.API)' 
2025-09-18 15:52:06.6791|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 15:52:06.7571|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2025-09-18 15:52:06.7571|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'LibraryManagementSystem.API.Controllers.ReportsController.ExportRentals (LibraryManagementSystem.API)' 
2025-09-18 15:52:06.7930|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "ExportRentals", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExportRentals(LibraryManagementSystem.API.Services.ExcelExportService) on controller LibraryManagementSystem.API.Controllers.ReportsController (LibraryManagementSystem.API). 
2025-09-18 15:52:06.7930|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2025-09-18 15:52:06.7930|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2025-09-18 15:52:06.7930|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2025-09-18 15:52:06.7930|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2025-09-18 15:52:06.7930|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2025-09-18 15:52:06.7930|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller LibraryManagementSystem.API.Controllers.ReportsController (LibraryManagementSystem.API) 
2025-09-18 15:52:06.9002|10401|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|An 'IServiceProvider' was created for internal use by Entity Framework. 
2025-09-18 15:52:06.9297|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller LibraryManagementSystem.API.Controllers.ReportsController (LibraryManagementSystem.API) 
2025-09-18 15:52:06.9297|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'excelExportService' of type 'LibraryManagementSystem.API.Services.ExcelExportService' ... 
2025-09-18 15:52:06.9415|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'excelExportService' of type 'LibraryManagementSystem.API.Services.ExcelExportService'. 
2025-09-18 15:52:06.9415|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'excelExportService' of type 'LibraryManagementSystem.API.Services.ExcelExportService' ... 
2025-09-18 15:52:06.9415|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'excelExportService' of type 'LibraryManagementSystem.API.Services.ExcelExportService'. 
2025-09-18 15:52:06.9415|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 15:52:06.9415|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 15:52:06.9415|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 15:52:06.9415|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 15:52:06.9415|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method LibraryManagementSystem.API.Controllers.ReportsController.ExportRentals (LibraryManagementSystem.API) - Validation state: Valid 
2025-09-18 15:52:06.9415|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method LibraryManagementSystem.API.Controllers.ReportsController.ExportRentals (LibraryManagementSystem.API) with arguments (LibraryManagementSystem.API.Services.ExcelExportService) 
2025-09-18 15:52:07.4608|10601|DEBUG|Microsoft.EntityFrameworkCore.Model|The index {'BookId'} was not created on entity type 'BookCategory' as the properties are already covered by the index {'BookId', 'CategoryId'}. 
2025-09-18 15:52:07.4608|10601|DEBUG|Microsoft.EntityFrameworkCore.Model|The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}. 
2025-09-18 15:52:07.4608|10601|DEBUG|Microsoft.EntityFrameworkCore.Model|The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}. 
2025-09-18 15:52:07.6517|30000|WARN|Microsoft.EntityFrameworkCore.Model.Validation|No store type was specified for the decimal property 'Price' on entity type 'Book'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'. 
2025-09-18 15:52:07.7396|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 9.0.8 initialized 'LibraryContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.8' with options: EngineType=SqlServer  
2025-09-18 15:52:07.8087|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<BookRentals>()
    .Include(r => r.Customer)
    .Include(r => r.Book)' 
2025-09-18 15:52:07.8893|10112|DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'BookRentals.Customer'. 
2025-09-18 15:52:07.8893|10112|DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'BookRentals.Book'. 
2025-09-18 15:52:08.1440|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<BookRentals>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: BookRentals.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: BookRentals.BookId (Guid) Required FK Index, 1], [Property: BookRentals.CustomerId (string) Required FK Index, 2], [Property: BookRentals.Price (double) Required, 3], [Property: BookRentals.Quantity (int) Required, 4], [Property: BookRentals.RentEndDate (DateTime) Required, 5], [Property: BookRentals.RentStartDate (DateTime) Required, 6] }
            1 -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 7], [Property: User.AccessFailedCount (int) Required, 8], [Property: User.ConcurrencyStamp (string) Concurrency, 9], [Property: User.DateCreated (DateTime) Required, 10], [Property: User.Email (string) MaxLength(256), 11], [Property: User.EmailConfirmed (bool) Required, 12], [Property: User.FirstName (string) Required, 13], [Property: User.LastName (string) Required, 14], [Property: User.LockoutEnabled (bool) Required, 15], [Property: User.LockoutEnd (DateTimeOffset?), 16], [Property: User.NormalizedEmail (string) Index MaxLength(256), 17], [Property: User.NormalizedUserName (string) Index MaxLength(256), 18], [Property: User.PasswordHash (string), 19], [Property: User.PhoneNumber (string), 20], [Property: User.PhoneNumberConfirmed (bool) Required, 21], [Property: User.SecurityStamp (string), 22], [Property: User.TwoFactorEnabled (bool) Required, 23], [Property: User.UserName (string) MaxLength(256), 24] }
            2 -> Dictionary<IProperty, int> { [Property: Book.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 25], [Property: Book.CreatedAt (DateTime) Required, 26], [Property: Book.Description (string), 27], [Property: Book.LastModifiedAt (DateTime?), 28], [Property: Book.LastModifiedBy (DateTime?), 29], [Property: Book.Price (decimal?), 30], [Property: Book.PublisherId (Guid?) FK Index, 31], [Property: Book.Quantity (int) Required, 32], [Property: Book.Title (string), 33] }
        SELECT b.Id, b.BookId, b.CustomerId, b.Price, b.Quantity, b.RentEndDate, b.RentStartDate, a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.DateCreated, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, b0.Id, b0.CreatedAt, b0.Description, b0.LastModifiedAt, b0.LastModifiedBy, b0.Price, b0.PublisherId, b0.Quantity, b0.Title
        FROM BookRentals AS b
        INNER JOIN AspNetUsers AS a ON b.CustomerId == a.Id
        INNER JOIN Books AS b0 ON b.BookId == b0.Id) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: BookRentals.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: BookRentals.BookId (Guid) Required FK Index, 1], [Property: BookRentals.CustomerId (string) Required FK Index, 2], [Property: BookRentals.Price (double) Required, 3], [Property: BookRentals.Quantity (int) Required, 4], [Property: BookRentals.RentEndDate (DateTime) Required, 5], [Property: BookRentals.RentStartDate (DateTime) Required, 6] }
            1 -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 7], [Property: User.AccessFailedCount (int) Required, 8], [Property: User.ConcurrencyStamp (string) Concurrency, 9], [Property: User.DateCreated (DateTime) Required, 10], [Property: User.Email (string) MaxLength(256), 11], [Property: User.EmailConfirmed (bool) Required, 12], [Property: User.FirstName (string) Required, 13], [Property: User.LastName (string) Required, 14], [Property: User.LockoutEnabled (bool) Required, 15], [Property: User.LockoutEnd (DateTimeOffset?), 16], [Property: User.NormalizedEmail (string) Index MaxLength(256), 17], [Property: User.NormalizedUserName (string) Index MaxLength(256), 18], [Property: User.PasswordHash (string), 19], [Property: User.PhoneNumber (string), 20], [Property: User.PhoneNumberConfirmed (bool) Required, 21], [Property: User.SecurityStamp (string), 22], [Property: User.TwoFactorEnabled (bool) Required, 23], [Property: User.UserName (string) MaxLength(256), 24] }
            2 -> Dictionary<IProperty, int> { [Property: Book.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 25], [Property: Book.CreatedAt (DateTime) Required, 26], [Property: Book.Description (string), 27], [Property: Book.LastModifiedAt (DateTime?), 28], [Property: Book.LastModifiedBy (DateTime?), 29], [Property: Book.Price (decimal?), 30], [Property: Book.PublisherId (Guid?) FK Index, 31], [Property: Book.Quantity (int) Required, 32], [Property: Book.Title (string), 33] }
        SELECT b.Id, b.BookId, b.CustomerId, b.Price, b.Quantity, b.RentEndDate, b.RentStartDate, a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.DateCreated, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, b0.Id, b0.CreatedAt, b0.Description, b0.LastModifiedAt, b0.LastModifiedBy, b0.Price, b0.PublisherId, b0.Quantity, b0.Title
        FROM BookRentals AS b
        INNER JOIN AspNetUsers AS a ON b.CustomerId == a.Id
        INNER JOIN Books AS b0 ON b.BookId == b0.Id, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        BookRentals entity;
        User entity;
        Book entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            BookRentals instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(BookRentals);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: BookRentals.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Entities.BookRentals").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (BookRentals)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: BookRentals | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Entities.BookRentals")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: BookRentals | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Entities.BookRentals")]: 
                        {
                            return 
                            {
                                BookRentals instance;
                                instance = new BookRentals();
                                instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                instance.<BookId>k__BackingField = dataReader.GetGuid(1);
                                instance.<CustomerId>k__BackingField = dataReader.GetString(2);
                                instance.<Price>k__BackingField = dataReader.GetDouble(3);
                                instance.<Quantity>k__BackingField = dataReader.GetInt32(4);
                                instance.<RentEndDate>k__BackingField = dataReader.GetDateTime(5);
                                instance.<RentStartDate>k__BackingField = dataReader.GetDateTime(6);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: BookRentals | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Entities.BookRentals")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(BookRentals)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        entity = 
        {
            MaterializationContext materializationContext2;
            IEntityType entityType2;
            User instance2;
            InternalEntityEntry entry2;
            bool hasNullKey2;
            materializationContext2 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance2 = default(User);
            entry2 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Identity.User").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetString(7) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey2);
            !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
            {
                entityType2 = entry2.EntityType;
                return instance2 = (User)entry2.Entity;
            } : 
            {
                ISnapshot shadowSnapshot2;
                shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType2 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Identity.User")];
                instance2 = switch (entityType2)
                {
                    case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Identity.User")]: 
                        {
                            return 
                            {
                                User instance;
                                instance = new User();
                                instance.<Id>k__BackingField = dataReader.GetString(7);
                                instance.<AccessFailedCount>k__BackingField = dataReader.GetInt32(8);
                                instance.<ConcurrencyStamp>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                instance.<DateCreated>k__BackingField = dataReader.GetDateTime(10);
                                instance.<Email>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                instance.<EmailConfirmed>k__BackingField = dataReader.GetBoolean(12);
                                instance.<FirstName>k__BackingField = dataReader.GetString(13);
                                instance.<LastName>k__BackingField = dataReader.GetString(14);
                                instance.<LockoutEnabled>k__BackingField = dataReader.GetBoolean(15);
                                instance.<LockoutEnd>k__BackingField = dataReader.IsDBNull(16) ? default(DateTimeOffset?) : (DateTimeOffset?)dataReader.GetFieldValue<DateTimeOffset>(16);
                                instance.<NormalizedEmail>k__BackingField = dataReader.IsDBNull(17) ? default(string) : dataReader.GetString(17);
                                instance.<NormalizedUserName>k__BackingField = dataReader.IsDBNull(18) ? default(string) : dataReader.GetString(18);
                                instance.<PasswordHash>k__BackingField = dataReader.IsDBNull(19) ? default(string) : dataReader.GetString(19);
                                instance.<PhoneNumber>k__BackingField = dataReader.IsDBNull(20) ? default(string) : dataReader.GetString(20);
                                instance.<PhoneNumberConfirmed>k__BackingField = dataReader.GetBoolean(21);
                                instance.<SecurityStamp>k__BackingField = dataReader.IsDBNull(22) ? default(string) : dataReader.GetString(22);
                                instance.<TwoFactorEnabled>k__BackingField = dataReader.GetBoolean(23);
                                instance.<UserName>k__BackingField = dataReader.IsDBNull(24) ? default(string) : dataReader.GetString(24);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext2.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Identity.User")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(User)
                }
                ;
                entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType2, 
                    entity: instance2, 
                    snapshot: shadowSnapshot2);
                return instance2;
            } : default(void);
            return instance2;
        };
        entity = 
        {
            MaterializationContext materializationContext3;
            IEntityType entityType3;
            Book instance3;
            InternalEntityEntry entry3;
            bool hasNullKey3;
            materializationContext3 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance3 = default(Book);
            entry3 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Book.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("LibraryManagmentSystem.Entities.Book").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(25) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey3);
            !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
            {
                entityType3 = entry3.EntityType;
                return instance3 = (Book)entry3.Entity;
            } : 
            {
                ISnapshot shadowSnapshot3;
                shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType3 = [LIFTABLE Constant: EntityType: Book | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("LibraryManagmentSystem.Entities.Book")];
                instance3 = switch (entityType3)
                {
                    case [LIFTABLE Constant: EntityType: Book | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("LibraryManagmentSystem.Entities.Book")]: 
                        {
                            return 
                            {
                                Book instance;
                                instance = new Book();
                                instance.<Id>k__BackingField = dataReader.GetGuid(25);
                                instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(26);
                                instance.<Description>k__BackingField = dataReader.IsDBNull(27) ? default(string) : dataReader.GetString(27);
                                instance.<LastModifiedAt>k__BackingField = dataReader.IsDBNull(28) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(28);
                                instance.<LastModifiedBy>k__BackingField = dataReader.IsDBNull(29) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(29);
                                instance.<Price>k__BackingField = dataReader.IsDBNull(30) ? default(decimal?) : (decimal?)dataReader.GetDecimal(30);
                                instance.<PublisherId>k__BackingField = dataReader.IsDBNull(31) ? default(Guid?) : (Guid?)dataReader.GetGuid(31);
                                instance.<Quantity>k__BackingField = dataReader.GetInt32(32);
                                instance.<Title>k__BackingField = dataReader.IsDBNull(33) ? default(string) : dataReader.GetString(33);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext3.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Book | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("LibraryManagmentSystem.Entities.Book")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Book)
                }
                ;
                entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType3, 
                    entity: instance3, 
                    snapshot: shadowSnapshot3);
                return instance3;
            } : default(void);
            return instance3;
        };
        ShaperProcessingExpressionVisitor.IncludeReference<BookRentals, BookRentals, User>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: BookRentals.Customer (User) ToPrincipal User Inverse: BookRentals | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Entities.BookRentals").FindNavigation("Customer")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: User.BookRentals (ICollection<BookRentals>) Collection ToDependent BookRentals Inverse: Customer | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Identity.User").FindNavigation("BookRentals")], 
            fixup: (namelessParameter{11}, namelessParameter{12}) => 
            {
                namelessParameter{11}.<Customer>k__BackingField = namelessParameter{12};
                return [LIFTABLE Constant: ClrICollectionAccessor<User, ICollection<BookRentals>, BookRentals> | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Identity.User").FindNavigation("BookRentals").GetCollectionAccessor()].Add(
                    entity: namelessParameter{12}, 
                    value: namelessParameter{11}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<BookRentals, BookRentals, Book>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: BookRentals.Book (Book) ToPrincipal Book Inverse: BookRentals | Resolver: namelessParameter{14} => namelessParameter{14}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Entities.BookRentals").FindNavigation("Book")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Book.BookRentals (ICollection<BookRentals>) Collection ToDependent BookRentals Inverse: Book | Resolver: namelessParameter{15} => namelessParameter{15}.Dependencies.Model.FindEntityType("LibraryManagmentSystem.Entities.Book").FindNavigation("BookRentals")], 
            fixup: (namelessParameter{16}, namelessParameter{17}) => 
            {
                namelessParameter{16}.<Book>k__BackingField = namelessParameter{17};
                return [LIFTABLE Constant: ClrICollectionAccessor<Book, ICollection<BookRentals>, BookRentals> | Resolver: namelessParameter{18} => namelessParameter{18}.Dependencies.Model.FindEntityType("LibraryManagmentSystem.Entities.Book").FindNavigation("BookRentals").GetCollectionAccessor()].Add(
                    entity: namelessParameter{17}, 
                    value: namelessParameter{16}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        return entity;
    }, 
    contextType: LibraryManagmentSystem.Data.LibraryContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)' 
2025-09-18 15:52:08.1861|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2025-09-18 15:52:08.2036|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (14ms). 
2025-09-18 15:52:08.2064|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:52:08.4779|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:52:08.4779|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2025-09-18 15:52:08.4886|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (3ms). 
2025-09-18 15:52:08.4886|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (10ms). 
2025-09-18 15:52:08.4886|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[CustomerId], [b].[Price], [b].[Quantity], [b].[RentEndDate], [b].[RentStartDate], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateCreated], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [b0].[Id], [b0].[CreatedAt], [b0].[Description], [b0].[LastModifiedAt], [b0].[LastModifiedBy], [b0].[Price], [b0].[PublisherId], [b0].[Quantity], [b0].[Title]
FROM [BookRentals] AS [b]
INNER JOIN [AspNetUsers] AS [a] ON [b].[CustomerId] = [a].[Id]
INNER JOIN [Books] AS [b0] ON [b].[BookId] = [b0].[Id] 
2025-09-18 15:52:08.5559|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (56ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[CustomerId], [b].[Price], [b].[Quantity], [b].[RentEndDate], [b].[RentStartDate], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateCreated], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [b0].[Id], [b0].[CreatedAt], [b0].[Description], [b0].[LastModifiedAt], [b0].[LastModifiedBy], [b0].[Price], [b0].[PublisherId], [b0].[Quantity], [b0].[Title]
FROM [BookRentals] AS [b]
INNER JOIN [AspNetUsers] AS [a] ON [b].[CustomerId] = [a].[Id]
INNER JOIN [Books] AS [b0] ON [b].[BookId] = [b0].[Id] 
2025-09-18 15:52:08.6250|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:52:08.6959|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:52:08.7058|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:52:08.7691|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Book' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:52:08.7691|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:52:08.8010|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:52:08.8010|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Book' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:52:08.8010|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:52:08.8010|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:52:08.8010|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:52:08.8010|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:52:08.8010|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Book' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:52:08.8010|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:52:08.8010|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:52:08.8010|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:52:08.8010|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:52:08.8010|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:52:08.8010|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:52:08.8010|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:52:08.8010|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:52:08.8010|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:52:08.8010|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:52:08.8010|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 15:52:08.8173|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:52:08.8173|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'LibraryDb' on server 'LAPTOP-4LPUPLC4' is being disposed after spending 261ms reading results. 
2025-09-18 15:52:08.8173|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:52:08.8380|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4' (6ms). 
2025-09-18 15:52:08.8380|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<ReturnedRental>()
    .Include(r => r.Book)
    .Include(r => r.Customer)' 
2025-09-18 15:52:08.8380|10112|DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'ReturnedRental.Book'. 
2025-09-18 15:52:08.8380|10112|DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'ReturnedRental.Customer'. 
2025-09-18 15:52:08.8763|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<ReturnedRental>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: ReturnedRental.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ReturnedRental.BookId (Guid) Required FK Index, 1], [Property: ReturnedRental.BookTitle (string) Required, 2], [Property: ReturnedRental.CustomerId (string) Required FK Index, 3], [Property: ReturnedRental.CustomerName (string) Required, 4], [Property: ReturnedRental.Price (double) Required, 5], [Property: ReturnedRental.Quantity (int) Required, 6], [Property: ReturnedRental.RentedAt (DateTime) Required, 7], [Property: ReturnedRental.ReturnedAt (DateTime) Required, 8] }
            1 -> Dictionary<IProperty, int> { [Property: Book.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: Book.CreatedAt (DateTime) Required, 10], [Property: Book.Description (string), 11], [Property: Book.LastModifiedAt (DateTime?), 12], [Property: Book.LastModifiedBy (DateTime?), 13], [Property: Book.Price (decimal?), 14], [Property: Book.PublisherId (Guid?) FK Index, 15], [Property: Book.Quantity (int) Required, 16], [Property: Book.Title (string), 17] }
            2 -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 18], [Property: User.AccessFailedCount (int) Required, 19], [Property: User.ConcurrencyStamp (string) Concurrency, 20], [Property: User.DateCreated (DateTime) Required, 21], [Property: User.Email (string) MaxLength(256), 22], [Property: User.EmailConfirmed (bool) Required, 23], [Property: User.FirstName (string) Required, 24], [Property: User.LastName (string) Required, 25], [Property: User.LockoutEnabled (bool) Required, 26], [Property: User.LockoutEnd (DateTimeOffset?), 27], [Property: User.NormalizedEmail (string) Index MaxLength(256), 28], [Property: User.NormalizedUserName (string) Index MaxLength(256), 29], [Property: User.PasswordHash (string), 30], [Property: User.PhoneNumber (string), 31], [Property: User.PhoneNumberConfirmed (bool) Required, 32], [Property: User.SecurityStamp (string), 33], [Property: User.TwoFactorEnabled (bool) Required, 34], [Property: User.UserName (string) MaxLength(256), 35] }
        SELECT r.Id, r.BookId, r.BookTitle, r.CustomerId, r.CustomerName, r.Price, r.Quantity, r.RentedAt, r.ReturnedAt, b.Id, b.CreatedAt, b.Description, b.LastModifiedAt, b.LastModifiedBy, b.Price, b.PublisherId, b.Quantity, b.Title, a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.DateCreated, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
        FROM ReturnedRentals AS r
        INNER JOIN Books AS b ON r.BookId == b.Id
        INNER JOIN AspNetUsers AS a ON r.CustomerId == a.Id) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: ReturnedRental.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ReturnedRental.BookId (Guid) Required FK Index, 1], [Property: ReturnedRental.BookTitle (string) Required, 2], [Property: ReturnedRental.CustomerId (string) Required FK Index, 3], [Property: ReturnedRental.CustomerName (string) Required, 4], [Property: ReturnedRental.Price (double) Required, 5], [Property: ReturnedRental.Quantity (int) Required, 6], [Property: ReturnedRental.RentedAt (DateTime) Required, 7], [Property: ReturnedRental.ReturnedAt (DateTime) Required, 8] }
            1 -> Dictionary<IProperty, int> { [Property: Book.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: Book.CreatedAt (DateTime) Required, 10], [Property: Book.Description (string), 11], [Property: Book.LastModifiedAt (DateTime?), 12], [Property: Book.LastModifiedBy (DateTime?), 13], [Property: Book.Price (decimal?), 14], [Property: Book.PublisherId (Guid?) FK Index, 15], [Property: Book.Quantity (int) Required, 16], [Property: Book.Title (string), 17] }
            2 -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 18], [Property: User.AccessFailedCount (int) Required, 19], [Property: User.ConcurrencyStamp (string) Concurrency, 20], [Property: User.DateCreated (DateTime) Required, 21], [Property: User.Email (string) MaxLength(256), 22], [Property: User.EmailConfirmed (bool) Required, 23], [Property: User.FirstName (string) Required, 24], [Property: User.LastName (string) Required, 25], [Property: User.LockoutEnabled (bool) Required, 26], [Property: User.LockoutEnd (DateTimeOffset?), 27], [Property: User.NormalizedEmail (string) Index MaxLength(256), 28], [Property: User.NormalizedUserName (string) Index MaxLength(256), 29], [Property: User.PasswordHash (string), 30], [Property: User.PhoneNumber (string), 31], [Property: User.PhoneNumberConfirmed (bool) Required, 32], [Property: User.SecurityStamp (string), 33], [Property: User.TwoFactorEnabled (bool) Required, 34], [Property: User.UserName (string) MaxLength(256), 35] }
        SELECT r.Id, r.BookId, r.BookTitle, r.CustomerId, r.CustomerName, r.Price, r.Quantity, r.RentedAt, r.ReturnedAt, b.Id, b.CreatedAt, b.Description, b.LastModifiedAt, b.LastModifiedBy, b.Price, b.PublisherId, b.Quantity, b.Title, a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.DateCreated, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
        FROM ReturnedRentals AS r
        INNER JOIN Books AS b ON r.BookId == b.Id
        INNER JOIN AspNetUsers AS a ON r.CustomerId == a.Id, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        ReturnedRental entity;
        Book entity;
        User entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            ReturnedRental instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(ReturnedRental);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: ReturnedRental.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Entities.ReturnedRental").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (ReturnedRental)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: ReturnedRental | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Entities.ReturnedRental")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: ReturnedRental | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Entities.ReturnedRental")]: 
                        {
                            return 
                            {
                                ReturnedRental instance;
                                instance = new ReturnedRental();
                                instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                instance.<BookId>k__BackingField = dataReader.GetGuid(1);
                                instance.<BookTitle>k__BackingField = dataReader.GetString(2);
                                instance.<CustomerId>k__BackingField = dataReader.GetString(3);
                                instance.<CustomerName>k__BackingField = dataReader.GetString(4);
                                instance.<Price>k__BackingField = dataReader.GetDouble(5);
                                instance.<Quantity>k__BackingField = dataReader.GetInt32(6);
                                instance.<RentedAt>k__BackingField = dataReader.GetDateTime(7);
                                instance.<ReturnedAt>k__BackingField = dataReader.GetDateTime(8);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: ReturnedRental | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Entities.ReturnedRental")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(ReturnedRental)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        entity = 
        {
            MaterializationContext materializationContext2;
            IEntityType entityType2;
            Book instance2;
            InternalEntityEntry entry2;
            bool hasNullKey2;
            materializationContext2 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance2 = default(Book);
            entry2 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Book.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("LibraryManagmentSystem.Entities.Book").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(9) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey2);
            !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
            {
                entityType2 = entry2.EntityType;
                return instance2 = (Book)entry2.Entity;
            } : 
            {
                ISnapshot shadowSnapshot2;
                shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType2 = [LIFTABLE Constant: EntityType: Book | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("LibraryManagmentSystem.Entities.Book")];
                instance2 = switch (entityType2)
                {
                    case [LIFTABLE Constant: EntityType: Book | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("LibraryManagmentSystem.Entities.Book")]: 
                        {
                            return 
                            {
                                Book instance;
                                instance = new Book();
                                instance.<Id>k__BackingField = dataReader.GetGuid(9);
                                instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(10);
                                instance.<Description>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                instance.<LastModifiedAt>k__BackingField = dataReader.IsDBNull(12) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(12);
                                instance.<LastModifiedBy>k__BackingField = dataReader.IsDBNull(13) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(13);
                                instance.<Price>k__BackingField = dataReader.IsDBNull(14) ? default(decimal?) : (decimal?)dataReader.GetDecimal(14);
                                instance.<PublisherId>k__BackingField = dataReader.IsDBNull(15) ? default(Guid?) : (Guid?)dataReader.GetGuid(15);
                                instance.<Quantity>k__BackingField = dataReader.GetInt32(16);
                                instance.<Title>k__BackingField = dataReader.IsDBNull(17) ? default(string) : dataReader.GetString(17);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext2.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Book | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("LibraryManagmentSystem.Entities.Book")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Book)
                }
                ;
                entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType2, 
                    entity: instance2, 
                    snapshot: shadowSnapshot2);
                return instance2;
            } : default(void);
            return instance2;
        };
        entity = 
        {
            MaterializationContext materializationContext3;
            IEntityType entityType3;
            User instance3;
            InternalEntityEntry entry3;
            bool hasNullKey3;
            materializationContext3 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance3 = default(User);
            entry3 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Identity.User").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetString(18) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey3);
            !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
            {
                entityType3 = entry3.EntityType;
                return instance3 = (User)entry3.Entity;
            } : 
            {
                ISnapshot shadowSnapshot3;
                shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType3 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Identity.User")];
                instance3 = switch (entityType3)
                {
                    case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Identity.User")]: 
                        {
                            return 
                            {
                                User instance;
                                instance = new User();
                                instance.<Id>k__BackingField = dataReader.GetString(18);
                                instance.<AccessFailedCount>k__BackingField = dataReader.GetInt32(19);
                                instance.<ConcurrencyStamp>k__BackingField = dataReader.IsDBNull(20) ? default(string) : dataReader.GetString(20);
                                instance.<DateCreated>k__BackingField = dataReader.GetDateTime(21);
                                instance.<Email>k__BackingField = dataReader.IsDBNull(22) ? default(string) : dataReader.GetString(22);
                                instance.<EmailConfirmed>k__BackingField = dataReader.GetBoolean(23);
                                instance.<FirstName>k__BackingField = dataReader.GetString(24);
                                instance.<LastName>k__BackingField = dataReader.GetString(25);
                                instance.<LockoutEnabled>k__BackingField = dataReader.GetBoolean(26);
                                instance.<LockoutEnd>k__BackingField = dataReader.IsDBNull(27) ? default(DateTimeOffset?) : (DateTimeOffset?)dataReader.GetFieldValue<DateTimeOffset>(27);
                                instance.<NormalizedEmail>k__BackingField = dataReader.IsDBNull(28) ? default(string) : dataReader.GetString(28);
                                instance.<NormalizedUserName>k__BackingField = dataReader.IsDBNull(29) ? default(string) : dataReader.GetString(29);
                                instance.<PasswordHash>k__BackingField = dataReader.IsDBNull(30) ? default(string) : dataReader.GetString(30);
                                instance.<PhoneNumber>k__BackingField = dataReader.IsDBNull(31) ? default(string) : dataReader.GetString(31);
                                instance.<PhoneNumberConfirmed>k__BackingField = dataReader.GetBoolean(32);
                                instance.<SecurityStamp>k__BackingField = dataReader.IsDBNull(33) ? default(string) : dataReader.GetString(33);
                                instance.<TwoFactorEnabled>k__BackingField = dataReader.GetBoolean(34);
                                instance.<UserName>k__BackingField = dataReader.IsDBNull(35) ? default(string) : dataReader.GetString(35);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext3.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Identity.User")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(User)
                }
                ;
                entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType3, 
                    entity: instance3, 
                    snapshot: shadowSnapshot3);
                return instance3;
            } : default(void);
            return instance3;
        };
        ShaperProcessingExpressionVisitor.IncludeReference<ReturnedRental, ReturnedRental, Book>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: ReturnedRental.Book (Book) ToPrincipal Book | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Entities.ReturnedRental").FindNavigation("Book")], 
            inverseNavigation: default(INavigation), 
            fixup: (namelessParameter{10}, namelessParameter{11}) => 
            {
                return namelessParameter{10}.<Book>k__BackingField = namelessParameter{11};
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<ReturnedRental, ReturnedRental, User>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: ReturnedRental.Customer (User) ToPrincipal User | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Entities.ReturnedRental").FindNavigation("Customer")], 
            inverseNavigation: default(INavigation), 
            fixup: (namelessParameter{13}, namelessParameter{14}) => 
            {
                return namelessParameter{13}.<Customer>k__BackingField = namelessParameter{14};
            }, 
            trackingQuery: True);
        return entity;
    }, 
    contextType: LibraryManagmentSystem.Data.LibraryContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)' 
2025-09-18 15:52:08.8804|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:52:08.9201|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:52:08.9201|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2025-09-18 15:52:08.9201|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2025-09-18 15:52:08.9201|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2025-09-18 15:52:08.9201|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[BookId], [r].[BookTitle], [r].[CustomerId], [r].[CustomerName], [r].[Price], [r].[Quantity], [r].[RentedAt], [r].[ReturnedAt], [b].[Id], [b].[CreatedAt], [b].[Description], [b].[LastModifiedAt], [b].[LastModifiedBy], [b].[Price], [b].[PublisherId], [b].[Quantity], [b].[Title], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateCreated], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [ReturnedRentals] AS [r]
INNER JOIN [Books] AS [b] ON [r].[BookId] = [b].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [r].[CustomerId] = [a].[Id] 
2025-09-18 15:52:08.9343|20102|ERROR|Microsoft.EntityFrameworkCore.Database.Command|Failed executing DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[BookId], [r].[BookTitle], [r].[CustomerId], [r].[CustomerName], [r].[Price], [r].[Quantity], [r].[RentedAt], [r].[ReturnedAt], [b].[Id], [b].[CreatedAt], [b].[Description], [b].[LastModifiedAt], [b].[LastModifiedBy], [b].[Price], [b].[PublisherId], [b].[Quantity], [b].[Title], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateCreated], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [ReturnedRentals] AS [r]
INNER JOIN [Books] AS [b] ON [r].[BookId] = [b].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [r].[CustomerId] = [a].[Id] 
2025-09-18 15:52:08.9417|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 15:52:08.9417|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4' (1ms). 
2025-09-18 15:52:08.9595|10100|ERROR|Microsoft.EntityFrameworkCore.Query|An exception occurred while iterating over the results of a query for context type 'LibraryManagmentSystem.Data.LibraryContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'ReturnedRentals'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:2f58eb38-be82-496d-9a2b-d08ed4c81070
Error Number:208,State:1,Class:16 Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'ReturnedRentals'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:2f58eb38-be82-496d-9a2b-d08ed4c81070
Error Number:208,State:1,Class:16
2025-09-18 15:53:09.4182|0|DEBUG|LibraryManagementSystem.API.Program|init main 
2025-09-18 15:53:09.4769|0|INFO|LibraryManagementSystem.API.Program|✅ Test log: Application started 
2025-09-18 15:53:09.5894|0|ERROR|LibraryManagementSystem.API.Program|Stopped program because of exception Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in C:\Users\Remah\Desktop\AST\Projects\LibraryManagementSystem\LibraryManagementSystem\Program.cs:line 117
2025-09-18 15:53:21.5982|0|DEBUG|LibraryManagementSystem.API.Program|init main 
2025-09-18 15:53:21.6763|0|INFO|LibraryManagementSystem.API.Program|✅ Test log: Application started 
2025-09-18 15:53:21.8212|0|ERROR|LibraryManagementSystem.API.Program|Stopped program because of exception Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in C:\Users\Remah\Desktop\AST\Projects\LibraryManagementSystem\LibraryManagementSystem\Program.cs:line 117
2025-09-18 15:53:42.3759|0|DEBUG|LibraryManagementSystem.API.Program|init main 
2025-09-18 15:53:42.6985|0|INFO|LibraryManagementSystem.API.Program|✅ Test log: Application started 
2025-09-18 15:53:43.2232|12|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider 
2025-09-18 15:53:43.2880|1|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting starting 
2025-09-18 15:53:43.3173|63|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\Remah\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
2025-09-18 15:53:43.3173|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\Remah\AppData\Local\ASP.NET\DataProtection-Keys\key-0eadaaaa-7e78-4b9a-b5c6-d6842d7acf5d.xml'. 
2025-09-18 15:53:43.3173|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\Remah\AppData\Local\ASP.NET\DataProtection-Keys\key-90e9434f-347d-4778-9235-65398a291d04.xml'. 
2025-09-18 15:53:43.3348|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {0eadaaaa-7e78-4b9a-b5c6-d6842d7acf5d}. 
2025-09-18 15:53:43.3348|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {90e9434f-347d-4778-9235-65398a291d04}. 
2025-09-18 15:53:43.3348|13|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver|Considering key {0eadaaaa-7e78-4b9a-b5c6-d6842d7acf5d} with expiration date 2025-10-28 11:37:33Z as default key. 
2025-09-18 15:53:43.3492|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2025-09-18 15:53:43.3492|51|DEBUG|Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor|Decrypting secret element using Windows DPAPI. 
2025-09-18 15:53:43.3492|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2025-09-18 15:53:43.3492|4|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC. 
2025-09-18 15:53:43.3492|3|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC. 
2025-09-18 15:53:43.3492|2|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider|Using key {0eadaaaa-7e78-4b9a-b5c6-d6842d7acf5d} as the default key. 
2025-09-18 15:53:43.3492|65|DEBUG|Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService|Key ring with default key {0eadaaaa-7e78-4b9a-b5c6-d6842d7acf5d} was loaded during application startup. 
2025-09-18 15:53:43.3646|0|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BlazorWasmHotReloadMiddleware|Middleware loaded 
2025-09-18 15:53:43.3646|0|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserScriptMiddleware|Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16539 B). 
2025-09-18 15:53:43.3646|0|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserScriptMiddleware|Middleware loaded. Script /_framework/blazor-hotreload.js (799 B). 
2025-09-18 15:53:43.4237|7|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True} 
2025-09-18 15:53:43.4237|0|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Wildcard detected, all requests with hosts will be allowed. 
2025-09-18 15:53:43.4343|0|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware|Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true 
2025-09-18 15:53:43.5439|14|INFO|Microsoft.Hosting.Lifetime|Now listening on: https://localhost:7143 
2025-09-18 15:53:43.5493|14|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5223 
2025-09-18 15:53:43.5493|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly LibraryManagementSystem.API 
2025-09-18 15:53:43.5493|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery 
2025-09-18 15:53:43.5493|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh 
2025-09-18 15:53:43.5493|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net 
2025-09-18 15:53:43.5493|2|DEBUG|Microsoft.AspNetCore.Mvc.ApiExplorer.ApiDescriptionGroupCollectionProvider|Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0. 
2025-09-18 15:53:43.5493|2|DEBUG|Microsoft.AspNetCore.Mvc.ApiExplorer.ApiDescriptionGroupCollectionProvider|Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0. 
2025-09-18 15:53:43.6080|0|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down. 
2025-09-18 15:53:43.6080|0|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development 
2025-09-18 15:53:43.6080|0|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\Remah\Desktop\AST\Projects\LibraryManagementSystem\LibraryManagementSystem 
2025-09-18 15:53:43.6080|2|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting started 
2025-09-18 15:55:15.1399|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMMAECEI05" accepted. 
2025-09-18 15:55:15.1547|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMMAECEI05" started. 
2025-09-18 15:55:15.2200|3|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Connection 0HNFMMAECEI05 established using the following protocol: Tls13 
2025-09-18 15:55:15.2456|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMAECEI05" sending SETTINGS frame for stream ID 0 with length 24 and flags NONE. 
2025-09-18 15:55:15.2456|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMAECEI05" sending WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2025-09-18 15:55:15.2456|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMAECEI05" received SETTINGS frame for stream ID 0 with length 24 and flags NONE. 
2025-09-18 15:55:15.2456|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMAECEI05" sending SETTINGS frame for stream ID 0 with length 0 and flags ACK. 
2025-09-18 15:55:15.2456|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMAECEI05" received WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2025-09-18 15:55:15.2456|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMAECEI05" received HEADERS frame for stream ID 1 with length 471 and flags END_STREAM, END_HEADERS, PRIORITY. 
2025-09-18 15:55:15.2717|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMAECEI05" received SETTINGS frame for stream ID 0 with length 0 and flags ACK. 
2025-09-18 15:55:15.2889|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:7143/api/BookRental/return/5043b1ff-8a65-4ca4-cac5-08ddf063e069 - text/plain;charset=UTF-8 0 
2025-09-18 15:55:15.3010|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 15:55:15.3482|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/BookRental/return/5043b1ff-8a65-4ca4-cac5-08ddf063e069' 
2025-09-18 15:55:15.3482|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.ReturnBook (LibraryManagementSystem.API)' with route pattern 'api/BookRental/return/{rentalId}' is valid for the request path '/api/BookRental/return/5043b1ff-8a65-4ca4-cac5-08ddf063e069' 
2025-09-18 15:55:15.3482|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.ReturnBook (LibraryManagementSystem.API)' 
2025-09-18 15:55:15.3482|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 15:55:15.4555|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2025-09-18 15:55:15.4614|0|DEBUG|Microsoft.AspNetCore.Authorization.AuthorizationMiddleware|Policy authentication schemes  did not succeed 
2025-09-18 15:55:15.4614|2|INFO|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Customer) 
2025-09-18 15:55:15.4614|12|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was challenged. 
2025-09-18 15:55:15.4741|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMAECEI05" sending HEADERS frame for stream ID 1 with length 57 and flags END_STREAM, END_HEADERS. 
2025-09-18 15:55:15.4741|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:7143/api/BookRental/return/5043b1ff-8a65-4ca4-cac5-08ddf063e069 - 401 0 - 190.9294ms 
2025-09-18 15:55:23.8129|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMAECEI05" received HEADERS frame for stream ID 3 with length 68 and flags END_STREAM, END_HEADERS, PRIORITY. 
2025-09-18 15:55:23.8129|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:7143/api/BookRental/return/5043b1ff-8a65-4ca4-cac5-08ddf063e069 - text/plain;charset=UTF-8 0 
2025-09-18 15:55:23.8129|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 15:55:23.8176|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/BookRental/return/5043b1ff-8a65-4ca4-cac5-08ddf063e069' 
2025-09-18 15:55:23.8176|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.ReturnBook (LibraryManagementSystem.API)' with route pattern 'api/BookRental/return/{rentalId}' is valid for the request path '/api/BookRental/return/5043b1ff-8a65-4ca4-cac5-08ddf063e069' 
2025-09-18 15:55:23.8176|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.ReturnBook (LibraryManagementSystem.API)' 
2025-09-18 15:55:23.8176|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 15:55:23.8176|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2025-09-18 15:55:23.8176|0|DEBUG|Microsoft.AspNetCore.Authorization.AuthorizationMiddleware|Policy authentication schemes  did not succeed 
2025-09-18 15:55:23.8176|2|INFO|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Customer) 
2025-09-18 15:55:23.8176|12|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was challenged. 
2025-09-18 15:55:23.8176|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:7143/api/BookRental/return/5043b1ff-8a65-4ca4-cac5-08ddf063e069 - 401 0 - 6.9644ms 
2025-09-18 15:55:23.8176|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMAECEI05" sending HEADERS frame for stream ID 3 with length 38 and flags END_STREAM, END_HEADERS. 
2025-09-18 15:56:08.1929|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMAECEI05" received HEADERS frame for stream ID 5 with length 68 and flags END_STREAM, END_HEADERS, PRIORITY. 
2025-09-18 15:56:08.1929|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMAECEI05" received PING frame for stream ID 0 with length 8 and flags NONE. 
2025-09-18 15:56:08.1929|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:7143/api/BookRental/return/5043b1ff-8a65-4ca4-cac5-08ddf063e069 - text/plain;charset=UTF-8 0 
2025-09-18 15:56:08.1929|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMAECEI05" sending PING frame for stream ID 0 with length 8 and flags ACK. 
2025-09-18 15:56:08.1929|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 15:56:08.1929|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/BookRental/return/5043b1ff-8a65-4ca4-cac5-08ddf063e069' 
2025-09-18 15:56:08.1929|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.ReturnBook (LibraryManagementSystem.API)' with route pattern 'api/BookRental/return/{rentalId}' is valid for the request path '/api/BookRental/return/5043b1ff-8a65-4ca4-cac5-08ddf063e069' 
2025-09-18 15:56:08.1929|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.ReturnBook (LibraryManagementSystem.API)' 
2025-09-18 15:56:08.1929|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 15:56:08.2283|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2025-09-18 15:56:08.2283|0|DEBUG|Microsoft.AspNetCore.Authorization.AuthorizationMiddleware|Policy authentication schemes  did not succeed 
2025-09-18 15:56:08.2283|2|INFO|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Customer) 
2025-09-18 15:56:08.2283|12|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was challenged. 
2025-09-18 15:56:08.2283|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMAECEI05" sending HEADERS frame for stream ID 5 with length 38 and flags END_STREAM, END_HEADERS. 
2025-09-18 15:56:08.2283|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:7143/api/BookRental/return/5043b1ff-8a65-4ca4-cac5-08ddf063e069 - 401 0 - 36.5001ms 
2025-09-18 15:56:18.6568|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMAECEI05" received HEADERS frame for stream ID 7 with length 68 and flags END_STREAM, END_HEADERS, PRIORITY. 
2025-09-18 15:56:18.6568|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMAECEI05" received PING frame for stream ID 0 with length 8 and flags NONE. 
2025-09-18 15:56:18.6568|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMAECEI05" sending PING frame for stream ID 0 with length 8 and flags ACK. 
2025-09-18 15:56:18.6568|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:7143/api/BookRental/return/5043b1ff-8a65-4ca4-cac5-08ddf063e069 - text/plain;charset=UTF-8 0 
2025-09-18 15:56:18.6568|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 15:56:18.6568|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/BookRental/return/5043b1ff-8a65-4ca4-cac5-08ddf063e069' 
2025-09-18 15:56:18.6568|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.ReturnBook (LibraryManagementSystem.API)' with route pattern 'api/BookRental/return/{rentalId}' is valid for the request path '/api/BookRental/return/5043b1ff-8a65-4ca4-cac5-08ddf063e069' 
2025-09-18 15:56:18.6568|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.ReturnBook (LibraryManagementSystem.API)' 
2025-09-18 15:56:18.6568|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 15:56:18.6568|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2025-09-18 15:56:18.6568|0|DEBUG|Microsoft.AspNetCore.Authorization.AuthorizationMiddleware|Policy authentication schemes  did not succeed 
2025-09-18 15:56:18.6568|2|INFO|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Customer) 
2025-09-18 15:56:18.6568|12|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was challenged. 
2025-09-18 15:56:18.6568|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMAECEI05" sending HEADERS frame for stream ID 7 with length 38 and flags END_STREAM, END_HEADERS. 
2025-09-18 15:56:18.6568|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:7143/api/BookRental/return/5043b1ff-8a65-4ca4-cac5-08ddf063e069 - 401 0 - 0.7558ms 
2025-09-18 15:56:43.0062|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMAECEI05" received HEADERS frame for stream ID 9 with length 68 and flags END_STREAM, END_HEADERS, PRIORITY. 
2025-09-18 15:56:43.0062|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMAECEI05" received PING frame for stream ID 0 with length 8 and flags NONE. 
2025-09-18 15:56:43.0062|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMAECEI05" sending PING frame for stream ID 0 with length 8 and flags ACK. 
2025-09-18 15:56:43.0062|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:7143/api/BookRental/return/5043b1ff-8a65-4ca4-cac5-08ddf063e069 - text/plain;charset=UTF-8 0 
2025-09-18 15:56:43.0062|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 15:56:43.0062|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/BookRental/return/5043b1ff-8a65-4ca4-cac5-08ddf063e069' 
2025-09-18 15:56:43.0062|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.ReturnBook (LibraryManagementSystem.API)' with route pattern 'api/BookRental/return/{rentalId}' is valid for the request path '/api/BookRental/return/5043b1ff-8a65-4ca4-cac5-08ddf063e069' 
2025-09-18 15:56:43.0062|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.ReturnBook (LibraryManagementSystem.API)' 
2025-09-18 15:56:43.0062|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 15:56:43.0062|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2025-09-18 15:56:43.0446|0|DEBUG|Microsoft.AspNetCore.Authorization.AuthorizationMiddleware|Policy authentication schemes  did not succeed 
2025-09-18 15:56:43.0446|2|INFO|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Customer) 
2025-09-18 15:56:43.0446|12|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was challenged. 
2025-09-18 15:56:43.0446|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMAECEI05" sending HEADERS frame for stream ID 9 with length 38 and flags END_STREAM, END_HEADERS. 
2025-09-18 15:56:43.0446|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:7143/api/BookRental/return/5043b1ff-8a65-4ca4-cac5-08ddf063e069 - 401 0 - 38.0384ms 
2025-09-18 15:57:32.0311|0|DEBUG|LibraryManagementSystem.API.Program|init main 
2025-09-18 15:57:32.3662|0|INFO|LibraryManagementSystem.API.Program|✅ Test log: Application started 
2025-09-18 15:57:32.8534|12|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider 
2025-09-18 15:57:32.9177|1|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting starting 
2025-09-18 15:57:32.9439|63|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\Remah\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
2025-09-18 15:57:32.9561|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\Remah\AppData\Local\ASP.NET\DataProtection-Keys\key-0eadaaaa-7e78-4b9a-b5c6-d6842d7acf5d.xml'. 
2025-09-18 15:57:32.9561|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\Remah\AppData\Local\ASP.NET\DataProtection-Keys\key-90e9434f-347d-4778-9235-65398a291d04.xml'. 
2025-09-18 15:57:32.9561|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {0eadaaaa-7e78-4b9a-b5c6-d6842d7acf5d}. 
2025-09-18 15:57:32.9561|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {90e9434f-347d-4778-9235-65398a291d04}. 
2025-09-18 15:57:32.9780|13|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver|Considering key {0eadaaaa-7e78-4b9a-b5c6-d6842d7acf5d} with expiration date 2025-10-28 11:37:33Z as default key. 
2025-09-18 15:57:32.9780|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2025-09-18 15:57:32.9780|51|DEBUG|Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor|Decrypting secret element using Windows DPAPI. 
2025-09-18 15:57:32.9780|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2025-09-18 15:57:32.9780|4|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC. 
2025-09-18 15:57:32.9780|3|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC. 
2025-09-18 15:57:32.9877|2|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider|Using key {0eadaaaa-7e78-4b9a-b5c6-d6842d7acf5d} as the default key. 
2025-09-18 15:57:32.9877|65|DEBUG|Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService|Key ring with default key {0eadaaaa-7e78-4b9a-b5c6-d6842d7acf5d} was loaded during application startup. 
2025-09-18 15:57:32.9877|0|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BlazorWasmHotReloadMiddleware|Middleware loaded 
2025-09-18 15:57:32.9877|0|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserScriptMiddleware|Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16539 B). 
2025-09-18 15:57:32.9877|0|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserScriptMiddleware|Middleware loaded. Script /_framework/blazor-hotreload.js (799 B). 
2025-09-18 15:57:33.0426|7|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True} 
2025-09-18 15:57:33.0426|0|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Wildcard detected, all requests with hosts will be allowed. 
2025-09-18 15:57:33.0508|0|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware|Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true 
2025-09-18 15:57:33.2127|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMMBNH72OR" accepted. 
2025-09-18 15:57:33.2127|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMMBNH72OR" started. 
2025-09-18 15:57:33.2127|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMMBNH72OS" accepted. 
2025-09-18 15:57:33.2127|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMMBNH72OS" started. 
2025-09-18 15:57:33.2127|14|INFO|Microsoft.Hosting.Lifetime|Now listening on: https://localhost:7143 
2025-09-18 15:57:33.2291|14|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5223 
2025-09-18 15:57:33.2291|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly LibraryManagementSystem.API 
2025-09-18 15:57:33.2291|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery 
2025-09-18 15:57:33.2291|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh 
2025-09-18 15:57:33.2291|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net 
2025-09-18 15:57:33.2291|2|DEBUG|Microsoft.AspNetCore.Mvc.ApiExplorer.ApiDescriptionGroupCollectionProvider|Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0. 
2025-09-18 15:57:33.2291|2|DEBUG|Microsoft.AspNetCore.Mvc.ApiExplorer.ApiDescriptionGroupCollectionProvider|Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0. 
2025-09-18 15:57:33.2615|3|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Connection 0HNFMMBNH72OR established using the following protocol: Tls13 
2025-09-18 15:57:33.2615|3|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Connection 0HNFMMBNH72OS established using the following protocol: Tls13 
2025-09-18 15:57:33.2793|0|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down. 
2025-09-18 15:57:33.2793|0|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development 
2025-09-18 15:57:33.2793|0|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\Remah\Desktop\AST\Projects\LibraryManagementSystem\LibraryManagementSystem 
2025-09-18 15:57:33.2793|2|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting started 
2025-09-18 15:57:33.2850|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMBNH72OR" sending SETTINGS frame for stream ID 0 with length 24 and flags NONE. 
2025-09-18 15:57:33.2850|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMBNH72OR" sending WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2025-09-18 15:57:33.2850|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMBNH72OR" received SETTINGS frame for stream ID 0 with length 24 and flags NONE. 
2025-09-18 15:57:33.2850|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMBNH72OR" sending SETTINGS frame for stream ID 0 with length 0 and flags ACK. 
2025-09-18 15:57:33.2850|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMBNH72OR" received WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2025-09-18 15:57:33.2850|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMBNH72OR" received HEADERS frame for stream ID 1 with length 471 and flags END_STREAM, END_HEADERS, PRIORITY. 
2025-09-18 15:57:33.3137|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMBNH72OR" received SETTINGS frame for stream ID 0 with length 0 and flags ACK. 
2025-09-18 15:57:33.3257|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:7143/api/BookRental/return/5043b1ff-8a65-4ca4-cac5-08ddf063e069 - text/plain;charset=UTF-8 0 
2025-09-18 15:57:33.3358|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 15:57:33.3667|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/BookRental/return/5043b1ff-8a65-4ca4-cac5-08ddf063e069' 
2025-09-18 15:57:33.3667|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.ReturnBook (LibraryManagementSystem.API)' with route pattern 'api/BookRental/return/{rentalId}' is valid for the request path '/api/BookRental/return/5043b1ff-8a65-4ca4-cac5-08ddf063e069' 
2025-09-18 15:57:33.3667|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.ReturnBook (LibraryManagementSystem.API)' 
2025-09-18 15:57:33.3667|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 15:57:33.4404|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2025-09-18 15:57:33.4404|0|DEBUG|Microsoft.AspNetCore.Authorization.AuthorizationMiddleware|Policy authentication schemes  did not succeed 
2025-09-18 15:57:33.4404|2|INFO|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Customer) 
2025-09-18 15:57:33.4404|12|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was challenged. 
2025-09-18 15:57:33.4404|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMBNH72OR" sending HEADERS frame for stream ID 1 with length 57 and flags END_STREAM, END_HEADERS. 
2025-09-18 15:57:33.4404|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:7143/api/BookRental/return/5043b1ff-8a65-4ca4-cac5-08ddf063e069 - 401 0 - 131.3442ms 
2025-09-18 15:57:34.2883|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMBNH72OR" received HEADERS frame for stream ID 3 with length 68 and flags END_STREAM, END_HEADERS, PRIORITY. 
2025-09-18 15:57:34.3008|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:7143/api/BookRental/return/5043b1ff-8a65-4ca4-cac5-08ddf063e069 - text/plain;charset=UTF-8 0 
2025-09-18 15:57:34.3008|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 15:57:34.3008|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/BookRental/return/5043b1ff-8a65-4ca4-cac5-08ddf063e069' 
2025-09-18 15:57:34.3008|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.ReturnBook (LibraryManagementSystem.API)' with route pattern 'api/BookRental/return/{rentalId}' is valid for the request path '/api/BookRental/return/5043b1ff-8a65-4ca4-cac5-08ddf063e069' 
2025-09-18 15:57:34.3008|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.ReturnBook (LibraryManagementSystem.API)' 
2025-09-18 15:57:34.3008|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 15:57:34.3008|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2025-09-18 15:57:34.3008|0|DEBUG|Microsoft.AspNetCore.Authorization.AuthorizationMiddleware|Policy authentication schemes  did not succeed 
2025-09-18 15:57:34.3008|2|INFO|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Customer) 
2025-09-18 15:57:34.3008|12|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was challenged. 
2025-09-18 15:57:34.3008|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:7143/api/BookRental/return/5043b1ff-8a65-4ca4-cac5-08ddf063e069 - 401 0 - 4.3035ms 
2025-09-18 15:57:34.3008|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMBNH72OR" sending HEADERS frame for stream ID 3 with length 38 and flags END_STREAM, END_HEADERS. 
2025-09-18 15:57:39.3807|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMBNH72OR" received HEADERS frame for stream ID 5 with length 199 and flags END_STREAM, END_HEADERS, PRIORITY. 
2025-09-18 15:57:39.3807|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7143/scalar/ - - - 
2025-09-18 15:57:39.4607|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 15:57:39.4607|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/scalar/' 
2025-09-18 15:57:39.4607|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'HTTP: GET /scalar/{documentName?}' with route pattern '/scalar/{documentName?}' is valid for the request path '/scalar/' 
2025-09-18 15:57:39.4607|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'HTTP: GET /scalar/{documentName?}' 
2025-09-18 15:57:39.4607|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 15:57:39.4607|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2025-09-18 15:57:39.4607|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'HTTP: GET /scalar/{documentName?}' 
2025-09-18 15:57:39.5118|2|INFO|Microsoft.AspNetCore.Http.Result.ContentResult|Write content with HTTP Response ContentType of text/html 
2025-09-18 15:57:39.5118|1|DEBUG|Microsoft.WebTools.BrowserLink.Net.BrowserLinkMiddleware|Response markup is scheduled to include Browser Link script injection. 
2025-09-18 15:57:39.5118|1|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware|Response markup is scheduled to include browser refresh script injection. 
2025-09-18 15:57:39.5118|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMBNH72OR" sending HEADERS frame for stream ID 5 with length 44 and flags END_HEADERS. 
2025-09-18 15:57:39.5203|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMBNH72OR" sending DATA frame for stream ID 5 with length 882 and flags NONE. 
2025-09-18 15:57:39.5203|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'HTTP: GET /scalar/{documentName?}' 
2025-09-18 15:57:39.5203|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMBNH72OR" sending DATA frame for stream ID 5 with length 437 and flags NONE. 
2025-09-18 15:57:39.5203|2|DEBUG|Microsoft.WebTools.BrowserLink.Net.BrowserLinkMiddleware|Response markup was updated to include Browser Link script injection. 
2025-09-18 15:57:39.5203|2|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware|Response markup was updated to include browser refresh script injection. 
2025-09-18 15:57:39.5203|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMBNH72OR" sending DATA frame for stream ID 5 with length 0 and flags END_STREAM. 
2025-09-18 15:57:39.5203|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7143/scalar/ - 200 - text/html 140.0860ms 
2025-09-18 15:57:39.5203|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMBNH72OR" received WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2025-09-18 15:57:39.5489|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMBNH72OR" received HEADERS frame for stream ID 7 with length 71 and flags END_STREAM, END_HEADERS, PRIORITY. 
2025-09-18 15:57:39.5489|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMBNH72OR" received HEADERS frame for stream ID 9 with length 52 and flags END_STREAM, END_HEADERS, PRIORITY. 
2025-09-18 15:57:39.5489|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7143/_framework/aspnetcore-browser-refresh.js - - - 
2025-09-18 15:57:39.5489|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMBNH72OR" received HEADERS frame for stream ID 11 with length 45 and flags END_STREAM, END_HEADERS, PRIORITY. 
2025-09-18 15:57:39.5489|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMBNH72OR" received HEADERS frame for stream ID 13 with length 58 and flags END_STREAM, END_HEADERS, PRIORITY. 
2025-09-18 15:57:39.5489|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7143/scalar/scalar.js - - - 
2025-09-18 15:57:39.5489|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7143/scalar/scalar.aspnetcore.js - - - 
2025-09-18 15:57:39.5489|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 15:57:39.5489|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7143/_vs/browserLink - - - 
2025-09-18 15:57:39.5489|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 15:57:39.5489|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|2 candidate(s) found for the request path '/scalar/scalar.js' 
2025-09-18 15:57:39.5489|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|2 candidate(s) found for the request path '/scalar/scalar.aspnetcore.js' 
2025-09-18 15:57:39.5489|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'HTTP: GET /scalar/scalar.js' with route pattern '/scalar/scalar.js' is valid for the request path '/scalar/scalar.js' 
2025-09-18 15:57:39.5489|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'HTTP: GET /scalar/scalar.aspnetcore.js' with route pattern '/scalar/scalar.aspnetcore.js' is valid for the request path '/scalar/scalar.aspnetcore.js' 
2025-09-18 15:57:39.5489|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'HTTP: GET /scalar/{documentName?}' with route pattern '/scalar/{documentName?}' is valid for the request path '/scalar/scalar.js' 
2025-09-18 15:57:39.5489|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'HTTP: GET /scalar/{documentName?}' with route pattern '/scalar/{documentName?}' is valid for the request path '/scalar/scalar.aspnetcore.js' 
2025-09-18 15:57:39.5489|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'HTTP: GET /scalar/scalar.aspnetcore.js' 
2025-09-18 15:57:39.5489|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'HTTP: GET /scalar/scalar.js' 
2025-09-18 15:57:39.5489|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 15:57:39.5489|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 15:57:39.5489|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2025-09-18 15:57:39.5489|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2025-09-18 15:57:39.5489|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'HTTP: GET /scalar/scalar.aspnetcore.js' 
2025-09-18 15:57:39.5489|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'HTTP: GET /scalar/scalar.js' 
2025-09-18 15:57:39.6062|1|INFO|Microsoft.AspNetCore.Http.Result.StatusCodeResult|Setting HTTP status code 304. 
2025-09-18 15:57:39.6062|1|INFO|Microsoft.AspNetCore.Http.Result.StatusCodeResult|Setting HTTP status code 304. 
2025-09-18 15:57:39.6062|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'HTTP: GET /scalar/scalar.aspnetcore.js' 
2025-09-18 15:57:39.6062|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'HTTP: GET /scalar/scalar.js' 
2025-09-18 15:57:39.6062|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMBNH72OR" sending HEADERS frame for stream ID 11 with length 30 and flags END_STREAM, END_HEADERS. 
2025-09-18 15:57:39.6062|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7143/scalar/scalar.js - 304 - - 57.2372ms 
2025-09-18 15:57:39.6062|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7143/scalar/scalar.aspnetcore.js - 304 - - 57.1554ms 
2025-09-18 15:57:39.6062|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMBNH72OR" sending HEADERS frame for stream ID 9 with length 5 and flags END_STREAM, END_HEADERS. 
2025-09-18 15:57:39.6062|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMBNH72OR" sending HEADERS frame for stream ID 7 with length 60 and flags END_HEADERS. 
2025-09-18 15:57:39.6062|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMBNH72OR" sending DATA frame for stream ID 7 with length 16384 and flags NONE. 
2025-09-18 15:57:39.6062|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMBNH72OR" sending DATA frame for stream ID 7 with length 155 and flags NONE. 
2025-09-18 15:57:39.6062|0|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserScriptMiddleware|Script injected: /_framework/aspnetcore-browser-refresh.js 
2025-09-18 15:57:39.6062|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMBNH72OR" sending DATA frame for stream ID 7 with length 0 and flags END_STREAM. 
2025-09-18 15:57:39.6062|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7143/_framework/aspnetcore-browser-refresh.js - 200 16539 application/javascript;+charset=utf-8 60.7811ms 
2025-09-18 15:57:39.6196|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMBNH72OR" sending HEADERS frame for stream ID 13 with length 119 and flags END_HEADERS. 
2025-09-18 15:57:39.6196|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMBNH72OR" sending DATA frame for stream ID 13 with length 9986 and flags NONE. 
2025-09-18 15:57:39.6196|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMBNH72OR" sending DATA frame for stream ID 13 with length 10240 and flags NONE. 
2025-09-18 15:57:39.6196|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMBNH72OR" sending DATA frame for stream ID 13 with length 10240 and flags NONE. 
2025-09-18 15:57:39.6196|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMBNH72OR" sending DATA frame for stream ID 13 with length 10240 and flags NONE. 
2025-09-18 15:57:39.6196|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMBNH72OR" sending DATA frame for stream ID 13 with length 10240 and flags NONE. 
2025-09-18 15:57:39.6196|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMBNH72OR" sending DATA frame for stream ID 13 with length 10240 and flags NONE. 
2025-09-18 15:57:39.6196|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMBNH72OR" sending DATA frame for stream ID 13 with length 10240 and flags NONE. 
2025-09-18 15:57:39.6196|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMBNH72OR" sending DATA frame for stream ID 13 with length 10240 and flags NONE. 
2025-09-18 15:57:39.6196|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMBNH72OR" sending DATA frame for stream ID 13 with length 10240 and flags NONE. 
2025-09-18 15:57:39.6196|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMBNH72OR" sending DATA frame for stream ID 13 with length 10240 and flags NONE. 
2025-09-18 15:57:39.6196|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMBNH72OR" sending DATA frame for stream ID 13 with length 10240 and flags NONE. 
2025-09-18 15:57:39.6196|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMBNH72OR" sending DATA frame for stream ID 13 with length 10240 and flags NONE. 
2025-09-18 15:57:39.6196|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMBNH72OR" sending DATA frame for stream ID 13 with length 10240 and flags NONE. 
2025-09-18 15:57:39.6196|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMBNH72OR" sending DATA frame for stream ID 13 with length 10240 and flags NONE. 
2025-09-18 15:57:39.6196|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMBNH72OR" sending DATA frame for stream ID 13 with length 10240 and flags NONE. 
2025-09-18 15:57:39.6196|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMBNH72OR" sending DATA frame for stream ID 13 with length 1806 and flags NONE. 
2025-09-18 15:57:39.6196|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7143/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 75.8979ms 
2025-09-18 15:57:39.6196|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMBNH72OR" sending DATA frame for stream ID 13 with length 0 and flags END_STREAM. 
2025-09-18 15:57:39.9116|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMBNH72OR" received HEADERS frame for stream ID 15 with length 35 and flags END_STREAM, END_HEADERS, PRIORITY. 
2025-09-18 15:57:39.9116|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7143/openapi/v1.json - - - 
2025-09-18 15:57:39.9116|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 15:57:39.9116|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/openapi/v1.json' 
2025-09-18 15:57:39.9116|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'HTTP: GET /openapi/{documentName}.json' with route pattern '/openapi/{documentName}.json' is valid for the request path '/openapi/v1.json' 
2025-09-18 15:57:39.9116|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'HTTP: GET /openapi/{documentName}.json' 
2025-09-18 15:57:39.9116|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 15:57:39.9116|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2025-09-18 15:57:39.9116|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'HTTP: GET /openapi/{documentName}.json' 
2025-09-18 15:57:40.1685|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMBNH72OR" sending HEADERS frame for stream ID 15 with length 65 and flags END_HEADERS. 
2025-09-18 15:57:40.1685|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMBNH72OR" sending DATA frame for stream ID 15 with length 16384 and flags NONE. 
2025-09-18 15:57:40.1685|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMBNH72OR" sending DATA frame for stream ID 15 with length 16384 and flags NONE. 
2025-09-18 15:57:40.1685|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMBNH72OR" sending DATA frame for stream ID 15 with length 16384 and flags NONE. 
2025-09-18 15:57:40.1685|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMBNH72OR" sending DATA frame for stream ID 15 with length 9307 and flags NONE. 
2025-09-18 15:57:40.1685|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMBNH72OR" received HEADERS frame for stream ID 17 with length 35 and flags END_STREAM, END_HEADERS, PRIORITY. 
2025-09-18 15:57:40.1685|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7143/openapi/v1.json - - - 
2025-09-18 15:57:40.1685|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 15:57:40.1685|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/openapi/v1.json' 
2025-09-18 15:57:40.1685|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'HTTP: GET /openapi/{documentName}.json' with route pattern '/openapi/{documentName}.json' is valid for the request path '/openapi/v1.json' 
2025-09-18 15:57:40.1685|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'HTTP: GET /openapi/{documentName}.json' 
2025-09-18 15:57:40.1685|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 15:57:40.1685|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2025-09-18 15:57:40.1685|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'HTTP: GET /openapi/{documentName}.json' 
2025-09-18 15:57:40.1685|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'HTTP: GET /openapi/{documentName}.json' 
2025-09-18 15:57:40.1685|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMBNH72OR" sending DATA frame for stream ID 15 with length 0 and flags END_STREAM. 
2025-09-18 15:57:40.1685|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7143/openapi/v1.json - 200 - application/json;charset=utf-8 262.3353ms 
2025-09-18 15:57:40.2029|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMBNH72OR" sending HEADERS frame for stream ID 17 with length 4 and flags END_HEADERS. 
2025-09-18 15:57:40.2029|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMBNH72OR" sending DATA frame for stream ID 17 with length 16384 and flags NONE. 
2025-09-18 15:57:40.2029|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMBNH72OR" sending DATA frame for stream ID 17 with length 16384 and flags NONE. 
2025-09-18 15:57:40.2029|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMBNH72OR" sending DATA frame for stream ID 17 with length 16384 and flags NONE. 
2025-09-18 15:57:40.2029|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMBNH72OR" sending DATA frame for stream ID 17 with length 9307 and flags NONE. 
2025-09-18 15:57:40.2029|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'HTTP: GET /openapi/{documentName}.json' 
2025-09-18 15:57:40.2029|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMBNH72OR" sending DATA frame for stream ID 17 with length 0 and flags END_STREAM. 
2025-09-18 15:57:40.2029|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7143/openapi/v1.json - 200 - application/json;charset=utf-8 32.8523ms 
2025-09-18 15:57:44.1641|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMBNH72OR" received HEADERS frame for stream ID 19 with length 53 and flags END_STREAM, END_HEADERS, PRIORITY. 
2025-09-18 15:57:44.1641|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:7143/api/BookRental/return/{rentalId} - text/plain;charset=UTF-8 0 
2025-09-18 15:57:44.1641|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 15:57:44.1641|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/BookRental/return/{rentalId}' 
2025-09-18 15:57:44.1641|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.ReturnBook (LibraryManagementSystem.API)' with route pattern 'api/BookRental/return/{rentalId}' is valid for the request path '/api/BookRental/return/{rentalId}' 
2025-09-18 15:57:44.1641|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.ReturnBook (LibraryManagementSystem.API)' 
2025-09-18 15:57:44.1641|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 15:57:44.1641|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2025-09-18 15:57:44.1641|0|DEBUG|Microsoft.AspNetCore.Authorization.AuthorizationMiddleware|Policy authentication schemes  did not succeed 
2025-09-18 15:57:44.1641|2|INFO|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Customer) 
2025-09-18 15:57:44.1641|12|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was challenged. 
2025-09-18 15:57:44.1641|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:7143/api/BookRental/return/{rentalId} - 401 0 - 5.2698ms 
2025-09-18 15:57:44.1641|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMBNH72OR" sending HEADERS frame for stream ID 19 with length 38 and flags END_STREAM, END_HEADERS. 
2025-09-18 15:57:47.4488|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMBNH72OR" received HEADERS frame for stream ID 21 with length 68 and flags END_STREAM, END_HEADERS, PRIORITY. 
2025-09-18 15:57:47.4488|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:7143/api/BookRental/return/5043b1ff-8a65-4ca4-cac5-08ddf063e069 - text/plain;charset=UTF-8 0 
2025-09-18 15:57:47.4488|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 15:57:47.4488|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/BookRental/return/5043b1ff-8a65-4ca4-cac5-08ddf063e069' 
2025-09-18 15:57:47.4488|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.ReturnBook (LibraryManagementSystem.API)' with route pattern 'api/BookRental/return/{rentalId}' is valid for the request path '/api/BookRental/return/5043b1ff-8a65-4ca4-cac5-08ddf063e069' 
2025-09-18 15:57:47.4488|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.ReturnBook (LibraryManagementSystem.API)' 
2025-09-18 15:57:47.4488|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 15:57:47.4488|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2025-09-18 15:57:47.4488|0|DEBUG|Microsoft.AspNetCore.Authorization.AuthorizationMiddleware|Policy authentication schemes  did not succeed 
2025-09-18 15:57:47.4488|2|INFO|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Customer) 
2025-09-18 15:57:47.4488|12|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was challenged. 
2025-09-18 15:57:47.4488|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:7143/api/BookRental/return/5043b1ff-8a65-4ca4-cac5-08ddf063e069 - 401 0 - 0.7922ms 
2025-09-18 15:57:47.4488|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMBNH72OR" sending HEADERS frame for stream ID 21 with length 38 and flags END_STREAM, END_HEADERS. 
2025-09-18 15:58:53.6592|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMMBNH72OS" received FIN. 
2025-09-18 15:58:53.6592|62|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Http2|The connection queue processing loop for 0HNFMMBNH72OS completed. 
2025-09-18 15:58:53.6592|48|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMBNH72OS" is closed. The last processed stream ID was 0. 
2025-09-18 15:58:53.6592|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMMBNH72OS" sending FIN because: "The Socket transport's send loop completed gracefully." 
2025-09-18 15:58:53.6592|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMMBNH72OS" stopped. 
2025-09-18 15:59:25.8084|0|DEBUG|LibraryManagementSystem.API.Program|init main 
2025-09-18 15:59:26.3637|0|INFO|LibraryManagementSystem.API.Program|✅ Test log: Application started 
2025-09-18 15:59:27.0109|12|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory|Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider 
2025-09-18 15:59:27.0810|1|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting starting 
2025-09-18 15:59:27.1211|63|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\Remah\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
2025-09-18 15:59:27.1401|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\Remah\AppData\Local\ASP.NET\DataProtection-Keys\key-0eadaaaa-7e78-4b9a-b5c6-d6842d7acf5d.xml'. 
2025-09-18 15:59:27.1467|37|DEBUG|Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository|Reading data from file 'C:\Users\Remah\AppData\Local\ASP.NET\DataProtection-Keys\key-90e9434f-347d-4778-9235-65398a291d04.xml'. 
2025-09-18 15:59:27.1467|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {0eadaaaa-7e78-4b9a-b5c6-d6842d7acf5d}. 
2025-09-18 15:59:27.1584|18|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|Found key {90e9434f-347d-4778-9235-65398a291d04}. 
2025-09-18 15:59:27.1584|13|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver|Considering key {0eadaaaa-7e78-4b9a-b5c6-d6842d7acf5d} with expiration date 2025-10-28 11:37:33Z as default key. 
2025-09-18 15:59:27.1584|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2025-09-18 15:59:27.1744|51|DEBUG|Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor|Decrypting secret element using Windows DPAPI. 
2025-09-18 15:59:27.1744|0|DEBUG|Microsoft.AspNetCore.DataProtection.TypeForwardingActivator|Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60 
2025-09-18 15:59:27.1744|4|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC. 
2025-09-18 15:59:27.1744|3|DEBUG|Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory|Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC. 
2025-09-18 15:59:27.1744|2|DEBUG|Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider|Using key {0eadaaaa-7e78-4b9a-b5c6-d6842d7acf5d} as the default key. 
2025-09-18 15:59:27.1744|65|DEBUG|Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService|Key ring with default key {0eadaaaa-7e78-4b9a-b5c6-d6842d7acf5d} was loaded during application startup. 
2025-09-18 15:59:27.1744|0|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BlazorWasmHotReloadMiddleware|Middleware loaded 
2025-09-18 15:59:27.1744|0|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserScriptMiddleware|Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16539 B). 
2025-09-18 15:59:27.1744|0|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserScriptMiddleware|Middleware loaded. Script /_framework/blazor-hotreload.js (799 B). 
2025-09-18 15:59:27.2526|7|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True} 
2025-09-18 15:59:27.2526|0|DEBUG|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|Wildcard detected, all requests with hosts will be allowed. 
2025-09-18 15:59:27.2681|0|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware|Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true 
2025-09-18 15:59:27.3967|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMMCPI580E" accepted. 
2025-09-18 15:59:27.3967|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMMCPI580E" started. 
2025-09-18 15:59:27.4149|14|INFO|Microsoft.Hosting.Lifetime|Now listening on: https://localhost:7143 
2025-09-18 15:59:27.4253|14|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5223 
2025-09-18 15:59:27.4253|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly LibraryManagementSystem.API 
2025-09-18 15:59:27.4253|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery 
2025-09-18 15:59:27.4253|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh 
2025-09-18 15:59:27.4253|13|DEBUG|Microsoft.AspNetCore.Hosting.Diagnostics|Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net 
2025-09-18 15:59:27.4253|2|DEBUG|Microsoft.AspNetCore.Mvc.ApiExplorer.ApiDescriptionGroupCollectionProvider|Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0. 
2025-09-18 15:59:27.4253|2|DEBUG|Microsoft.AspNetCore.Mvc.ApiExplorer.ApiDescriptionGroupCollectionProvider|Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0. 
2025-09-18 15:59:27.4651|3|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Connection 0HNFMMCPI580E established using the following protocol: Tls13 
2025-09-18 15:59:27.4889|0|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down. 
2025-09-18 15:59:27.4889|0|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development 
2025-09-18 15:59:27.4889|0|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\Remah\Desktop\AST\Projects\LibraryManagementSystem\LibraryManagementSystem 
2025-09-18 15:59:27.4889|2|DEBUG|Microsoft.Extensions.Hosting.Internal.Host|Hosting started 
2025-09-18 15:59:27.4889|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMCPI580E" sending SETTINGS frame for stream ID 0 with length 24 and flags NONE. 
2025-09-18 15:59:27.4967|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMCPI580E" sending WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2025-09-18 15:59:27.4967|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMCPI580E" received SETTINGS frame for stream ID 0 with length 24 and flags NONE. 
2025-09-18 15:59:27.4967|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMCPI580E" sending SETTINGS frame for stream ID 0 with length 0 and flags ACK. 
2025-09-18 15:59:27.4967|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMCPI580E" received WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2025-09-18 15:59:27.4967|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMCPI580E" received HEADERS frame for stream ID 1 with length 514 and flags END_STREAM, END_HEADERS, PRIORITY. 
2025-09-18 15:59:27.5142|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMCPI580E" received SETTINGS frame for stream ID 0 with length 0 and flags ACK. 
2025-09-18 15:59:27.5313|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7143/scalar/ - - - 
2025-09-18 15:59:27.6162|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMMCPI580F" accepted. 
2025-09-18 15:59:27.6162|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMMCPI580F" started. 
2025-09-18 15:59:27.6162|3|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Connection 0HNFMMCPI580F established using the following protocol: Tls13 
2025-09-18 15:59:27.6454|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 15:59:27.6796|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/scalar/' 
2025-09-18 15:59:27.6796|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'HTTP: GET /scalar/{documentName?}' with route pattern '/scalar/{documentName?}' is valid for the request path '/scalar/' 
2025-09-18 15:59:27.6796|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'HTTP: GET /scalar/{documentName?}' 
2025-09-18 15:59:27.6796|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 15:59:27.7550|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2025-09-18 15:59:27.7550|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'HTTP: GET /scalar/{documentName?}' 
2025-09-18 15:59:27.8163|2|INFO|Microsoft.AspNetCore.Http.Result.ContentResult|Write content with HTTP Response ContentType of text/html 
2025-09-18 15:59:27.8163|1|DEBUG|Microsoft.WebTools.BrowserLink.Net.BrowserLinkMiddleware|Response markup is scheduled to include Browser Link script injection. 
2025-09-18 15:59:27.8163|1|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware|Response markup is scheduled to include browser refresh script injection. 
2025-09-18 15:59:27.8163|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMCPI580E" sending HEADERS frame for stream ID 1 with length 52 and flags END_HEADERS. 
2025-09-18 15:59:27.8163|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMCPI580E" sending DATA frame for stream ID 1 with length 882 and flags NONE. 
2025-09-18 15:59:27.8163|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMCPI580E" sending DATA frame for stream ID 1 with length 437 and flags NONE. 
2025-09-18 15:59:27.8163|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'HTTP: GET /scalar/{documentName?}' 
2025-09-18 15:59:27.8163|2|DEBUG|Microsoft.WebTools.BrowserLink.Net.BrowserLinkMiddleware|Response markup was updated to include Browser Link script injection. 
2025-09-18 15:59:27.8163|2|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware|Response markup was updated to include browser refresh script injection. 
2025-09-18 15:59:27.8163|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMCPI580E" sending DATA frame for stream ID 1 with length 0 and flags END_STREAM. 
2025-09-18 15:59:27.8318|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7143/scalar/ - 200 - text/html 305.0019ms 
2025-09-18 15:59:27.8471|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMCPI580E" received HEADERS frame for stream ID 3 with length 96 and flags END_STREAM, END_HEADERS, PRIORITY. 
2025-09-18 15:59:27.8471|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMCPI580E" received HEADERS frame for stream ID 5 with length 73 and flags END_STREAM, END_HEADERS, PRIORITY. 
2025-09-18 15:59:27.8471|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMCPI580E" received HEADERS frame for stream ID 7 with length 53 and flags END_STREAM, END_HEADERS, PRIORITY. 
2025-09-18 15:59:27.8471|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMCPI580E" received HEADERS frame for stream ID 9 with length 58 and flags END_STREAM, END_HEADERS, PRIORITY. 
2025-09-18 15:59:27.8471|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7143/_framework/aspnetcore-browser-refresh.js - - - 
2025-09-18 15:59:27.8471|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7143/_vs/browserLink - - - 
2025-09-18 15:59:27.8471|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7143/scalar/scalar.aspnetcore.js - - - 
2025-09-18 15:59:27.8471|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7143/scalar/scalar.js - - - 
2025-09-18 15:59:27.8471|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 15:59:27.8471|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 15:59:27.8471|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|2 candidate(s) found for the request path '/scalar/scalar.aspnetcore.js' 
2025-09-18 15:59:27.8471|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|2 candidate(s) found for the request path '/scalar/scalar.js' 
2025-09-18 15:59:27.8471|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'HTTP: GET /scalar/scalar.aspnetcore.js' with route pattern '/scalar/scalar.aspnetcore.js' is valid for the request path '/scalar/scalar.aspnetcore.js' 
2025-09-18 15:59:27.8471|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'HTTP: GET /scalar/scalar.js' with route pattern '/scalar/scalar.js' is valid for the request path '/scalar/scalar.js' 
2025-09-18 15:59:27.8471|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'HTTP: GET /scalar/{documentName?}' with route pattern '/scalar/{documentName?}' is valid for the request path '/scalar/scalar.aspnetcore.js' 
2025-09-18 15:59:27.8471|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'HTTP: GET /scalar/{documentName?}' with route pattern '/scalar/{documentName?}' is valid for the request path '/scalar/scalar.js' 
2025-09-18 15:59:27.8471|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'HTTP: GET /scalar/scalar.aspnetcore.js' 
2025-09-18 15:59:27.8471|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'HTTP: GET /scalar/scalar.js' 
2025-09-18 15:59:27.8471|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 15:59:27.8471|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 15:59:27.8471|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2025-09-18 15:59:27.8471|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'HTTP: GET /scalar/scalar.js' 
2025-09-18 15:59:27.8630|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2025-09-18 15:59:27.8630|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'HTTP: GET /scalar/scalar.aspnetcore.js' 
2025-09-18 15:59:27.8630|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMCPI580E" sending HEADERS frame for stream ID 7 with length 60 and flags END_HEADERS. 
2025-09-18 15:59:27.8630|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMCPI580E" sending DATA frame for stream ID 7 with length 16384 and flags NONE. 
2025-09-18 15:59:27.8630|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMCPI580E" sending DATA frame for stream ID 7 with length 155 and flags NONE. 
2025-09-18 15:59:27.8878|0|DEBUG|Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserScriptMiddleware|Script injected: /_framework/aspnetcore-browser-refresh.js 
2025-09-18 15:59:27.8878|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMCPI580E" sending DATA frame for stream ID 7 with length 0 and flags END_STREAM. 
2025-09-18 15:59:27.8878|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7143/_framework/aspnetcore-browser-refresh.js - 200 16539 application/javascript;+charset=utf-8 40.4658ms 
2025-09-18 15:59:27.8878|1|INFO|Microsoft.AspNetCore.Http.Result.StatusCodeResult|Setting HTTP status code 304. 
2025-09-18 15:59:27.8878|1|INFO|Microsoft.AspNetCore.Http.Result.StatusCodeResult|Setting HTTP status code 304. 
2025-09-18 15:59:27.8878|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'HTTP: GET /scalar/scalar.aspnetcore.js' 
2025-09-18 15:59:27.8878|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'HTTP: GET /scalar/scalar.js' 
2025-09-18 15:59:27.8878|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMCPI580E" sending HEADERS frame for stream ID 5 with length 30 and flags END_STREAM, END_HEADERS. 
2025-09-18 15:59:27.8878|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7143/scalar/scalar.aspnetcore.js - 304 - - 43.4828ms 
2025-09-18 15:59:27.8878|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7143/scalar/scalar.js - 304 - - 43.5476ms 
2025-09-18 15:59:27.8878|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMCPI580E" sending HEADERS frame for stream ID 3 with length 5 and flags END_STREAM, END_HEADERS. 
2025-09-18 15:59:27.9037|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMCPI580E" sending HEADERS frame for stream ID 9 with length 119 and flags END_HEADERS. 
2025-09-18 15:59:27.9037|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMCPI580E" sending DATA frame for stream ID 9 with length 9986 and flags NONE. 
2025-09-18 15:59:27.9037|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMCPI580E" sending DATA frame for stream ID 9 with length 10240 and flags NONE. 
2025-09-18 15:59:27.9037|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMCPI580E" sending DATA frame for stream ID 9 with length 10240 and flags NONE. 
2025-09-18 15:59:27.9037|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMCPI580E" sending DATA frame for stream ID 9 with length 10240 and flags NONE. 
2025-09-18 15:59:27.9037|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMCPI580E" sending DATA frame for stream ID 9 with length 10240 and flags NONE. 
2025-09-18 15:59:27.9037|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMCPI580E" sending DATA frame for stream ID 9 with length 10240 and flags NONE. 
2025-09-18 15:59:27.9037|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMCPI580E" sending DATA frame for stream ID 9 with length 10240 and flags NONE. 
2025-09-18 15:59:27.9037|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMCPI580E" sending DATA frame for stream ID 9 with length 10240 and flags NONE. 
2025-09-18 15:59:27.9037|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMCPI580E" sending DATA frame for stream ID 9 with length 10240 and flags NONE. 
2025-09-18 15:59:27.9037|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMCPI580E" sending DATA frame for stream ID 9 with length 10240 and flags NONE. 
2025-09-18 15:59:27.9037|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMCPI580E" sending DATA frame for stream ID 9 with length 10240 and flags NONE. 
2025-09-18 15:59:27.9037|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMCPI580E" sending DATA frame for stream ID 9 with length 10240 and flags NONE. 
2025-09-18 15:59:27.9037|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMCPI580E" sending DATA frame for stream ID 9 with length 10240 and flags NONE. 
2025-09-18 15:59:27.9037|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMCPI580E" sending DATA frame for stream ID 9 with length 10240 and flags NONE. 
2025-09-18 15:59:27.9037|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMCPI580E" sending DATA frame for stream ID 9 with length 10240 and flags NONE. 
2025-09-18 15:59:27.9037|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMCPI580E" sending DATA frame for stream ID 9 with length 1806 and flags NONE. 
2025-09-18 15:59:27.9089|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMCPI580E" sending DATA frame for stream ID 9 with length 0 and flags END_STREAM. 
2025-09-18 15:59:27.9089|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7143/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 60.9180ms 
2025-09-18 15:59:28.0127|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMCPI580E" received HEADERS frame for stream ID 11 with length 48 and flags END_STREAM, END_HEADERS, PRIORITY. 
2025-09-18 15:59:28.0127|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7143/openapi/v1.json - - - 
2025-09-18 15:59:28.0127|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 15:59:28.0127|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/openapi/v1.json' 
2025-09-18 15:59:28.0127|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'HTTP: GET /openapi/{documentName}.json' with route pattern '/openapi/{documentName}.json' is valid for the request path '/openapi/v1.json' 
2025-09-18 15:59:28.0127|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'HTTP: GET /openapi/{documentName}.json' 
2025-09-18 15:59:28.0127|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 15:59:28.0127|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2025-09-18 15:59:28.0127|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'HTTP: GET /openapi/{documentName}.json' 
2025-09-18 15:59:28.2274|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMCPI580E" sending HEADERS frame for stream ID 11 with length 35 and flags END_HEADERS. 
2025-09-18 15:59:28.2274|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMCPI580E" sending DATA frame for stream ID 11 with length 16384 and flags NONE. 
2025-09-18 15:59:28.2274|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMCPI580E" sending DATA frame for stream ID 11 with length 16384 and flags NONE. 
2025-09-18 15:59:28.2274|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMCPI580E" sending DATA frame for stream ID 11 with length 16384 and flags NONE. 
2025-09-18 15:59:28.2274|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMCPI580E" sending DATA frame for stream ID 11 with length 9307 and flags NONE. 
2025-09-18 15:59:28.2274|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMCPI580E" received HEADERS frame for stream ID 13 with length 35 and flags END_STREAM, END_HEADERS, PRIORITY. 
2025-09-18 15:59:28.2274|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7143/openapi/v1.json - - - 
2025-09-18 15:59:28.2274|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 15:59:28.2274|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/openapi/v1.json' 
2025-09-18 15:59:28.2274|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'HTTP: GET /openapi/{documentName}.json' with route pattern '/openapi/{documentName}.json' is valid for the request path '/openapi/v1.json' 
2025-09-18 15:59:28.2274|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'HTTP: GET /openapi/{documentName}.json' 
2025-09-18 15:59:28.2274|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 15:59:28.2274|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2025-09-18 15:59:28.2274|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'HTTP: GET /openapi/{documentName}.json' 
2025-09-18 15:59:28.2274|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'HTTP: GET /openapi/{documentName}.json' 
2025-09-18 15:59:28.2274|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7143/openapi/v1.json - 200 - application/json;charset=utf-8 219.3439ms 
2025-09-18 15:59:28.2274|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMCPI580E" sending DATA frame for stream ID 11 with length 0 and flags END_STREAM. 
2025-09-18 15:59:28.2685|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMCPI580E" sending HEADERS frame for stream ID 13 with length 4 and flags END_HEADERS. 
2025-09-18 15:59:28.2685|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMCPI580E" sending DATA frame for stream ID 13 with length 16384 and flags NONE. 
2025-09-18 15:59:28.2685|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMCPI580E" sending DATA frame for stream ID 13 with length 16384 and flags NONE. 
2025-09-18 15:59:28.2685|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMCPI580E" sending DATA frame for stream ID 13 with length 16384 and flags NONE. 
2025-09-18 15:59:28.2685|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMCPI580E" sending DATA frame for stream ID 13 with length 9307 and flags NONE. 
2025-09-18 15:59:28.2685|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'HTTP: GET /openapi/{documentName}.json' 
2025-09-18 15:59:28.2692|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMCPI580E" sending DATA frame for stream ID 13 with length 0 and flags END_STREAM. 
2025-09-18 15:59:28.2692|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7143/openapi/v1.json - 200 - application/json;charset=utf-8 39.4548ms 
2025-09-18 15:59:30.0828|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMMCPI580E" received FIN. 
2025-09-18 15:59:30.0828|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMMCPI580F" received FIN. 
2025-09-18 15:59:30.0828|62|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Http2|The connection queue processing loop for 0HNFMMCPI580E completed. 
2025-09-18 15:59:30.0828|62|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Http2|The connection queue processing loop for 0HNFMMCPI580F completed. 
2025-09-18 15:59:30.0828|48|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMCPI580F" is closed. The last processed stream ID was 0. 
2025-09-18 15:59:30.0828|48|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMCPI580E" is closed. The last processed stream ID was 13. 
2025-09-18 15:59:30.0828|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMMCPI580F" sending FIN because: "The Socket transport's send loop completed gracefully." 
2025-09-18 15:59:30.0828|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMMCPI580E" sending FIN because: "The Socket transport's send loop completed gracefully." 
2025-09-18 15:59:30.0998|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMMCPI580F" stopped. 
2025-09-18 15:59:30.0998|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMMCPI580E" stopped. 
2025-09-18 15:59:45.6572|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMMCPI580G" accepted. 
2025-09-18 15:59:45.6572|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMMCPI580G" started. 
2025-09-18 15:59:45.6708|3|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Connection 0HNFMMCPI580G established using the following protocol: Tls13 
2025-09-18 15:59:45.6708|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMCPI580G" sending SETTINGS frame for stream ID 0 with length 24 and flags NONE. 
2025-09-18 15:59:45.6708|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMCPI580G" sending WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2025-09-18 15:59:45.6708|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMCPI580G" received SETTINGS frame for stream ID 0 with length 24 and flags NONE. 
2025-09-18 15:59:45.6708|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMCPI580G" sending SETTINGS frame for stream ID 0 with length 0 and flags ACK. 
2025-09-18 15:59:45.6708|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMCPI580G" received WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2025-09-18 15:59:45.6708|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMCPI580G" received HEADERS frame for stream ID 1 with length 472 and flags END_STREAM, END_HEADERS, PRIORITY. 
2025-09-18 15:59:45.6708|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMCPI580G" received SETTINGS frame for stream ID 0 with length 0 and flags ACK. 
2025-09-18 15:59:45.6708|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:7143/api/BookRental/return/4b6fa7d1-1d47-4f6d-8c4c-08ddf520da5b - text/plain;charset=UTF-8 0 
2025-09-18 15:59:45.6708|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 15:59:45.6708|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/BookRental/return/4b6fa7d1-1d47-4f6d-8c4c-08ddf520da5b' 
2025-09-18 15:59:45.6708|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.ReturnBook (LibraryManagementSystem.API)' with route pattern 'api/BookRental/return/{rentalId}' is valid for the request path '/api/BookRental/return/4b6fa7d1-1d47-4f6d-8c4c-08ddf520da5b' 
2025-09-18 15:59:45.6708|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.ReturnBook (LibraryManagementSystem.API)' 
2025-09-18 15:59:45.6708|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 15:59:45.6708|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2025-09-18 15:59:45.6774|0|DEBUG|Microsoft.AspNetCore.Authorization.AuthorizationMiddleware|Policy authentication schemes  did not succeed 
2025-09-18 15:59:45.6774|2|INFO|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Customer) 
2025-09-18 15:59:45.6774|12|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was challenged. 
2025-09-18 15:59:45.6774|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:7143/api/BookRental/return/4b6fa7d1-1d47-4f6d-8c4c-08ddf520da5b - 401 0 - 12.8666ms 
2025-09-18 15:59:45.6774|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMCPI580G" sending HEADERS frame for stream ID 1 with length 57 and flags END_STREAM, END_HEADERS. 
2025-09-18 16:00:20.1519|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMMCPI580G" received FIN. 
2025-09-18 16:00:20.1519|48|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMCPI580G" is closed. The last processed stream ID was 1. 
2025-09-18 16:00:20.1519|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMMCPI580G" sending FIN because: "The Socket transport's send loop completed gracefully." 
2025-09-18 16:00:20.1519|62|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Http2|The connection queue processing loop for 0HNFMMCPI580G completed. 
2025-09-18 16:00:20.2196|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMMCPI580G" stopped. 
2025-09-18 16:03:02.2549|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMMCPI580H" received FIN. 
2025-09-18 16:03:02.2549|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMMCPI580H" accepted. 
2025-09-18 16:03:02.2892|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMMCPI580H" started. 
2025-09-18 16:03:02.2892|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMMCPI580I" accepted. 
2025-09-18 16:03:02.3218|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMMCPI580I" started. 
2025-09-18 16:03:02.3309|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Failed to authenticate HTTPS connection. System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-09-18 16:03:02.3309|3|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Connection 0HNFMMCPI580I established using the following protocol: Tls13 
2025-09-18 16:03:02.3309|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMMCPI580H" stopped. 
2025-09-18 16:03:02.3309|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMMCPI580H" sending FIN because: "The Socket transport's send loop completed gracefully." 
2025-09-18 16:03:02.3309|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 POST https://localhost:7143/api/BookRentalreturn/{4051417f-d300-468b-8c4b-08ddf520da5b} - - 0 
2025-09-18 16:03:02.3309|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 16:03:02.3309|1000|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|No candidates found for the request path '/api/BookRentalreturn/{4051417f-d300-468b-8c4b-08ddf520da5b}' 
2025-09-18 16:03:02.3309|2|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request did not match any endpoints 
2025-09-18 16:03:02.4496|2|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Successfully validated the token. 
2025-09-18 16:03:02.4496|8|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was successfully authenticated. 
2025-09-18 16:03:02.4496|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMMCPI580I" completed keep alive response. 
2025-09-18 16:03:02.4496|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 POST https://localhost:7143/api/BookRentalreturn/{4051417f-d300-468b-8c4b-08ddf520da5b} - 404 0 - 113.7621ms 
2025-09-18 16:03:02.4553|16|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request reached the end of the middleware pipeline without being handled by application code. Request path: POST https://localhost:7143/api/BookRentalreturn/%7B4051417f-d300-468b-8c4b-08ddf520da5b%7D, Response status code: 404 
2025-09-18 16:03:20.0426|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 POST https://localhost:7143/api/BookRentalreurn/{4051417f-d300-468b-8c4b-08ddf520da5b} - - 0 
2025-09-18 16:03:20.0426|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 16:03:20.0426|1000|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|No candidates found for the request path '/api/BookRentalreurn/{4051417f-d300-468b-8c4b-08ddf520da5b}' 
2025-09-18 16:03:20.0426|2|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request did not match any endpoints 
2025-09-18 16:03:20.0426|2|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Successfully validated the token. 
2025-09-18 16:03:20.0426|8|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was successfully authenticated. 
2025-09-18 16:03:20.0426|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMMCPI580I" completed keep alive response. 
2025-09-18 16:03:20.0426|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 POST https://localhost:7143/api/BookRentalreurn/{4051417f-d300-468b-8c4b-08ddf520da5b} - 404 0 - 2.1114ms 
2025-09-18 16:03:20.0426|16|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request reached the end of the middleware pipeline without being handled by application code. Request path: POST https://localhost:7143/api/BookRentalreurn/%7B4051417f-d300-468b-8c4b-08ddf520da5b%7D, Response status code: 404 
2025-09-18 16:03:32.7291|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 POST https://localhost:7143/api/BookRental/return/{4051417f-d300-468b-8c4b-08ddf520da5b} - - 0 
2025-09-18 16:03:32.7291|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 16:03:32.7291|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/BookRental/return/{4051417f-d300-468b-8c4b-08ddf520da5b}' 
2025-09-18 16:03:32.7291|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.ReturnBook (LibraryManagementSystem.API)' with route pattern 'api/BookRental/return/{rentalId}' is valid for the request path '/api/BookRental/return/{4051417f-d300-468b-8c4b-08ddf520da5b}' 
2025-09-18 16:03:32.7291|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.ReturnBook (LibraryManagementSystem.API)' 
2025-09-18 16:03:32.7291|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 16:03:32.7291|2|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Successfully validated the token. 
2025-09-18 16:03:32.7291|8|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was successfully authenticated. 
2025-09-18 16:03:32.7291|1|DEBUG|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization was successful. 
2025-09-18 16:03:32.7291|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.ReturnBook (LibraryManagementSystem.API)' 
2025-09-18 16:03:32.8160|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "ReturnBook", controller = "BookRental"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ReturnBook(System.Guid) on controller LibraryManagementSystem.API.Controllers.BookRentalController (LibraryManagementSystem.API). 
2025-09-18 16:03:32.8160|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2025-09-18 16:03:32.8160|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2025-09-18 16:03:32.8160|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2025-09-18 16:03:32.8160|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2025-09-18 16:03:32.8160|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2025-09-18 16:03:32.8160|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller LibraryManagementSystem.API.Controllers.BookRentalController (LibraryManagementSystem.API) 
2025-09-18 16:03:33.0585|10401|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|An 'IServiceProvider' was created for internal use by Entity Framework. 
2025-09-18 16:03:33.2634|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller LibraryManagementSystem.API.Controllers.BookRentalController (LibraryManagementSystem.API) 
2025-09-18 16:03:33.2707|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'rentalId' of type 'System.Guid' ... 
2025-09-18 16:03:33.2707|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'rentalId' of type 'System.Guid' using the name 'rentalId' in request data ... 
2025-09-18 16:03:33.2707|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'rentalId' of type 'System.Guid'. 
2025-09-18 16:03:33.2707|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'rentalId' of type 'System.Guid'. 
2025-09-18 16:03:33.2707|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'rentalId' of type 'System.Guid' ... 
2025-09-18 16:03:33.2707|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'rentalId' of type 'System.Guid'. 
2025-09-18 16:03:33.2707|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 16:03:33.2707|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 16:03:33.2707|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 16:03:33.2707|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 16:03:33.3036|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method LibraryManagementSystem.API.Controllers.BookRentalController.ReturnBook (LibraryManagementSystem.API) - Validation state: Valid 
2025-09-18 16:03:33.3036|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method LibraryManagementSystem.API.Controllers.BookRentalController.ReturnBook (LibraryManagementSystem.API) with arguments (4051417f-d300-468b-8c4b-08ddf520da5b) 
2025-09-18 16:03:34.1350|10601|DEBUG|Microsoft.EntityFrameworkCore.Model|The index {'BookId'} was not created on entity type 'BookCategory' as the properties are already covered by the index {'BookId', 'CategoryId'}. 
2025-09-18 16:03:34.1350|10601|DEBUG|Microsoft.EntityFrameworkCore.Model|The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}. 
2025-09-18 16:03:34.1350|10601|DEBUG|Microsoft.EntityFrameworkCore.Model|The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}. 
2025-09-18 16:03:34.3941|30000|WARN|Microsoft.EntityFrameworkCore.Model.Validation|No store type was specified for the decimal property 'Price' on entity type 'Book'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'. 
2025-09-18 16:03:34.5300|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 9.0.8 initialized 'LibraryContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.8' with options: EngineType=SqlServer  
2025-09-18 16:03:34.6224|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<BookRentals>()
    .Include(r => r.Book)
    .Include(r => r.Customer)' 
2025-09-18 16:03:34.7563|10112|DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'BookRentals.Book'. 
2025-09-18 16:03:34.7563|10112|DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'BookRentals.Customer'. 
2025-09-18 16:03:35.2744|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<BookRentals>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: BookRentals.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: BookRentals.BookId (Guid) Required FK Index, 1], [Property: BookRentals.CustomerId (string) Required FK Index, 2], [Property: BookRentals.Price (double) Required, 3], [Property: BookRentals.Quantity (int) Required, 4], [Property: BookRentals.RentEndDate (DateTime) Required, 5], [Property: BookRentals.RentStartDate (DateTime) Required, 6] }
            1 -> Dictionary<IProperty, int> { [Property: Book.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: Book.CreatedAt (DateTime) Required, 8], [Property: Book.Description (string), 9], [Property: Book.LastModifiedAt (DateTime?), 10], [Property: Book.LastModifiedBy (DateTime?), 11], [Property: Book.Price (decimal?), 12], [Property: Book.PublisherId (Guid?) FK Index, 13], [Property: Book.Quantity (int) Required, 14], [Property: Book.Title (string), 15] }
            2 -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 16], [Property: User.AccessFailedCount (int) Required, 17], [Property: User.ConcurrencyStamp (string) Concurrency, 18], [Property: User.DateCreated (DateTime) Required, 19], [Property: User.Email (string) MaxLength(256), 20], [Property: User.EmailConfirmed (bool) Required, 21], [Property: User.FirstName (string) Required, 22], [Property: User.LastName (string) Required, 23], [Property: User.LockoutEnabled (bool) Required, 24], [Property: User.LockoutEnd (DateTimeOffset?), 25], [Property: User.NormalizedEmail (string) Index MaxLength(256), 26], [Property: User.NormalizedUserName (string) Index MaxLength(256), 27], [Property: User.PasswordHash (string), 28], [Property: User.PhoneNumber (string), 29], [Property: User.PhoneNumberConfirmed (bool) Required, 30], [Property: User.SecurityStamp (string), 31], [Property: User.TwoFactorEnabled (bool) Required, 32], [Property: User.UserName (string) MaxLength(256), 33] }
        SELECT b.Id, b.BookId, b.CustomerId, b.Price, b.Quantity, b.RentEndDate, b.RentStartDate, b0.Id, b0.CreatedAt, b0.Description, b0.LastModifiedAt, b0.LastModifiedBy, b0.Price, b0.PublisherId, b0.Quantity, b0.Title, a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.DateCreated, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
        FROM BookRentals AS b
        INNER JOIN Books AS b0 ON b.BookId == b0.Id
        INNER JOIN AspNetUsers AS a ON b.CustomerId == a.Id) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: BookRentals.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: BookRentals.BookId (Guid) Required FK Index, 1], [Property: BookRentals.CustomerId (string) Required FK Index, 2], [Property: BookRentals.Price (double) Required, 3], [Property: BookRentals.Quantity (int) Required, 4], [Property: BookRentals.RentEndDate (DateTime) Required, 5], [Property: BookRentals.RentStartDate (DateTime) Required, 6] }
            1 -> Dictionary<IProperty, int> { [Property: Book.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: Book.CreatedAt (DateTime) Required, 8], [Property: Book.Description (string), 9], [Property: Book.LastModifiedAt (DateTime?), 10], [Property: Book.LastModifiedBy (DateTime?), 11], [Property: Book.Price (decimal?), 12], [Property: Book.PublisherId (Guid?) FK Index, 13], [Property: Book.Quantity (int) Required, 14], [Property: Book.Title (string), 15] }
            2 -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 16], [Property: User.AccessFailedCount (int) Required, 17], [Property: User.ConcurrencyStamp (string) Concurrency, 18], [Property: User.DateCreated (DateTime) Required, 19], [Property: User.Email (string) MaxLength(256), 20], [Property: User.EmailConfirmed (bool) Required, 21], [Property: User.FirstName (string) Required, 22], [Property: User.LastName (string) Required, 23], [Property: User.LockoutEnabled (bool) Required, 24], [Property: User.LockoutEnd (DateTimeOffset?), 25], [Property: User.NormalizedEmail (string) Index MaxLength(256), 26], [Property: User.NormalizedUserName (string) Index MaxLength(256), 27], [Property: User.PasswordHash (string), 28], [Property: User.PhoneNumber (string), 29], [Property: User.PhoneNumberConfirmed (bool) Required, 30], [Property: User.SecurityStamp (string), 31], [Property: User.TwoFactorEnabled (bool) Required, 32], [Property: User.UserName (string) MaxLength(256), 33] }
        SELECT b.Id, b.BookId, b.CustomerId, b.Price, b.Quantity, b.RentEndDate, b.RentStartDate, b0.Id, b0.CreatedAt, b0.Description, b0.LastModifiedAt, b0.LastModifiedBy, b0.Price, b0.PublisherId, b0.Quantity, b0.Title, a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.DateCreated, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
        FROM BookRentals AS b
        INNER JOIN Books AS b0 ON b.BookId == b0.Id
        INNER JOIN AspNetUsers AS a ON b.CustomerId == a.Id, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        BookRentals entity;
        Book entity;
        User entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            BookRentals instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(BookRentals);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: BookRentals.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Entities.BookRentals").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (BookRentals)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: BookRentals | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Entities.BookRentals")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: BookRentals | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Entities.BookRentals")]: 
                        {
                            return 
                            {
                                BookRentals instance;
                                instance = new BookRentals();
                                instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                instance.<BookId>k__BackingField = dataReader.GetGuid(1);
                                instance.<CustomerId>k__BackingField = dataReader.GetString(2);
                                instance.<Price>k__BackingField = dataReader.GetDouble(3);
                                instance.<Quantity>k__BackingField = dataReader.GetInt32(4);
                                instance.<RentEndDate>k__BackingField = dataReader.GetDateTime(5);
                                instance.<RentStartDate>k__BackingField = dataReader.GetDateTime(6);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: BookRentals | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Entities.BookRentals")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(BookRentals)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        entity = 
        {
            MaterializationContext materializationContext2;
            IEntityType entityType2;
            Book instance2;
            InternalEntityEntry entry2;
            bool hasNullKey2;
            materializationContext2 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance2 = default(Book);
            entry2 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Book.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("LibraryManagmentSystem.Entities.Book").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(7) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey2);
            !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
            {
                entityType2 = entry2.EntityType;
                return instance2 = (Book)entry2.Entity;
            } : 
            {
                ISnapshot shadowSnapshot2;
                shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType2 = [LIFTABLE Constant: EntityType: Book | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("LibraryManagmentSystem.Entities.Book")];
                instance2 = switch (entityType2)
                {
                    case [LIFTABLE Constant: EntityType: Book | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("LibraryManagmentSystem.Entities.Book")]: 
                        {
                            return 
                            {
                                Book instance;
                                instance = new Book();
                                instance.<Id>k__BackingField = dataReader.GetGuid(7);
                                instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(8);
                                instance.<Description>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                instance.<LastModifiedAt>k__BackingField = dataReader.IsDBNull(10) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(10);
                                instance.<LastModifiedBy>k__BackingField = dataReader.IsDBNull(11) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(11);
                                instance.<Price>k__BackingField = dataReader.IsDBNull(12) ? default(decimal?) : (decimal?)dataReader.GetDecimal(12);
                                instance.<PublisherId>k__BackingField = dataReader.IsDBNull(13) ? default(Guid?) : (Guid?)dataReader.GetGuid(13);
                                instance.<Quantity>k__BackingField = dataReader.GetInt32(14);
                                instance.<Title>k__BackingField = dataReader.IsDBNull(15) ? default(string) : dataReader.GetString(15);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext2.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Book | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("LibraryManagmentSystem.Entities.Book")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Book)
                }
                ;
                entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType2, 
                    entity: instance2, 
                    snapshot: shadowSnapshot2);
                return instance2;
            } : default(void);
            return instance2;
        };
        entity = 
        {
            MaterializationContext materializationContext3;
            IEntityType entityType3;
            User instance3;
            InternalEntityEntry entry3;
            bool hasNullKey3;
            materializationContext3 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance3 = default(User);
            entry3 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Identity.User").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetString(16) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey3);
            !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
            {
                entityType3 = entry3.EntityType;
                return instance3 = (User)entry3.Entity;
            } : 
            {
                ISnapshot shadowSnapshot3;
                shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType3 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Identity.User")];
                instance3 = switch (entityType3)
                {
                    case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Identity.User")]: 
                        {
                            return 
                            {
                                User instance;
                                instance = new User();
                                instance.<Id>k__BackingField = dataReader.GetString(16);
                                instance.<AccessFailedCount>k__BackingField = dataReader.GetInt32(17);
                                instance.<ConcurrencyStamp>k__BackingField = dataReader.IsDBNull(18) ? default(string) : dataReader.GetString(18);
                                instance.<DateCreated>k__BackingField = dataReader.GetDateTime(19);
                                instance.<Email>k__BackingField = dataReader.IsDBNull(20) ? default(string) : dataReader.GetString(20);
                                instance.<EmailConfirmed>k__BackingField = dataReader.GetBoolean(21);
                                instance.<FirstName>k__BackingField = dataReader.GetString(22);
                                instance.<LastName>k__BackingField = dataReader.GetString(23);
                                instance.<LockoutEnabled>k__BackingField = dataReader.GetBoolean(24);
                                instance.<LockoutEnd>k__BackingField = dataReader.IsDBNull(25) ? default(DateTimeOffset?) : (DateTimeOffset?)dataReader.GetFieldValue<DateTimeOffset>(25);
                                instance.<NormalizedEmail>k__BackingField = dataReader.IsDBNull(26) ? default(string) : dataReader.GetString(26);
                                instance.<NormalizedUserName>k__BackingField = dataReader.IsDBNull(27) ? default(string) : dataReader.GetString(27);
                                instance.<PasswordHash>k__BackingField = dataReader.IsDBNull(28) ? default(string) : dataReader.GetString(28);
                                instance.<PhoneNumber>k__BackingField = dataReader.IsDBNull(29) ? default(string) : dataReader.GetString(29);
                                instance.<PhoneNumberConfirmed>k__BackingField = dataReader.GetBoolean(30);
                                instance.<SecurityStamp>k__BackingField = dataReader.IsDBNull(31) ? default(string) : dataReader.GetString(31);
                                instance.<TwoFactorEnabled>k__BackingField = dataReader.GetBoolean(32);
                                instance.<UserName>k__BackingField = dataReader.IsDBNull(33) ? default(string) : dataReader.GetString(33);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext3.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Identity.User")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(User)
                }
                ;
                entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType3, 
                    entity: instance3, 
                    snapshot: shadowSnapshot3);
                return instance3;
            } : default(void);
            return instance3;
        };
        ShaperProcessingExpressionVisitor.IncludeReference<BookRentals, BookRentals, Book>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: BookRentals.Book (Book) ToPrincipal Book Inverse: BookRentals | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Entities.BookRentals").FindNavigation("Book")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Book.BookRentals (ICollection<BookRentals>) Collection ToDependent BookRentals Inverse: Book | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("LibraryManagmentSystem.Entities.Book").FindNavigation("BookRentals")], 
            fixup: (namelessParameter{11}, namelessParameter{12}) => 
            {
                namelessParameter{11}.<Book>k__BackingField = namelessParameter{12};
                return [LIFTABLE Constant: ClrICollectionAccessor<Book, ICollection<BookRentals>, BookRentals> | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("LibraryManagmentSystem.Entities.Book").FindNavigation("BookRentals").GetCollectionAccessor()].Add(
                    entity: namelessParameter{12}, 
                    value: namelessParameter{11}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<BookRentals, BookRentals, User>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: BookRentals.Customer (User) ToPrincipal User Inverse: BookRentals | Resolver: namelessParameter{14} => namelessParameter{14}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Entities.BookRentals").FindNavigation("Customer")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: User.BookRentals (ICollection<BookRentals>) Collection ToDependent BookRentals Inverse: Customer | Resolver: namelessParameter{15} => namelessParameter{15}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Identity.User").FindNavigation("BookRentals")], 
            fixup: (namelessParameter{16}, namelessParameter{17}) => 
            {
                namelessParameter{16}.<Customer>k__BackingField = namelessParameter{17};
                return [LIFTABLE Constant: ClrICollectionAccessor<User, ICollection<BookRentals>, BookRentals> | Resolver: namelessParameter{18} => namelessParameter{18}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Identity.User").FindNavigation("BookRentals").GetCollectionAccessor()].Add(
                    entity: namelessParameter{17}, 
                    value: namelessParameter{16}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        return entity;
    }, 
    contextType: LibraryManagmentSystem.Data.LibraryContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)' 
2025-09-18 16:03:35.3430|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2025-09-18 16:03:35.3777|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (37ms). 
2025-09-18 16:03:35.3777|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 16:03:35.7320|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 16:03:35.7387|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2025-09-18 16:03:35.7387|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (8ms). 
2025-09-18 16:03:35.7387|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (12ms). 
2025-09-18 16:03:35.7660|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[CustomerId], [b].[Price], [b].[Quantity], [b].[RentEndDate], [b].[RentStartDate], [b0].[Id], [b0].[CreatedAt], [b0].[Description], [b0].[LastModifiedAt], [b0].[LastModifiedBy], [b0].[Price], [b0].[PublisherId], [b0].[Quantity], [b0].[Title], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateCreated], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [BookRentals] AS [b]
INNER JOIN [Books] AS [b0] ON [b].[BookId] = [b0].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [b].[CustomerId] = [a].[Id] 
2025-09-18 16:03:35.8798|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (112ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[CustomerId], [b].[Price], [b].[Quantity], [b].[RentEndDate], [b].[RentStartDate], [b0].[Id], [b0].[CreatedAt], [b0].[Description], [b0].[LastModifiedAt], [b0].[LastModifiedBy], [b0].[Price], [b0].[PublisherId], [b0].[Quantity], [b0].[Title], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateCreated], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [BookRentals] AS [b]
INNER JOIN [Books] AS [b0] ON [b].[BookId] = [b0].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [b].[CustomerId] = [a].[Id] 
2025-09-18 16:03:35.9501|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:03:36.0182|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Book' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:03:36.0336|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:03:36.0813|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:03:36.0839|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:03:36.1228|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:03:36.1228|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Book' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:03:36.1228|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:03:36.1228|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:03:36.1228|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Book' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:03:36.1228|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:03:36.1228|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:03:36.1228|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:03:36.1228|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:03:36.1228|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:03:36.1228|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:03:36.1228|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:03:36.1228|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:03:36.1228|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:03:36.1228|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:03:36.1228|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:03:36.1287|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:03:36.1287|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:03:36.1287|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 16:03:36.1484|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'LibraryDb' on server 'LAPTOP-4LPUPLC4' is being disposed after spending 259ms reading results. 
2025-09-18 16:03:36.1484|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 16:03:36.1621|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4' (8ms). 
2025-09-18 16:03:36.2677|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'ReturnedRental.Book' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:03:36.2710|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'ReturnedRental.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:03:36.2710|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'ReturnedRental' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:03:36.2837|10004|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'LibraryContext'. 
2025-09-18 16:03:36.2837|10800|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'LibraryContext'. 
2025-09-18 16:03:36.4240|10802|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The unchanged property 'BookRentals.Price' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2025-09-18 16:03:36.4381|10807|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'BookRentals' tracked by 'LibraryContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:03:36.4381|10802|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The unchanged property 'BookRentals.RentEndDate' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2025-09-18 16:03:36.4403|10801|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'LibraryContext'. 
2025-09-18 16:03:36.6143|20700|DEBUG|Microsoft.EntityFrameworkCore.Update|Executing 2 update commands as a batch. 
2025-09-18 16:03:36.6292|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 16:03:36.6805|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 16:03:36.6805|20209|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Beginning transaction with isolation level 'Unspecified'. 
2025-09-18 16:03:36.7025|20200|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Began transaction with isolation level 'ReadCommitted'. 
2025-09-18 16:03:36.7143|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2025-09-18 16:03:36.7143|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2025-09-18 16:03:36.7241|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (9ms). 
2025-09-18 16:03:36.7395|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Double), @p1='?' (DbType = DateTime2), @p3='?' (DbType = Guid), @p4='?' (DbType = Guid), @p5='?' (Size = 4000), @p6='?' (Size = 450), @p7='?' (Size = 4000), @p8='?' (DbType = Double), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime2), @p11='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [BookRentals] SET [Price] = @p0, [RentEndDate] = @p1
OUTPUT 1
WHERE [Id] = @p2;
INSERT INTO [ReturnedRentals] ([Id], [BookId], [BookTitle], [CustomerId], [CustomerName], [Price], [Quantity], [RentedAt], [ReturnedAt])
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11); 
2025-09-18 16:03:36.7846|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (60ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Double), @p1='?' (DbType = DateTime2), @p3='?' (DbType = Guid), @p4='?' (DbType = Guid), @p5='?' (Size = 4000), @p6='?' (Size = 450), @p7='?' (Size = 4000), @p8='?' (DbType = Double), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime2), @p11='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [BookRentals] SET [Price] = @p0, [RentEndDate] = @p1
OUTPUT 1
WHERE [Id] = @p2;
INSERT INTO [ReturnedRentals] ([Id], [BookId], [BookTitle], [CustomerId], [CustomerName], [Price], [Quantity], [RentedAt], [ReturnedAt])
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11); 
2025-09-18 16:03:36.7846|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 16:03:36.7846|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'LibraryDb' on server 'LAPTOP-4LPUPLC4' is being disposed after spending 6ms reading results. 
2025-09-18 16:03:36.7846|20210|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Committing transaction. 
2025-09-18 16:03:36.7846|20202|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Committed transaction. 
2025-09-18 16:03:36.8003|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 16:03:36.8003|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4' (0ms). 
2025-09-18 16:03:36.8003|20204|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Disposing transaction. 
2025-09-18 16:03:36.8003|10807|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'ReturnedRental' tracked by 'LibraryContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:03:36.8003|10807|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'BookRentals' tracked by 'LibraryContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:03:36.8003|10005|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'LibraryContext' with 2 entities written to the database. 
2025-09-18 16:03:36.8165|10004|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'LibraryContext'. 
2025-09-18 16:03:36.8165|10800|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'LibraryContext'. 
2025-09-18 16:03:36.8165|10802|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The unchanged property 'Book.Quantity' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2025-09-18 16:03:36.8165|10807|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'Book' tracked by 'LibraryContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:03:36.8165|10801|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'LibraryContext'. 
2025-09-18 16:03:36.8165|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 16:03:36.8355|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 16:03:36.8355|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2025-09-18 16:03:36.8355|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2025-09-18 16:03:36.8355|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2025-09-18 16:03:36.8355|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Books] SET [Quantity] = @p0
OUTPUT 1
WHERE [Id] = @p1; 
2025-09-18 16:03:36.8355|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (8ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Books] SET [Quantity] = @p0
OUTPUT 1
WHERE [Id] = @p1; 
2025-09-18 16:03:36.8355|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 16:03:36.8355|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'LibraryDb' on server 'LAPTOP-4LPUPLC4' is being disposed after spending 0ms reading results. 
2025-09-18 16:03:36.8355|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 16:03:36.8355|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4' (0ms). 
2025-09-18 16:03:36.8355|10807|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'Book' tracked by 'LibraryContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:03:36.8355|10005|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'LibraryContext' with 1 entities written to the database. 
2025-09-18 16:03:36.8481|10807|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'BookRentals' tracked by 'LibraryContext' changed state from 'Unchanged' to 'Deleted'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:03:36.8481|10004|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'LibraryContext'. 
2025-09-18 16:03:36.8481|10800|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'LibraryContext'. 
2025-09-18 16:03:36.8481|10801|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'LibraryContext'. 
2025-09-18 16:03:36.8481|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 16:03:36.8698|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 16:03:36.8989|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2025-09-18 16:03:36.8989|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2025-09-18 16:03:36.8989|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2025-09-18 16:03:36.8989|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [BookRentals]
OUTPUT 1
WHERE [Id] = @p0; 
2025-09-18 16:03:36.9099|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [BookRentals]
OUTPUT 1
WHERE [Id] = @p0; 
2025-09-18 16:03:36.9099|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 16:03:36.9099|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'LibraryDb' on server 'LAPTOP-4LPUPLC4' is being disposed after spending 0ms reading results. 
2025-09-18 16:03:36.9099|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 16:03:36.9099|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4' (0ms). 
2025-09-18 16:03:36.9099|10807|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'BookRentals' tracked by 'LibraryContext' changed state from 'Deleted' to 'Detached'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:03:36.9099|10005|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'LibraryContext' with 1 entities written to the database. 
2025-09-18 16:03:36.9527|103|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action method LibraryManagementSystem.API.Controllers.BookRentalController.ReturnBook (LibraryManagementSystem.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3636.3772ms. 
2025-09-18 16:03:36.9527|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 16:03:36.9527|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 16:03:36.9527|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 16:03:36.9527|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 16:03:36.9554|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 16:03:36.9554|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 16:03:36.9554|5|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult. 
2025-09-18 16:03:36.9554|11|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter 
2025-09-18 16:03:36.9554|4|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|No information found on request to perform content negotiation. 
2025-09-18 16:03:36.9554|8|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select an output formatter without using a content type as no explicit content types were specified for the response. 
2025-09-18 16:03:36.9554|10|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select the first formatter in the output formatters list which can write the result. 
2025-09-18 16:03:36.9554|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response. 
2025-09-18 16:03:36.9554|1|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'LibraryManagementSystem.API.DTO.BookRentalDTO'. 
2025-09-18 16:03:36.9814|6|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult. 
2025-09-18 16:03:36.9814|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 16:03:36.9814|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 16:03:36.9897|105|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action LibraryManagementSystem.API.Controllers.BookRentalController.ReturnBook (LibraryManagementSystem.API) in 4164.5156ms 
2025-09-18 16:03:36.9897|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.ReturnBook (LibraryManagementSystem.API)' 
2025-09-18 16:03:36.9897|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMMCPI580I" completed keep alive response. 
2025-09-18 16:03:36.9897|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'LibraryContext' disposed. 
2025-09-18 16:03:36.9897|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 16:03:36.9897|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (1ms). 
2025-09-18 16:03:36.9897|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 POST https://localhost:7143/api/BookRental/return/{4051417f-d300-468b-8c4b-08ddf520da5b} - 200 - application/json;+charset=utf-8 4269.8104ms 
2025-09-18 16:03:44.0308|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 POST https://localhost:7143/api/BookRental/return/{4051417f-d300-468b-8c4b-08ddf520da5b} - - 0 
2025-09-18 16:03:44.0308|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 16:03:44.0308|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/BookRental/return/{4051417f-d300-468b-8c4b-08ddf520da5b}' 
2025-09-18 16:03:44.0308|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.ReturnBook (LibraryManagementSystem.API)' with route pattern 'api/BookRental/return/{rentalId}' is valid for the request path '/api/BookRental/return/{4051417f-d300-468b-8c4b-08ddf520da5b}' 
2025-09-18 16:03:44.0308|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.ReturnBook (LibraryManagementSystem.API)' 
2025-09-18 16:03:44.0308|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 16:03:44.0308|2|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Successfully validated the token. 
2025-09-18 16:03:44.0308|8|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was successfully authenticated. 
2025-09-18 16:03:44.0336|1|DEBUG|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization was successful. 
2025-09-18 16:03:44.0336|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.ReturnBook (LibraryManagementSystem.API)' 
2025-09-18 16:03:44.0336|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "ReturnBook", controller = "BookRental"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ReturnBook(System.Guid) on controller LibraryManagementSystem.API.Controllers.BookRentalController (LibraryManagementSystem.API). 
2025-09-18 16:03:44.0336|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2025-09-18 16:03:44.0336|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2025-09-18 16:03:44.0336|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2025-09-18 16:03:44.0336|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2025-09-18 16:03:44.0336|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2025-09-18 16:03:44.0336|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller LibraryManagementSystem.API.Controllers.BookRentalController (LibraryManagementSystem.API) 
2025-09-18 16:03:44.0336|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller LibraryManagementSystem.API.Controllers.BookRentalController (LibraryManagementSystem.API) 
2025-09-18 16:03:44.0716|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'rentalId' of type 'System.Guid' ... 
2025-09-18 16:03:44.0716|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'rentalId' of type 'System.Guid' using the name 'rentalId' in request data ... 
2025-09-18 16:03:44.0716|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'rentalId' of type 'System.Guid'. 
2025-09-18 16:03:44.0716|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'rentalId' of type 'System.Guid'. 
2025-09-18 16:03:44.0716|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'rentalId' of type 'System.Guid' ... 
2025-09-18 16:03:44.0716|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'rentalId' of type 'System.Guid'. 
2025-09-18 16:03:44.0716|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 16:03:44.0716|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 16:03:44.0716|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 16:03:44.0716|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 16:03:44.0716|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method LibraryManagementSystem.API.Controllers.BookRentalController.ReturnBook (LibraryManagementSystem.API) - Validation state: Valid 
2025-09-18 16:03:44.0716|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method LibraryManagementSystem.API.Controllers.BookRentalController.ReturnBook (LibraryManagementSystem.API) with arguments (4051417f-d300-468b-8c4b-08ddf520da5b) 
2025-09-18 16:03:44.1475|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 9.0.8 initialized 'LibraryContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.8' with options: EngineType=SqlServer  
2025-09-18 16:03:44.1623|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2025-09-18 16:03:44.1623|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2025-09-18 16:03:44.1623|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 16:03:44.1764|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 16:03:44.1764|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2025-09-18 16:03:44.1764|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2025-09-18 16:03:44.1764|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2025-09-18 16:03:44.1764|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[CustomerId], [b].[Price], [b].[Quantity], [b].[RentEndDate], [b].[RentStartDate], [b0].[Id], [b0].[CreatedAt], [b0].[Description], [b0].[LastModifiedAt], [b0].[LastModifiedBy], [b0].[Price], [b0].[PublisherId], [b0].[Quantity], [b0].[Title], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateCreated], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [BookRentals] AS [b]
INNER JOIN [Books] AS [b0] ON [b].[BookId] = [b0].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [b].[CustomerId] = [a].[Id] 
2025-09-18 16:03:44.1764|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[CustomerId], [b].[Price], [b].[Quantity], [b].[RentEndDate], [b].[RentStartDate], [b0].[Id], [b0].[CreatedAt], [b0].[Description], [b0].[LastModifiedAt], [b0].[LastModifiedBy], [b0].[Price], [b0].[PublisherId], [b0].[Quantity], [b0].[Title], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateCreated], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [BookRentals] AS [b]
INNER JOIN [Books] AS [b0] ON [b].[BookId] = [b0].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [b].[CustomerId] = [a].[Id] 
2025-09-18 16:03:44.1764|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:03:44.1764|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Book' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:03:44.1764|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:03:44.1764|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:03:44.1764|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:03:44.1764|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:03:44.1764|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Book' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:03:44.1764|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:03:44.1764|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:03:44.1764|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Book' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:03:44.1764|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:03:44.1764|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:03:44.1764|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:03:44.1764|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:03:44.1764|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:03:44.1902|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:03:44.1902|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:03:44.1902|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:03:44.1902|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:03:44.1902|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:03:44.1902|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:03:44.1902|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 16:03:44.1902|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'LibraryDb' on server 'LAPTOP-4LPUPLC4' is being disposed after spending 4ms reading results. 
2025-09-18 16:03:44.1902|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 16:03:44.1902|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4' (0ms). 
2025-09-18 16:03:44.1902|103|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action method LibraryManagementSystem.API.Controllers.BookRentalController.ReturnBook (LibraryManagementSystem.API), returned result Microsoft.AspNetCore.Mvc.NotFoundObjectResult in 119.4265ms. 
2025-09-18 16:03:44.1902|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 16:03:44.1902|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 16:03:44.1902|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 16:03:44.1902|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 16:03:44.1902|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 16:03:44.1902|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 16:03:44.1902|5|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Before executing action result Microsoft.AspNetCore.Mvc.NotFoundObjectResult. 
2025-09-18 16:03:44.1902|11|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter 
2025-09-18 16:03:44.1902|4|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|No information found on request to perform content negotiation. 
2025-09-18 16:03:44.1902|8|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select an output formatter without using a content type as no explicit content types were specified for the response. 
2025-09-18 16:03:44.1902|10|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select the first formatter in the output formatters list which can write the result. 
2025-09-18 16:03:44.1902|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response. 
2025-09-18 16:03:44.1902|1|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing NotFoundObjectResult, writing value of type 'System.String'. 
2025-09-18 16:03:44.1902|6|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|After executing action result Microsoft.AspNetCore.Mvc.NotFoundObjectResult. 
2025-09-18 16:03:44.1902|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 16:03:44.1902|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 16:03:44.1902|105|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action LibraryManagementSystem.API.Controllers.BookRentalController.ReturnBook (LibraryManagementSystem.API) in 159.0217ms 
2025-09-18 16:03:44.1902|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.ReturnBook (LibraryManagementSystem.API)' 
2025-09-18 16:03:44.1902|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMMCPI580I" completed keep alive response. 
2025-09-18 16:03:44.1902|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'LibraryContext' disposed. 
2025-09-18 16:03:44.1902|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 16:03:44.1902|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2025-09-18 16:03:44.1902|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 POST https://localhost:7143/api/BookRental/return/{4051417f-d300-468b-8c4b-08ddf520da5b} - 404 - text/plain;+charset=utf-8 163.1704ms 
2025-09-18 16:03:45.9325|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 POST https://localhost:7143/api/BookRental/return/{4051417f-d300-468b-8c4b-08ddf520da5b} - - 0 
2025-09-18 16:03:45.9325|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 16:03:45.9325|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/BookRental/return/{4051417f-d300-468b-8c4b-08ddf520da5b}' 
2025-09-18 16:03:45.9325|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.ReturnBook (LibraryManagementSystem.API)' with route pattern 'api/BookRental/return/{rentalId}' is valid for the request path '/api/BookRental/return/{4051417f-d300-468b-8c4b-08ddf520da5b}' 
2025-09-18 16:03:45.9325|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.ReturnBook (LibraryManagementSystem.API)' 
2025-09-18 16:03:45.9325|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 16:03:45.9325|2|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Successfully validated the token. 
2025-09-18 16:03:45.9325|8|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was successfully authenticated. 
2025-09-18 16:03:45.9325|1|DEBUG|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization was successful. 
2025-09-18 16:03:45.9325|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.ReturnBook (LibraryManagementSystem.API)' 
2025-09-18 16:03:45.9325|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "ReturnBook", controller = "BookRental"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ReturnBook(System.Guid) on controller LibraryManagementSystem.API.Controllers.BookRentalController (LibraryManagementSystem.API). 
2025-09-18 16:03:45.9325|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2025-09-18 16:03:45.9325|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2025-09-18 16:03:45.9325|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2025-09-18 16:03:45.9325|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2025-09-18 16:03:45.9325|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2025-09-18 16:03:45.9325|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller LibraryManagementSystem.API.Controllers.BookRentalController (LibraryManagementSystem.API) 
2025-09-18 16:03:45.9397|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller LibraryManagementSystem.API.Controllers.BookRentalController (LibraryManagementSystem.API) 
2025-09-18 16:03:45.9397|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'rentalId' of type 'System.Guid' ... 
2025-09-18 16:03:45.9397|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'rentalId' of type 'System.Guid' using the name 'rentalId' in request data ... 
2025-09-18 16:03:45.9397|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'rentalId' of type 'System.Guid'. 
2025-09-18 16:03:45.9397|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'rentalId' of type 'System.Guid'. 
2025-09-18 16:03:45.9397|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'rentalId' of type 'System.Guid' ... 
2025-09-18 16:03:45.9397|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'rentalId' of type 'System.Guid'. 
2025-09-18 16:03:45.9397|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 16:03:45.9397|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 16:03:45.9397|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 16:03:45.9397|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 16:03:45.9397|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method LibraryManagementSystem.API.Controllers.BookRentalController.ReturnBook (LibraryManagementSystem.API) - Validation state: Valid 
2025-09-18 16:03:45.9397|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method LibraryManagementSystem.API.Controllers.BookRentalController.ReturnBook (LibraryManagementSystem.API) with arguments (4051417f-d300-468b-8c4b-08ddf520da5b) 
2025-09-18 16:03:45.9397|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 9.0.8 initialized 'LibraryContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.8' with options: EngineType=SqlServer  
2025-09-18 16:03:45.9397|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2025-09-18 16:03:45.9397|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2025-09-18 16:03:45.9397|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 16:03:45.9869|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 16:03:45.9869|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2025-09-18 16:03:45.9869|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2025-09-18 16:03:45.9869|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2025-09-18 16:03:45.9869|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[CustomerId], [b].[Price], [b].[Quantity], [b].[RentEndDate], [b].[RentStartDate], [b0].[Id], [b0].[CreatedAt], [b0].[Description], [b0].[LastModifiedAt], [b0].[LastModifiedBy], [b0].[Price], [b0].[PublisherId], [b0].[Quantity], [b0].[Title], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateCreated], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [BookRentals] AS [b]
INNER JOIN [Books] AS [b0] ON [b].[BookId] = [b0].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [b].[CustomerId] = [a].[Id] 
2025-09-18 16:03:45.9927|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[CustomerId], [b].[Price], [b].[Quantity], [b].[RentEndDate], [b].[RentStartDate], [b0].[Id], [b0].[CreatedAt], [b0].[Description], [b0].[LastModifiedAt], [b0].[LastModifiedBy], [b0].[Price], [b0].[PublisherId], [b0].[Quantity], [b0].[Title], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateCreated], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [BookRentals] AS [b]
INNER JOIN [Books] AS [b0] ON [b].[BookId] = [b0].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [b].[CustomerId] = [a].[Id] 
2025-09-18 16:03:45.9927|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:03:45.9927|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Book' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:03:45.9927|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:03:45.9927|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:03:45.9927|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:03:45.9927|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:03:45.9927|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Book' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:03:45.9927|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:03:45.9927|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:03:45.9927|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Book' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:03:45.9927|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:03:45.9927|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:03:45.9927|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:03:45.9927|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:03:45.9927|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:03:45.9927|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:03:45.9927|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:03:45.9927|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:03:45.9927|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:03:45.9927|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:03:45.9927|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:03:45.9927|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 16:03:45.9927|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'LibraryDb' on server 'LAPTOP-4LPUPLC4' is being disposed after spending 1ms reading results. 
2025-09-18 16:03:45.9927|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 16:03:45.9927|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4' (0ms). 
2025-09-18 16:03:45.9927|103|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action method LibraryManagementSystem.API.Controllers.BookRentalController.ReturnBook (LibraryManagementSystem.API), returned result Microsoft.AspNetCore.Mvc.NotFoundObjectResult in 54.8464ms. 
2025-09-18 16:03:45.9927|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 16:03:45.9927|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 16:03:45.9927|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 16:03:45.9927|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 16:03:45.9927|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 16:03:45.9927|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 16:03:45.9927|5|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Before executing action result Microsoft.AspNetCore.Mvc.NotFoundObjectResult. 
2025-09-18 16:03:45.9927|11|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter 
2025-09-18 16:03:45.9927|4|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|No information found on request to perform content negotiation. 
2025-09-18 16:03:45.9927|8|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select an output formatter without using a content type as no explicit content types were specified for the response. 
2025-09-18 16:03:45.9927|10|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select the first formatter in the output formatters list which can write the result. 
2025-09-18 16:03:45.9927|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response. 
2025-09-18 16:03:45.9927|1|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing NotFoundObjectResult, writing value of type 'System.String'. 
2025-09-18 16:03:45.9927|6|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|After executing action result Microsoft.AspNetCore.Mvc.NotFoundObjectResult. 
2025-09-18 16:03:45.9927|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 16:03:45.9927|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 16:03:45.9927|105|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action LibraryManagementSystem.API.Controllers.BookRentalController.ReturnBook (LibraryManagementSystem.API) in 61.3998ms 
2025-09-18 16:03:45.9927|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.ReturnBook (LibraryManagementSystem.API)' 
2025-09-18 16:03:45.9927|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMMCPI580I" completed keep alive response. 
2025-09-18 16:03:45.9927|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'LibraryContext' disposed. 
2025-09-18 16:03:45.9927|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 16:03:45.9927|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2025-09-18 16:03:45.9927|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 POST https://localhost:7143/api/BookRental/return/{4051417f-d300-468b-8c4b-08ddf520da5b} - 404 - text/plain;+charset=utf-8 63.1981ms 
2025-09-18 16:03:49.9375|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 POST https://localhost:7143/api/BookRental/return/{4051417f-d300-468b-8c4b-08ddf520da5b} - - 0 
2025-09-18 16:03:49.9375|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 16:03:49.9375|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/BookRental/return/{4051417f-d300-468b-8c4b-08ddf520da5b}' 
2025-09-18 16:03:49.9375|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.ReturnBook (LibraryManagementSystem.API)' with route pattern 'api/BookRental/return/{rentalId}' is valid for the request path '/api/BookRental/return/{4051417f-d300-468b-8c4b-08ddf520da5b}' 
2025-09-18 16:03:49.9375|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.ReturnBook (LibraryManagementSystem.API)' 
2025-09-18 16:03:49.9375|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 16:03:49.9375|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2025-09-18 16:03:49.9375|0|DEBUG|Microsoft.AspNetCore.Authorization.AuthorizationMiddleware|Policy authentication schemes  did not succeed 
2025-09-18 16:03:49.9375|2|INFO|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Customer) 
2025-09-18 16:03:49.9375|12|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was challenged. 
2025-09-18 16:03:49.9375|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMMCPI580I" completed keep alive response. 
2025-09-18 16:03:49.9375|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 POST https://localhost:7143/api/BookRental/return/{4051417f-d300-468b-8c4b-08ddf520da5b} - 401 0 - 1.5487ms 
2025-09-18 16:04:08.3136|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 POST https://localhost:7143/api/BookRental/return/{5043b1ff-8a65-4ca4-cac5-08ddf063e069} - - 0 
2025-09-18 16:04:08.3136|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 16:04:08.3136|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/BookRental/return/{5043b1ff-8a65-4ca4-cac5-08ddf063e069}' 
2025-09-18 16:04:08.3136|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.ReturnBook (LibraryManagementSystem.API)' with route pattern 'api/BookRental/return/{rentalId}' is valid for the request path '/api/BookRental/return/{5043b1ff-8a65-4ca4-cac5-08ddf063e069}' 
2025-09-18 16:04:08.3136|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.ReturnBook (LibraryManagementSystem.API)' 
2025-09-18 16:04:08.3136|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 16:04:08.3146|2|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Successfully validated the token. 
2025-09-18 16:04:08.3146|8|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was successfully authenticated. 
2025-09-18 16:04:08.3146|1|DEBUG|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService|Authorization was successful. 
2025-09-18 16:04:08.3146|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.ReturnBook (LibraryManagementSystem.API)' 
2025-09-18 16:04:08.3146|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "ReturnBook", controller = "BookRental"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ReturnBook(System.Guid) on controller LibraryManagementSystem.API.Controllers.BookRentalController (LibraryManagementSystem.API). 
2025-09-18 16:04:08.3146|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2025-09-18 16:04:08.3146|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2025-09-18 16:04:08.3146|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2025-09-18 16:04:08.3146|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2025-09-18 16:04:08.3146|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2025-09-18 16:04:08.3146|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller LibraryManagementSystem.API.Controllers.BookRentalController (LibraryManagementSystem.API) 
2025-09-18 16:04:08.3146|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller LibraryManagementSystem.API.Controllers.BookRentalController (LibraryManagementSystem.API) 
2025-09-18 16:04:08.3146|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'rentalId' of type 'System.Guid' ... 
2025-09-18 16:04:08.3146|44|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Attempting to bind parameter 'rentalId' of type 'System.Guid' using the name 'rentalId' in request data ... 
2025-09-18 16:04:08.3146|45|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder|Done attempting to bind parameter 'rentalId' of type 'System.Guid'. 
2025-09-18 16:04:08.3146|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'rentalId' of type 'System.Guid'. 
2025-09-18 16:04:08.3146|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'rentalId' of type 'System.Guid' ... 
2025-09-18 16:04:08.3146|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'rentalId' of type 'System.Guid'. 
2025-09-18 16:04:08.3146|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 16:04:08.3146|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 16:04:08.3146|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 16:04:08.3146|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 16:04:08.3146|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method LibraryManagementSystem.API.Controllers.BookRentalController.ReturnBook (LibraryManagementSystem.API) - Validation state: Valid 
2025-09-18 16:04:08.3146|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method LibraryManagementSystem.API.Controllers.BookRentalController.ReturnBook (LibraryManagementSystem.API) with arguments (5043b1ff-8a65-4ca4-cac5-08ddf063e069) 
2025-09-18 16:04:08.3146|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 9.0.8 initialized 'LibraryContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.8' with options: EngineType=SqlServer  
2025-09-18 16:04:08.3146|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2025-09-18 16:04:08.3146|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2025-09-18 16:04:08.3146|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 16:04:08.3366|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 16:04:08.3366|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2025-09-18 16:04:08.3366|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2025-09-18 16:04:08.3366|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2025-09-18 16:04:08.3366|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[CustomerId], [b].[Price], [b].[Quantity], [b].[RentEndDate], [b].[RentStartDate], [b0].[Id], [b0].[CreatedAt], [b0].[Description], [b0].[LastModifiedAt], [b0].[LastModifiedBy], [b0].[Price], [b0].[PublisherId], [b0].[Quantity], [b0].[Title], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateCreated], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [BookRentals] AS [b]
INNER JOIN [Books] AS [b0] ON [b].[BookId] = [b0].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [b].[CustomerId] = [a].[Id] 
2025-09-18 16:04:08.3523|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[CustomerId], [b].[Price], [b].[Quantity], [b].[RentEndDate], [b].[RentStartDate], [b0].[Id], [b0].[CreatedAt], [b0].[Description], [b0].[LastModifiedAt], [b0].[LastModifiedBy], [b0].[Price], [b0].[PublisherId], [b0].[Quantity], [b0].[Title], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateCreated], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [BookRentals] AS [b]
INNER JOIN [Books] AS [b0] ON [b].[BookId] = [b0].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [b].[CustomerId] = [a].[Id] 
2025-09-18 16:04:08.3523|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:04:08.3523|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Book' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:04:08.3523|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:04:08.3523|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:04:08.3523|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:04:08.3523|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:04:08.3523|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Book' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:04:08.3523|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:04:08.3523|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:04:08.3523|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Book' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:04:08.3523|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:04:08.3523|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:04:08.3523|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:04:08.3523|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:04:08.3523|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:04:08.3523|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:04:08.3523|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:04:08.3523|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:04:08.3523|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:04:08.3523|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:04:08.3523|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:04:08.3523|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 16:04:08.3523|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'LibraryDb' on server 'LAPTOP-4LPUPLC4' is being disposed after spending 1ms reading results. 
2025-09-18 16:04:08.3523|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 16:04:08.3523|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4' (0ms). 
2025-09-18 16:04:08.3523|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'ReturnedRental.Book' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:04:08.3523|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'ReturnedRental.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:04:08.3523|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'ReturnedRental' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:04:08.3523|10004|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'LibraryContext'. 
2025-09-18 16:04:08.3523|10800|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'LibraryContext'. 
2025-09-18 16:04:08.3523|10802|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The unchanged property 'BookRentals.Price' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2025-09-18 16:04:08.3523|10807|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'BookRentals' tracked by 'LibraryContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:04:08.3523|10802|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The unchanged property 'BookRentals.RentEndDate' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2025-09-18 16:04:08.3523|10801|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'LibraryContext'. 
2025-09-18 16:04:08.3523|20700|DEBUG|Microsoft.EntityFrameworkCore.Update|Executing 2 update commands as a batch. 
2025-09-18 16:04:08.3523|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 16:04:08.3961|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 16:04:08.3961|20209|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Beginning transaction with isolation level 'Unspecified'. 
2025-09-18 16:04:08.3961|20200|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Began transaction with isolation level 'ReadCommitted'. 
2025-09-18 16:04:08.3961|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2025-09-18 16:04:08.3961|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2025-09-18 16:04:08.3961|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2025-09-18 16:04:08.3961|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Double), @p1='?' (DbType = DateTime2), @p3='?' (DbType = Guid), @p4='?' (DbType = Guid), @p5='?' (Size = 4000), @p6='?' (Size = 450), @p7='?' (Size = 4000), @p8='?' (DbType = Double), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime2), @p11='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [BookRentals] SET [Price] = @p0, [RentEndDate] = @p1
OUTPUT 1
WHERE [Id] = @p2;
INSERT INTO [ReturnedRentals] ([Id], [BookId], [BookTitle], [CustomerId], [CustomerName], [Price], [Quantity], [RentedAt], [ReturnedAt])
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11); 
2025-09-18 16:04:08.3961|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (10ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Double), @p1='?' (DbType = DateTime2), @p3='?' (DbType = Guid), @p4='?' (DbType = Guid), @p5='?' (Size = 4000), @p6='?' (Size = 450), @p7='?' (Size = 4000), @p8='?' (DbType = Double), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime2), @p11='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [BookRentals] SET [Price] = @p0, [RentEndDate] = @p1
OUTPUT 1
WHERE [Id] = @p2;
INSERT INTO [ReturnedRentals] ([Id], [BookId], [BookTitle], [CustomerId], [CustomerName], [Price], [Quantity], [RentedAt], [ReturnedAt])
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11); 
2025-09-18 16:04:08.3961|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 16:04:08.3961|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'LibraryDb' on server 'LAPTOP-4LPUPLC4' is being disposed after spending 0ms reading results. 
2025-09-18 16:04:08.3961|20210|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Committing transaction. 
2025-09-18 16:04:08.3961|20202|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Committed transaction. 
2025-09-18 16:04:08.3961|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 16:04:08.3961|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4' (0ms). 
2025-09-18 16:04:08.3961|20204|DEBUG|Microsoft.EntityFrameworkCore.Database.Transaction|Disposing transaction. 
2025-09-18 16:04:08.3961|10807|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'ReturnedRental' tracked by 'LibraryContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:04:08.3961|10807|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'BookRentals' tracked by 'LibraryContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:04:08.3961|10005|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'LibraryContext' with 2 entities written to the database. 
2025-09-18 16:04:08.4087|10004|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'LibraryContext'. 
2025-09-18 16:04:08.4087|10800|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'LibraryContext'. 
2025-09-18 16:04:08.4087|10802|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The unchanged property 'Book.Quantity' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2025-09-18 16:04:08.4087|10807|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'Book' tracked by 'LibraryContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:04:08.4087|10801|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'LibraryContext'. 
2025-09-18 16:04:08.4087|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 16:04:08.4087|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 16:04:08.4422|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2025-09-18 16:04:08.4422|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2025-09-18 16:04:08.4422|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2025-09-18 16:04:08.4422|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Books] SET [Quantity] = @p0
OUTPUT 1
WHERE [Id] = @p1; 
2025-09-18 16:04:08.4422|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Books] SET [Quantity] = @p0
OUTPUT 1
WHERE [Id] = @p1; 
2025-09-18 16:04:08.4422|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 16:04:08.4422|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'LibraryDb' on server 'LAPTOP-4LPUPLC4' is being disposed after spending 0ms reading results. 
2025-09-18 16:04:08.4422|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 16:04:08.4422|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4' (0ms). 
2025-09-18 16:04:08.4422|10807|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'Book' tracked by 'LibraryContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:04:08.4422|10005|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'LibraryContext' with 1 entities written to the database. 
2025-09-18 16:04:08.4422|10807|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'BookRentals' tracked by 'LibraryContext' changed state from 'Unchanged' to 'Deleted'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:04:08.4422|10004|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges starting for 'LibraryContext'. 
2025-09-18 16:04:08.4422|10800|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges starting for 'LibraryContext'. 
2025-09-18 16:04:08.4422|10801|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|DetectChanges completed for 'LibraryContext'. 
2025-09-18 16:04:08.4422|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 16:04:08.4877|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 16:04:08.4877|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2025-09-18 16:04:08.4877|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2025-09-18 16:04:08.4877|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2025-09-18 16:04:08.4877|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[@p0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [BookRentals]
OUTPUT 1
WHERE [Id] = @p0; 
2025-09-18 16:04:08.4877|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [BookRentals]
OUTPUT 1
WHERE [Id] = @p0; 
2025-09-18 16:04:08.4877|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 16:04:08.4877|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'LibraryDb' on server 'LAPTOP-4LPUPLC4' is being disposed after spending 0ms reading results. 
2025-09-18 16:04:08.4877|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 16:04:08.4877|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4' (0ms). 
2025-09-18 16:04:08.4877|10807|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|An entity of type 'BookRentals' tracked by 'LibraryContext' changed state from 'Deleted' to 'Detached'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:04:08.4877|10005|DEBUG|Microsoft.EntityFrameworkCore.Update|SaveChanges completed for 'LibraryContext' with 1 entities written to the database. 
2025-09-18 16:04:08.4877|103|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action method LibraryManagementSystem.API.Controllers.BookRentalController.ReturnBook (LibraryManagementSystem.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 179.2472ms. 
2025-09-18 16:04:08.4877|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 16:04:08.4877|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 16:04:08.4877|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 16:04:08.4877|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 16:04:08.4877|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 16:04:08.4877|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 16:04:08.4877|5|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult. 
2025-09-18 16:04:08.4877|11|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter 
2025-09-18 16:04:08.4877|4|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|No information found on request to perform content negotiation. 
2025-09-18 16:04:08.4877|8|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select an output formatter without using a content type as no explicit content types were specified for the response. 
2025-09-18 16:04:08.4877|10|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Attempting to select the first formatter in the output formatters list which can write the result. 
2025-09-18 16:04:08.4877|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector|Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response. 
2025-09-18 16:04:08.4877|1|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'LibraryManagementSystem.API.DTO.BookRentalDTO'. 
2025-09-18 16:04:08.4877|6|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult. 
2025-09-18 16:04:08.4877|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 16:04:08.4877|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 16:04:08.4877|105|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action LibraryManagementSystem.API.Controllers.BookRentalController.ReturnBook (LibraryManagementSystem.API) in 181.6217ms 
2025-09-18 16:04:08.4877|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'LibraryManagementSystem.API.Controllers.BookRentalController.ReturnBook (LibraryManagementSystem.API)' 
2025-09-18 16:04:08.4877|9|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMMCPI580I" completed keep alive response. 
2025-09-18 16:04:08.4877|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'LibraryContext' disposed. 
2025-09-18 16:04:08.4877|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 16:04:08.4877|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2025-09-18 16:04:08.4877|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 POST https://localhost:7143/api/BookRental/return/{5043b1ff-8a65-4ca4-cac5-08ddf063e069} - 200 - application/json;+charset=utf-8 183.4519ms 
2025-09-18 16:04:28.4153|39|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMMCPI580J" accepted. 
2025-09-18 16:04:28.4153|1|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMMCPI580J" started. 
2025-09-18 16:04:28.4255|3|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware|Connection 0HNFMMCPI580J established using the following protocol: Tls13 
2025-09-18 16:04:28.4255|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMCPI580J" sending SETTINGS frame for stream ID 0 with length 24 and flags NONE. 
2025-09-18 16:04:28.4255|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMCPI580J" sending WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2025-09-18 16:04:28.4255|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMCPI580J" received SETTINGS frame for stream ID 0 with length 24 and flags NONE. 
2025-09-18 16:04:28.4255|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMCPI580J" sending SETTINGS frame for stream ID 0 with length 0 and flags ACK. 
2025-09-18 16:04:28.4255|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMCPI580J" received WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2025-09-18 16:04:28.4255|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMCPI580J" received HEADERS frame for stream ID 1 with length 401 and flags END_STREAM, END_HEADERS, PRIORITY. 
2025-09-18 16:04:28.4255|1|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7143/api/Reports/export-rentals - - - 
2025-09-18 16:04:28.4255|2|TRACE|Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware|All hosts are allowed. 
2025-09-18 16:04:28.4255|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMCPI580J" received SETTINGS frame for stream ID 0 with length 0 and flags ACK. 
2025-09-18 16:04:28.4255|1001|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|1 candidate(s) found for the request path '/api/Reports/export-rentals' 
2025-09-18 16:04:28.4255|1005|DEBUG|Microsoft.AspNetCore.Routing.Matching.DfaMatcher|Endpoint 'LibraryManagementSystem.API.Controllers.ReportsController.ExportRentals (LibraryManagementSystem.API)' with route pattern 'api/Reports/export-rentals' is valid for the request path '/api/Reports/export-rentals' 
2025-09-18 16:04:28.4255|1|DEBUG|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|Request matched endpoint 'LibraryManagementSystem.API.Controllers.ReportsController.ExportRentals (LibraryManagementSystem.API)' 
2025-09-18 16:04:28.4255|8|TRACE|Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware|The endpoint does not specify the IRequestSizeLimitMetadata. 
2025-09-18 16:04:28.4255|9|DEBUG|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|AuthenticationScheme: Bearer was not authenticated. 
2025-09-18 16:04:28.4255|0|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'LibraryManagementSystem.API.Controllers.ReportsController.ExportRentals (LibraryManagementSystem.API)' 
2025-09-18 16:04:28.4255|102|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "ExportRentals", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExportRentals(LibraryManagementSystem.API.Services.ExcelExportService) on controller LibraryManagementSystem.API.Controllers.ReportsController (LibraryManagementSystem.API). 
2025-09-18 16:04:28.4255|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of authorization filters (in the following order): None 
2025-09-18 16:04:28.4255|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of resource filters (in the following order): None 
2025-09-18 16:04:28.4255|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2025-09-18 16:04:28.4255|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of exception filters (in the following order): None 
2025-09-18 16:04:28.4255|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2025-09-18 16:04:28.4255|1|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing controller factory for controller LibraryManagementSystem.API.Controllers.ReportsController (LibraryManagementSystem.API) 
2025-09-18 16:04:28.4255|2|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed controller factory for controller LibraryManagementSystem.API.Controllers.ReportsController (LibraryManagementSystem.API) 
2025-09-18 16:04:28.4255|22|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to bind parameter 'excelExportService' of type 'LibraryManagementSystem.API.Services.ExcelExportService' ... 
2025-09-18 16:04:28.4255|23|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to bind parameter 'excelExportService' of type 'LibraryManagementSystem.API.Services.ExcelExportService'. 
2025-09-18 16:04:28.4255|26|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Attempting to validate the bound parameter 'excelExportService' of type 'LibraryManagementSystem.API.Services.ExcelExportService' ... 
2025-09-18 16:04:28.4255|27|DEBUG|Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder|Done attempting to validate the bound parameter 'excelExportService' of type 'LibraryManagementSystem.API.Services.ExcelExportService'. 
2025-09-18 16:04:28.4255|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 16:04:28.4255|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 16:04:28.4255|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 16:04:28.4255|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 16:04:28.4255|101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method LibraryManagementSystem.API.Controllers.ReportsController.ExportRentals (LibraryManagementSystem.API) - Validation state: Valid 
2025-09-18 16:04:28.4255|102|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executing action method LibraryManagementSystem.API.Controllers.ReportsController.ExportRentals (LibraryManagementSystem.API) with arguments (LibraryManagementSystem.API.Services.ExcelExportService) 
2025-09-18 16:04:28.4255|10403|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 9.0.8 initialized 'LibraryContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.8' with options: EngineType=SqlServer  
2025-09-18 16:04:28.4255|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<BookRentals>()
    .Include(r => r.Customer)
    .Include(r => r.Book)' 
2025-09-18 16:04:28.4255|10112|DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'BookRentals.Customer'. 
2025-09-18 16:04:28.4255|10112|DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'BookRentals.Book'. 
2025-09-18 16:04:28.4772|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<BookRentals>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: BookRentals.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: BookRentals.BookId (Guid) Required FK Index, 1], [Property: BookRentals.CustomerId (string) Required FK Index, 2], [Property: BookRentals.Price (double) Required, 3], [Property: BookRentals.Quantity (int) Required, 4], [Property: BookRentals.RentEndDate (DateTime) Required, 5], [Property: BookRentals.RentStartDate (DateTime) Required, 6] }
            1 -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 7], [Property: User.AccessFailedCount (int) Required, 8], [Property: User.ConcurrencyStamp (string) Concurrency, 9], [Property: User.DateCreated (DateTime) Required, 10], [Property: User.Email (string) MaxLength(256), 11], [Property: User.EmailConfirmed (bool) Required, 12], [Property: User.FirstName (string) Required, 13], [Property: User.LastName (string) Required, 14], [Property: User.LockoutEnabled (bool) Required, 15], [Property: User.LockoutEnd (DateTimeOffset?), 16], [Property: User.NormalizedEmail (string) Index MaxLength(256), 17], [Property: User.NormalizedUserName (string) Index MaxLength(256), 18], [Property: User.PasswordHash (string), 19], [Property: User.PhoneNumber (string), 20], [Property: User.PhoneNumberConfirmed (bool) Required, 21], [Property: User.SecurityStamp (string), 22], [Property: User.TwoFactorEnabled (bool) Required, 23], [Property: User.UserName (string) MaxLength(256), 24] }
            2 -> Dictionary<IProperty, int> { [Property: Book.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 25], [Property: Book.CreatedAt (DateTime) Required, 26], [Property: Book.Description (string), 27], [Property: Book.LastModifiedAt (DateTime?), 28], [Property: Book.LastModifiedBy (DateTime?), 29], [Property: Book.Price (decimal?), 30], [Property: Book.PublisherId (Guid?) FK Index, 31], [Property: Book.Quantity (int) Required, 32], [Property: Book.Title (string), 33] }
        SELECT b.Id, b.BookId, b.CustomerId, b.Price, b.Quantity, b.RentEndDate, b.RentStartDate, a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.DateCreated, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, b0.Id, b0.CreatedAt, b0.Description, b0.LastModifiedAt, b0.LastModifiedBy, b0.Price, b0.PublisherId, b0.Quantity, b0.Title
        FROM BookRentals AS b
        INNER JOIN AspNetUsers AS a ON b.CustomerId == a.Id
        INNER JOIN Books AS b0 ON b.BookId == b0.Id) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: BookRentals.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: BookRentals.BookId (Guid) Required FK Index, 1], [Property: BookRentals.CustomerId (string) Required FK Index, 2], [Property: BookRentals.Price (double) Required, 3], [Property: BookRentals.Quantity (int) Required, 4], [Property: BookRentals.RentEndDate (DateTime) Required, 5], [Property: BookRentals.RentStartDate (DateTime) Required, 6] }
            1 -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 7], [Property: User.AccessFailedCount (int) Required, 8], [Property: User.ConcurrencyStamp (string) Concurrency, 9], [Property: User.DateCreated (DateTime) Required, 10], [Property: User.Email (string) MaxLength(256), 11], [Property: User.EmailConfirmed (bool) Required, 12], [Property: User.FirstName (string) Required, 13], [Property: User.LastName (string) Required, 14], [Property: User.LockoutEnabled (bool) Required, 15], [Property: User.LockoutEnd (DateTimeOffset?), 16], [Property: User.NormalizedEmail (string) Index MaxLength(256), 17], [Property: User.NormalizedUserName (string) Index MaxLength(256), 18], [Property: User.PasswordHash (string), 19], [Property: User.PhoneNumber (string), 20], [Property: User.PhoneNumberConfirmed (bool) Required, 21], [Property: User.SecurityStamp (string), 22], [Property: User.TwoFactorEnabled (bool) Required, 23], [Property: User.UserName (string) MaxLength(256), 24] }
            2 -> Dictionary<IProperty, int> { [Property: Book.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 25], [Property: Book.CreatedAt (DateTime) Required, 26], [Property: Book.Description (string), 27], [Property: Book.LastModifiedAt (DateTime?), 28], [Property: Book.LastModifiedBy (DateTime?), 29], [Property: Book.Price (decimal?), 30], [Property: Book.PublisherId (Guid?) FK Index, 31], [Property: Book.Quantity (int) Required, 32], [Property: Book.Title (string), 33] }
        SELECT b.Id, b.BookId, b.CustomerId, b.Price, b.Quantity, b.RentEndDate, b.RentStartDate, a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.DateCreated, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, b0.Id, b0.CreatedAt, b0.Description, b0.LastModifiedAt, b0.LastModifiedBy, b0.Price, b0.PublisherId, b0.Quantity, b0.Title
        FROM BookRentals AS b
        INNER JOIN AspNetUsers AS a ON b.CustomerId == a.Id
        INNER JOIN Books AS b0 ON b.BookId == b0.Id, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        BookRentals entity;
        User entity;
        Book entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            BookRentals instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(BookRentals);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: BookRentals.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Entities.BookRentals").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (BookRentals)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: BookRentals | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Entities.BookRentals")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: BookRentals | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Entities.BookRentals")]: 
                        {
                            return 
                            {
                                BookRentals instance;
                                instance = new BookRentals();
                                instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                instance.<BookId>k__BackingField = dataReader.GetGuid(1);
                                instance.<CustomerId>k__BackingField = dataReader.GetString(2);
                                instance.<Price>k__BackingField = dataReader.GetDouble(3);
                                instance.<Quantity>k__BackingField = dataReader.GetInt32(4);
                                instance.<RentEndDate>k__BackingField = dataReader.GetDateTime(5);
                                instance.<RentStartDate>k__BackingField = dataReader.GetDateTime(6);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: BookRentals | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Entities.BookRentals")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(BookRentals)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        entity = 
        {
            MaterializationContext materializationContext2;
            IEntityType entityType2;
            User instance2;
            InternalEntityEntry entry2;
            bool hasNullKey2;
            materializationContext2 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance2 = default(User);
            entry2 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Identity.User").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetString(7) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey2);
            !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
            {
                entityType2 = entry2.EntityType;
                return instance2 = (User)entry2.Entity;
            } : 
            {
                ISnapshot shadowSnapshot2;
                shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType2 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Identity.User")];
                instance2 = switch (entityType2)
                {
                    case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Identity.User")]: 
                        {
                            return 
                            {
                                User instance;
                                instance = new User();
                                instance.<Id>k__BackingField = dataReader.GetString(7);
                                instance.<AccessFailedCount>k__BackingField = dataReader.GetInt32(8);
                                instance.<ConcurrencyStamp>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                instance.<DateCreated>k__BackingField = dataReader.GetDateTime(10);
                                instance.<Email>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                instance.<EmailConfirmed>k__BackingField = dataReader.GetBoolean(12);
                                instance.<FirstName>k__BackingField = dataReader.GetString(13);
                                instance.<LastName>k__BackingField = dataReader.GetString(14);
                                instance.<LockoutEnabled>k__BackingField = dataReader.GetBoolean(15);
                                instance.<LockoutEnd>k__BackingField = dataReader.IsDBNull(16) ? default(DateTimeOffset?) : (DateTimeOffset?)dataReader.GetFieldValue<DateTimeOffset>(16);
                                instance.<NormalizedEmail>k__BackingField = dataReader.IsDBNull(17) ? default(string) : dataReader.GetString(17);
                                instance.<NormalizedUserName>k__BackingField = dataReader.IsDBNull(18) ? default(string) : dataReader.GetString(18);
                                instance.<PasswordHash>k__BackingField = dataReader.IsDBNull(19) ? default(string) : dataReader.GetString(19);
                                instance.<PhoneNumber>k__BackingField = dataReader.IsDBNull(20) ? default(string) : dataReader.GetString(20);
                                instance.<PhoneNumberConfirmed>k__BackingField = dataReader.GetBoolean(21);
                                instance.<SecurityStamp>k__BackingField = dataReader.IsDBNull(22) ? default(string) : dataReader.GetString(22);
                                instance.<TwoFactorEnabled>k__BackingField = dataReader.GetBoolean(23);
                                instance.<UserName>k__BackingField = dataReader.IsDBNull(24) ? default(string) : dataReader.GetString(24);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext2.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Identity.User")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(User)
                }
                ;
                entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType2, 
                    entity: instance2, 
                    snapshot: shadowSnapshot2);
                return instance2;
            } : default(void);
            return instance2;
        };
        entity = 
        {
            MaterializationContext materializationContext3;
            IEntityType entityType3;
            Book instance3;
            InternalEntityEntry entry3;
            bool hasNullKey3;
            materializationContext3 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance3 = default(Book);
            entry3 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Book.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("LibraryManagmentSystem.Entities.Book").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(25) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey3);
            !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
            {
                entityType3 = entry3.EntityType;
                return instance3 = (Book)entry3.Entity;
            } : 
            {
                ISnapshot shadowSnapshot3;
                shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType3 = [LIFTABLE Constant: EntityType: Book | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("LibraryManagmentSystem.Entities.Book")];
                instance3 = switch (entityType3)
                {
                    case [LIFTABLE Constant: EntityType: Book | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("LibraryManagmentSystem.Entities.Book")]: 
                        {
                            return 
                            {
                                Book instance;
                                instance = new Book();
                                instance.<Id>k__BackingField = dataReader.GetGuid(25);
                                instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(26);
                                instance.<Description>k__BackingField = dataReader.IsDBNull(27) ? default(string) : dataReader.GetString(27);
                                instance.<LastModifiedAt>k__BackingField = dataReader.IsDBNull(28) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(28);
                                instance.<LastModifiedBy>k__BackingField = dataReader.IsDBNull(29) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(29);
                                instance.<Price>k__BackingField = dataReader.IsDBNull(30) ? default(decimal?) : (decimal?)dataReader.GetDecimal(30);
                                instance.<PublisherId>k__BackingField = dataReader.IsDBNull(31) ? default(Guid?) : (Guid?)dataReader.GetGuid(31);
                                instance.<Quantity>k__BackingField = dataReader.GetInt32(32);
                                instance.<Title>k__BackingField = dataReader.IsDBNull(33) ? default(string) : dataReader.GetString(33);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext3.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Book | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("LibraryManagmentSystem.Entities.Book")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Book)
                }
                ;
                entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType3, 
                    entity: instance3, 
                    snapshot: shadowSnapshot3);
                return instance3;
            } : default(void);
            return instance3;
        };
        ShaperProcessingExpressionVisitor.IncludeReference<BookRentals, BookRentals, User>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: BookRentals.Customer (User) ToPrincipal User Inverse: BookRentals | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Entities.BookRentals").FindNavigation("Customer")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: User.BookRentals (ICollection<BookRentals>) Collection ToDependent BookRentals Inverse: Customer | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Identity.User").FindNavigation("BookRentals")], 
            fixup: (namelessParameter{11}, namelessParameter{12}) => 
            {
                namelessParameter{11}.<Customer>k__BackingField = namelessParameter{12};
                return [LIFTABLE Constant: ClrICollectionAccessor<User, ICollection<BookRentals>, BookRentals> | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Identity.User").FindNavigation("BookRentals").GetCollectionAccessor()].Add(
                    entity: namelessParameter{12}, 
                    value: namelessParameter{11}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<BookRentals, BookRentals, Book>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: BookRentals.Book (Book) ToPrincipal Book Inverse: BookRentals | Resolver: namelessParameter{14} => namelessParameter{14}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Entities.BookRentals").FindNavigation("Book")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Book.BookRentals (ICollection<BookRentals>) Collection ToDependent BookRentals Inverse: Book | Resolver: namelessParameter{15} => namelessParameter{15}.Dependencies.Model.FindEntityType("LibraryManagmentSystem.Entities.Book").FindNavigation("BookRentals")], 
            fixup: (namelessParameter{16}, namelessParameter{17}) => 
            {
                namelessParameter{16}.<Book>k__BackingField = namelessParameter{17};
                return [LIFTABLE Constant: ClrICollectionAccessor<Book, ICollection<BookRentals>, BookRentals> | Resolver: namelessParameter{18} => namelessParameter{18}.Dependencies.Model.FindEntityType("LibraryManagmentSystem.Entities.Book").FindNavigation("BookRentals").GetCollectionAccessor()].Add(
                    entity: namelessParameter{17}, 
                    value: namelessParameter{16}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        return entity;
    }, 
    contextType: LibraryManagmentSystem.Data.LibraryContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)' 
2025-09-18 16:04:28.4772|20005|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Creating DbConnection. 
2025-09-18 16:04:28.4772|20006|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Created DbConnection. (0ms). 
2025-09-18 16:04:28.4772|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 16:04:28.4994|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 16:04:28.5256|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2025-09-18 16:04:28.5256|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2025-09-18 16:04:28.5256|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2025-09-18 16:04:28.5256|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[CustomerId], [b].[Price], [b].[Quantity], [b].[RentEndDate], [b].[RentStartDate], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateCreated], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [b0].[Id], [b0].[CreatedAt], [b0].[Description], [b0].[LastModifiedAt], [b0].[LastModifiedBy], [b0].[Price], [b0].[PublisherId], [b0].[Quantity], [b0].[Title]
FROM [BookRentals] AS [b]
INNER JOIN [AspNetUsers] AS [a] ON [b].[CustomerId] = [a].[Id]
INNER JOIN [Books] AS [b0] ON [b].[BookId] = [b0].[Id] 
2025-09-18 16:04:28.5353|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[CustomerId], [b].[Price], [b].[Quantity], [b].[RentEndDate], [b].[RentStartDate], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateCreated], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [b0].[Id], [b0].[CreatedAt], [b0].[Description], [b0].[LastModifiedAt], [b0].[LastModifiedBy], [b0].[Price], [b0].[PublisherId], [b0].[Quantity], [b0].[Title]
FROM [BookRentals] AS [b]
INNER JOIN [AspNetUsers] AS [a] ON [b].[CustomerId] = [a].[Id]
INNER JOIN [Books] AS [b0] ON [b].[BookId] = [b0].[Id] 
2025-09-18 16:04:28.5353|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:04:28.5353|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:04:28.5353|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:04:28.5353|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Book' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:04:28.5353|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:04:28.5353|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:04:28.5353|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:04:28.5353|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:04:28.5353|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Book' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:04:28.5353|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:04:28.5353|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:04:28.5353|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:04:28.5353|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:04:28.5353|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:04:28.5353|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:04:28.5353|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:04:28.5353|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'BookRentals.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:04:28.5353|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'BookRentals' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:04:28.5353|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 16:04:28.5353|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'LibraryDb' on server 'LAPTOP-4LPUPLC4' is being disposed after spending 3ms reading results. 
2025-09-18 16:04:28.5353|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 16:04:28.5353|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4' (0ms). 
2025-09-18 16:04:28.5353|10111|DEBUG|Microsoft.EntityFrameworkCore.Query|Compiling query expression: 
'DbSet<ReturnedRental>()
    .Include(r => r.Book)
    .Include(r => r.Customer)' 
2025-09-18 16:04:28.5353|10112|DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'ReturnedRental.Book'. 
2025-09-18 16:04:28.5353|10112|DEBUG|Microsoft.EntityFrameworkCore.Query|Including navigation: 'ReturnedRental.Customer'. 
2025-09-18 16:04:28.5651|10107|DEBUG|Microsoft.EntityFrameworkCore.Query|Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<ReturnedRental>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: ReturnedRental.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ReturnedRental.BookId (Guid) Required FK Index, 1], [Property: ReturnedRental.BookTitle (string) Required, 2], [Property: ReturnedRental.CustomerId (string) Required FK Index, 3], [Property: ReturnedRental.CustomerName (string) Required, 4], [Property: ReturnedRental.Price (double) Required, 5], [Property: ReturnedRental.Quantity (int) Required, 6], [Property: ReturnedRental.RentedAt (DateTime) Required, 7], [Property: ReturnedRental.ReturnedAt (DateTime) Required, 8] }
            1 -> Dictionary<IProperty, int> { [Property: Book.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: Book.CreatedAt (DateTime) Required, 10], [Property: Book.Description (string), 11], [Property: Book.LastModifiedAt (DateTime?), 12], [Property: Book.LastModifiedBy (DateTime?), 13], [Property: Book.Price (decimal?), 14], [Property: Book.PublisherId (Guid?) FK Index, 15], [Property: Book.Quantity (int) Required, 16], [Property: Book.Title (string), 17] }
            2 -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 18], [Property: User.AccessFailedCount (int) Required, 19], [Property: User.ConcurrencyStamp (string) Concurrency, 20], [Property: User.DateCreated (DateTime) Required, 21], [Property: User.Email (string) MaxLength(256), 22], [Property: User.EmailConfirmed (bool) Required, 23], [Property: User.FirstName (string) Required, 24], [Property: User.LastName (string) Required, 25], [Property: User.LockoutEnabled (bool) Required, 26], [Property: User.LockoutEnd (DateTimeOffset?), 27], [Property: User.NormalizedEmail (string) Index MaxLength(256), 28], [Property: User.NormalizedUserName (string) Index MaxLength(256), 29], [Property: User.PasswordHash (string), 30], [Property: User.PhoneNumber (string), 31], [Property: User.PhoneNumberConfirmed (bool) Required, 32], [Property: User.SecurityStamp (string), 33], [Property: User.TwoFactorEnabled (bool) Required, 34], [Property: User.UserName (string) MaxLength(256), 35] }
        SELECT r.Id, r.BookId, r.BookTitle, r.CustomerId, r.CustomerName, r.Price, r.Quantity, r.RentedAt, r.ReturnedAt, b.Id, b.CreatedAt, b.Description, b.LastModifiedAt, b.LastModifiedBy, b.Price, b.PublisherId, b.Quantity, b.Title, a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.DateCreated, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
        FROM ReturnedRentals AS r
        INNER JOIN Books AS b ON r.BookId == b.Id
        INNER JOIN AspNetUsers AS a ON r.CustomerId == a.Id) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: ReturnedRental.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ReturnedRental.BookId (Guid) Required FK Index, 1], [Property: ReturnedRental.BookTitle (string) Required, 2], [Property: ReturnedRental.CustomerId (string) Required FK Index, 3], [Property: ReturnedRental.CustomerName (string) Required, 4], [Property: ReturnedRental.Price (double) Required, 5], [Property: ReturnedRental.Quantity (int) Required, 6], [Property: ReturnedRental.RentedAt (DateTime) Required, 7], [Property: ReturnedRental.ReturnedAt (DateTime) Required, 8] }
            1 -> Dictionary<IProperty, int> { [Property: Book.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: Book.CreatedAt (DateTime) Required, 10], [Property: Book.Description (string), 11], [Property: Book.LastModifiedAt (DateTime?), 12], [Property: Book.LastModifiedBy (DateTime?), 13], [Property: Book.Price (decimal?), 14], [Property: Book.PublisherId (Guid?) FK Index, 15], [Property: Book.Quantity (int) Required, 16], [Property: Book.Title (string), 17] }
            2 -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 18], [Property: User.AccessFailedCount (int) Required, 19], [Property: User.ConcurrencyStamp (string) Concurrency, 20], [Property: User.DateCreated (DateTime) Required, 21], [Property: User.Email (string) MaxLength(256), 22], [Property: User.EmailConfirmed (bool) Required, 23], [Property: User.FirstName (string) Required, 24], [Property: User.LastName (string) Required, 25], [Property: User.LockoutEnabled (bool) Required, 26], [Property: User.LockoutEnd (DateTimeOffset?), 27], [Property: User.NormalizedEmail (string) Index MaxLength(256), 28], [Property: User.NormalizedUserName (string) Index MaxLength(256), 29], [Property: User.PasswordHash (string), 30], [Property: User.PhoneNumber (string), 31], [Property: User.PhoneNumberConfirmed (bool) Required, 32], [Property: User.SecurityStamp (string), 33], [Property: User.TwoFactorEnabled (bool) Required, 34], [Property: User.UserName (string) MaxLength(256), 35] }
        SELECT r.Id, r.BookId, r.BookTitle, r.CustomerId, r.CustomerName, r.Price, r.Quantity, r.RentedAt, r.ReturnedAt, b.Id, b.CreatedAt, b.Description, b.LastModifiedAt, b.LastModifiedBy, b.Price, b.PublisherId, b.Quantity, b.Title, a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.DateCreated, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
        FROM ReturnedRentals AS r
        INNER JOIN Books AS b ON r.BookId == b.Id
        INNER JOIN AspNetUsers AS a ON r.CustomerId == a.Id, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        ReturnedRental entity;
        Book entity;
        User entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            ReturnedRental instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(ReturnedRental);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: ReturnedRental.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Entities.ReturnedRental").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (ReturnedRental)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: ReturnedRental | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Entities.ReturnedRental")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: ReturnedRental | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Entities.ReturnedRental")]: 
                        {
                            return 
                            {
                                ReturnedRental instance;
                                instance = new ReturnedRental();
                                instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                instance.<BookId>k__BackingField = dataReader.GetGuid(1);
                                instance.<BookTitle>k__BackingField = dataReader.GetString(2);
                                instance.<CustomerId>k__BackingField = dataReader.GetString(3);
                                instance.<CustomerName>k__BackingField = dataReader.GetString(4);
                                instance.<Price>k__BackingField = dataReader.GetDouble(5);
                                instance.<Quantity>k__BackingField = dataReader.GetInt32(6);
                                instance.<RentedAt>k__BackingField = dataReader.GetDateTime(7);
                                instance.<ReturnedAt>k__BackingField = dataReader.GetDateTime(8);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: ReturnedRental | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Entities.ReturnedRental")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(ReturnedRental)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        entity = 
        {
            MaterializationContext materializationContext2;
            IEntityType entityType2;
            Book instance2;
            InternalEntityEntry entry2;
            bool hasNullKey2;
            materializationContext2 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance2 = default(Book);
            entry2 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Book.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("LibraryManagmentSystem.Entities.Book").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(9) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey2);
            !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
            {
                entityType2 = entry2.EntityType;
                return instance2 = (Book)entry2.Entity;
            } : 
            {
                ISnapshot shadowSnapshot2;
                shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType2 = [LIFTABLE Constant: EntityType: Book | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("LibraryManagmentSystem.Entities.Book")];
                instance2 = switch (entityType2)
                {
                    case [LIFTABLE Constant: EntityType: Book | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("LibraryManagmentSystem.Entities.Book")]: 
                        {
                            return 
                            {
                                Book instance;
                                instance = new Book();
                                instance.<Id>k__BackingField = dataReader.GetGuid(9);
                                instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(10);
                                instance.<Description>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                instance.<LastModifiedAt>k__BackingField = dataReader.IsDBNull(12) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(12);
                                instance.<LastModifiedBy>k__BackingField = dataReader.IsDBNull(13) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(13);
                                instance.<Price>k__BackingField = dataReader.IsDBNull(14) ? default(decimal?) : (decimal?)dataReader.GetDecimal(14);
                                instance.<PublisherId>k__BackingField = dataReader.IsDBNull(15) ? default(Guid?) : (Guid?)dataReader.GetGuid(15);
                                instance.<Quantity>k__BackingField = dataReader.GetInt32(16);
                                instance.<Title>k__BackingField = dataReader.IsDBNull(17) ? default(string) : dataReader.GetString(17);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext2.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Book | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("LibraryManagmentSystem.Entities.Book")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Book)
                }
                ;
                entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType2, 
                    entity: instance2, 
                    snapshot: shadowSnapshot2);
                return instance2;
            } : default(void);
            return instance2;
        };
        entity = 
        {
            MaterializationContext materializationContext3;
            IEntityType entityType3;
            User instance3;
            InternalEntityEntry entry3;
            bool hasNullKey3;
            materializationContext3 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance3 = default(User);
            entry3 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: User.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Identity.User").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetString(18) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey3);
            !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
            {
                entityType3 = entry3.EntityType;
                return instance3 = (User)entry3.Entity;
            } : 
            {
                ISnapshot shadowSnapshot3;
                shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType3 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Identity.User")];
                instance3 = switch (entityType3)
                {
                    case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Identity.User")]: 
                        {
                            return 
                            {
                                User instance;
                                instance = new User();
                                instance.<Id>k__BackingField = dataReader.GetString(18);
                                instance.<AccessFailedCount>k__BackingField = dataReader.GetInt32(19);
                                instance.<ConcurrencyStamp>k__BackingField = dataReader.IsDBNull(20) ? default(string) : dataReader.GetString(20);
                                instance.<DateCreated>k__BackingField = dataReader.GetDateTime(21);
                                instance.<Email>k__BackingField = dataReader.IsDBNull(22) ? default(string) : dataReader.GetString(22);
                                instance.<EmailConfirmed>k__BackingField = dataReader.GetBoolean(23);
                                instance.<FirstName>k__BackingField = dataReader.GetString(24);
                                instance.<LastName>k__BackingField = dataReader.GetString(25);
                                instance.<LockoutEnabled>k__BackingField = dataReader.GetBoolean(26);
                                instance.<LockoutEnd>k__BackingField = dataReader.IsDBNull(27) ? default(DateTimeOffset?) : (DateTimeOffset?)dataReader.GetFieldValue<DateTimeOffset>(27);
                                instance.<NormalizedEmail>k__BackingField = dataReader.IsDBNull(28) ? default(string) : dataReader.GetString(28);
                                instance.<NormalizedUserName>k__BackingField = dataReader.IsDBNull(29) ? default(string) : dataReader.GetString(29);
                                instance.<PasswordHash>k__BackingField = dataReader.IsDBNull(30) ? default(string) : dataReader.GetString(30);
                                instance.<PhoneNumber>k__BackingField = dataReader.IsDBNull(31) ? default(string) : dataReader.GetString(31);
                                instance.<PhoneNumberConfirmed>k__BackingField = dataReader.GetBoolean(32);
                                instance.<SecurityStamp>k__BackingField = dataReader.IsDBNull(33) ? default(string) : dataReader.GetString(33);
                                instance.<TwoFactorEnabled>k__BackingField = dataReader.GetBoolean(34);
                                instance.<UserName>k__BackingField = dataReader.IsDBNull(35) ? default(string) : dataReader.GetString(35);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext3.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Identity.User")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(User)
                }
                ;
                entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType3, 
                    entity: instance3, 
                    snapshot: shadowSnapshot3);
                return instance3;
            } : default(void);
            return instance3;
        };
        ShaperProcessingExpressionVisitor.IncludeReference<ReturnedRental, ReturnedRental, Book>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: ReturnedRental.Book (Book) ToPrincipal Book | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Entities.ReturnedRental").FindNavigation("Book")], 
            inverseNavigation: default(INavigation), 
            fixup: (namelessParameter{10}, namelessParameter{11}) => 
            {
                return namelessParameter{10}.<Book>k__BackingField = namelessParameter{11};
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<ReturnedRental, ReturnedRental, User>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: ReturnedRental.Customer (User) ToPrincipal User | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("LibraryManagementSystem.Data.Entities.ReturnedRental").FindNavigation("Customer")], 
            inverseNavigation: default(INavigation), 
            fixup: (namelessParameter{13}, namelessParameter{14}) => 
            {
                return namelessParameter{13}.<Customer>k__BackingField = namelessParameter{14};
            }, 
            trackingQuery: True);
        return entity;
    }, 
    contextType: LibraryManagmentSystem.Data.LibraryContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)' 
2025-09-18 16:04:28.5651|20000|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opening connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 16:04:28.6048|20001|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Opened connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 16:04:28.6048|20103|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Creating DbCommand for 'ExecuteReader'. 
2025-09-18 16:04:28.6048|20104|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Created DbCommand for 'ExecuteReader' (0ms). 
2025-09-18 16:04:28.6048|20106|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Initialized DbCommand for 'ExecuteReader' (0ms). 
2025-09-18 16:04:28.6048|20100|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[BookId], [r].[BookTitle], [r].[CustomerId], [r].[CustomerName], [r].[Price], [r].[Quantity], [r].[RentedAt], [r].[ReturnedAt], [b].[Id], [b].[CreatedAt], [b].[Description], [b].[LastModifiedAt], [b].[LastModifiedBy], [b].[Price], [b].[PublisherId], [b].[Quantity], [b].[Title], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateCreated], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [ReturnedRentals] AS [r]
INNER JOIN [Books] AS [b] ON [r].[BookId] = [b].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [r].[CustomerId] = [a].[Id] 
2025-09-18 16:04:28.6233|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[BookId], [r].[BookTitle], [r].[CustomerId], [r].[CustomerName], [r].[Price], [r].[Quantity], [r].[RentedAt], [r].[ReturnedAt], [b].[Id], [b].[CreatedAt], [b].[Description], [b].[LastModifiedAt], [b].[LastModifiedBy], [b].[Price], [b].[PublisherId], [b].[Quantity], [b].[Title], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateCreated], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [ReturnedRentals] AS [r]
INNER JOIN [Books] AS [b] ON [r].[BookId] = [b].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [r].[CustomerId] = [a].[Id] 
2025-09-18 16:04:28.6233|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'ReturnedRental.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:04:28.6233|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'ReturnedRental' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:04:28.6233|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'ReturnedRental' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:04:28.6233|10805|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|The navigation 'ReturnedRental.Book' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:04:28.6233|10806|DEBUG|Microsoft.EntityFrameworkCore.ChangeTracking|Context 'LibraryContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2025-09-18 16:04:28.6233|20301|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|Closing data reader to 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 16:04:28.6233|20300|DEBUG|Microsoft.EntityFrameworkCore.Database.Command|A data reader for 'LibraryDb' on server 'LAPTOP-4LPUPLC4' is being disposed after spending 2ms reading results. 
2025-09-18 16:04:28.6233|20002|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closing connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 16:04:28.6233|20003|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Closed connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4' (0ms). 
2025-09-18 16:04:33.8731|103|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action method LibraryManagementSystem.API.Controllers.ReportsController.ExportRentals (LibraryManagementSystem.API), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 5438.8836ms. 
2025-09-18 16:04:33.8731|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 16:04:33.8731|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2025-09-18 16:04:33.8731|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 16:04:33.8731|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2025-09-18 16:04:33.8731|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 16:04:33.8731|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 16:04:33.8731|5|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Before executing action result Microsoft.AspNetCore.Mvc.FileContentResult. 
2025-09-18 16:04:33.8731|2|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor|Executing FileContentResult, sending file with download name 'BookRentals_20250918130433.xlsx' ... 
2025-09-18 16:04:33.8831|38|DEBUG|Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor|The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'. 
2025-09-18 16:04:33.8831|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMCPI580J" sending HEADERS frame for stream ID 1 with length 239 and flags END_HEADERS. 
2025-09-18 16:04:33.8831|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMCPI580J" sending DATA frame for stream ID 1 with length 7342 and flags NONE. 
2025-09-18 16:04:33.9003|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMCPI580J" received WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2025-09-18 16:04:33.9003|37|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMCPI580J" received WINDOW_UPDATE frame for stream ID 1 with length 4 and flags 0x0. 
2025-09-18 16:04:33.9003|6|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|After executing action result Microsoft.AspNetCore.Mvc.FileContentResult. 
2025-09-18 16:04:33.9003|52|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 16:04:33.9003|53|TRACE|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2025-09-18 16:04:33.9003|105|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action LibraryManagementSystem.API.Controllers.ReportsController.ExportRentals (LibraryManagementSystem.API) in 5474.0474ms 
2025-09-18 16:04:33.9003|1|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'LibraryManagementSystem.API.Controllers.ReportsController.ExportRentals (LibraryManagementSystem.API)' 
2025-09-18 16:04:33.9003|10407|DEBUG|Microsoft.EntityFrameworkCore.Infrastructure|'LibraryContext' disposed. 
2025-09-18 16:04:33.9003|49|TRACE|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMCPI580J" sending DATA frame for stream ID 1 with length 0 and flags END_STREAM. 
2025-09-18 16:04:33.9003|20007|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposing connection to database 'LibraryDb' on server 'LAPTOP-4LPUPLC4'. 
2025-09-18 16:04:33.9003|20008|DEBUG|Microsoft.EntityFrameworkCore.Database.Connection|Disposed connection to database '' on server '' (0ms). 
2025-09-18 16:04:33.9003|2|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7143/api/Reports/export-rentals - 200 7342 application/vnd.openxmlformats-officedocument.spreadsheetml.sheet 5480.5058ms 
2025-09-18 16:04:40.5850|6|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMMCPI580J" received FIN. 
2025-09-18 16:04:40.5850|48|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Http2|Connection id "0HNFMMCPI580J" is closed. The last processed stream ID was 1. 
2025-09-18 16:04:40.5850|7|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets|Connection id "0HNFMMCPI580J" sending FIN because: "The Socket transport's send loop completed gracefully." 
2025-09-18 16:04:40.5850|62|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Http2|The connection queue processing loop for 0HNFMMCPI580J completed. 
2025-09-18 16:04:40.5850|2|DEBUG|Microsoft.AspNetCore.Server.Kestrel.Connections|Connection id "0HNFMMCPI580J" stopped. 
